<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>吴文洁</title>
  
  <subtitle>Garden of Eden 自由 平等 尊重</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://wuwenjie.tk/"/>
  <updated>2019-11-02T19:09:36.716Z</updated>
  <id>http://wuwenjie.tk/</id>
  
  <author>
    <name>wuwenjie</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>[转]古汉语-论语-子路</title>
    <link href="http://wuwenjie.tk/2019/11/03/2019-11-03-%E8%BD%AC-%E5%8F%A4%E6%B1%89%E8%AF%AD-%E8%AE%BA%E8%AF%AD-%E5%AD%90%E8%B7%AF/"/>
    <id>http://wuwenjie.tk/2019/11/03/2019-11-03-转-古汉语-论语-子路/</id>
    <published>2019-11-02T22:12:56.000Z</published>
    <updated>2019-11-02T19:09:36.716Z</updated>
    
    <content type="html"><![CDATA[<ul><li>原文：王力《古代汉语》一册三单元《论语》子路</li></ul><h2 id="（十二）子路"><a href="#（十二）子路" class="headerlink" title="（十二）子路"></a>（十二）子路</h2><h3 id="1-子路曰：”衛君待子而為政，子將奚先-1-？”子曰：”必也，正名乎-2-？”子路曰：”有是哉，子之迂（-yu）也-3-！奚其正-4-？”子曰：”野哉由也-5-！君子於其所不知，蓋闕（que）如也-6-。名不正，則言不順。言不順則事不成-7-。事不成，則禮樂不興-8-。禮樂（yue）不興，則刑罰不中-zhong-9-。刑罰不中，則民無所措手足-10-。故君子名之必可言也，言之必可行也。君子於其言，無所苟而已矣-11-。”"><a href="#1-子路曰：”衛君待子而為政，子將奚先-1-？”子曰：”必也，正名乎-2-？”子路曰：”有是哉，子之迂（-yu）也-3-！奚其正-4-？”子曰：”野哉由也-5-！君子於其所不知，蓋闕（que）如也-6-。名不正，則言不順。言不順則事不成-7-。事不成，則禮樂不興-8-。禮樂（yue）不興，則刑罰不中-zhong-9-。刑罰不中，則民無所措手足-10-。故君子名之必可言也，言之必可行也。君子於其言，無所苟而已矣-11-。”" class="headerlink" title="(1)子路曰：”衛君待子而為政，子將奚先[1]？”子曰：”必也，正名乎[2]？”子路曰：”有是哉，子之迂（ yū）也[3]！奚其正[4]？”子曰：”野哉由也[5]！君子於其所不知，蓋闕（quē）如也[6]。名不正，則言不順。言不順則事不成[7]。事不成，則禮樂不興[8]。禮樂（yuè）不興，則刑罰不中(zhòng)[9]。刑罰不中，則民無所措手足[10]。故君子名之必可言也，言之必可行也。君子於其言，無所苟而已矣[11]。”"></a>(1)子路曰：”衛君待子而為政，子將奚先[1]？”子曰：”必也，正名乎[2]？”子路曰：”有是哉，子之迂（ yū）也[3]！奚其正[4]？”子曰：”野哉由也[5]！君子於其所不知，蓋闕（quē）如也[6]。<strong>名不正，則言不順。</strong>言不順則事不成[7]。事不成，則禮樂不興[8]。禮樂（yuè）不興，則刑罰不中(zhòng)[9]。刑罰不中，則民無所措手足[10]。故君子名之必可言也，言之必可行也。君子於其言，無所苟而已矣[11]。”</h3><p><img src="/images/Zhong_You_Zilu.jpg" alt="子路"></p><a id="more"></a><ul><li>[1]奚，何。奚先，先做什么？</li><li>[2]正，使动用法。名，名称，名分。正名，使名分正。儒家按照自己的标准，要求社会上的人各从其类，各守其位，行事都合乎他的名分。</li><li>[3]迂，远，这里指远离实践。后代凡脱离实际，而只知道搬书本，都叫做迂。这句的大意是，你竟然迂到了这种程度。“子之迂（ yū）也”是主语，“有是哉”是谓语。</li><li>[4]为什么要“正”？意思是没有正名的必要。其，句中语气词，加强反问语气。</li><li>[5]野，鄙陋。</li><li>[6]蓋，句首语气词，大概，实际上表示肯定。闕，通缺。如，词尾。闕如，存疑，即闕而不论。</li><li>[7]事，政事。</li><li>[8]禮樂,指教化。興，盛。</li><li>[9]不中，不得当。</li><li>[10]措，放。不知如何是好。</li><li>[11]苟,不严肃。</li></ul><h3 id="2-子曰：”其身正，不令而行；其身不正，雖令不從。”"><a href="#2-子曰：”其身正，不令而行；其身不正，雖令不從。”" class="headerlink" title="(2)子曰：”其身正，不令而行；其身不正，雖令不從。”"></a>(2)子曰：”其身正，不令而行；其身不正，雖令不從。”</h3><h3 id="3-子適衛，冉有僕-1-。子曰：”庶矣哉-2-！”冉有曰：”既庶矣，又何加焉-3-？”曰：”富之。”曰：”既富矣，又何加焉？”曰：”教之。”"><a href="#3-子適衛，冉有僕-1-。子曰：”庶矣哉-2-！”冉有曰：”既庶矣，又何加焉-3-？”曰：”富之。”曰：”既富矣，又何加焉？”曰：”教之。”" class="headerlink" title="(3)子適衛，冉有僕[1]。子曰：”庶矣哉[2]！”冉有曰：”既庶矣，又何加焉[3]？”曰：”富之。”曰：”既富矣，又何加焉？”曰：”教之。”"></a>(3)子適衛，冉有僕[1]。子曰：”庶矣哉[2]！”冉有曰：”既庶矣，又何加焉[3]？”曰：”富之。”曰：”既富矣，又何加焉？”曰：”教之。”</h3><ul><li>[1]僕，驾车。</li><li>[2]庶，众，人多。</li><li>[3]何加，添加些什么？再办些什么。</li></ul><h3 id="4-子夏為莒-ju-父-fu-宰-1-，問政。子曰：”無欲速-2-，無見小利。欲速則不達-3-，見小利則大事不成。”"><a href="#4-子夏為莒-ju-父-fu-宰-1-，問政。子曰：”無欲速-2-，無見小利。欲速則不達-3-，見小利則大事不成。”" class="headerlink" title="(4)子夏為莒(jǔ)父(fǔ)宰[1]，問政。子曰：”無欲速[2]，無見小利。欲速則不達[3]，見小利則大事不成。”"></a>(4)子夏為莒(jǔ)父(fǔ)宰[1]，問政。子曰：”無欲速[2]，無見小利。欲速則不達[3]，見小利則大事不成。”</h3><ul><li>[1]莒(jǔ)父(fǔ)，鲁邑名。宰，相当于县长。</li><li>[2]办事不要企图很快成功。</li><li>[3]达不到目的</li></ul><h3 id="5-子貢問曰：”鄉人皆好-hao-之，何如？”子曰：”未可也。””鄉人皆惡-wu-之，何如？”子曰：”未可也。不如鄉人之善者好之，其不善者惡之。”"><a href="#5-子貢問曰：”鄉人皆好-hao-之，何如？”子曰：”未可也。””鄉人皆惡-wu-之，何如？”子曰：”未可也。不如鄉人之善者好之，其不善者惡之。”" class="headerlink" title="(5)子貢問曰：”鄉人皆好(hào)之，何如？”子曰：”未可也。””鄉人皆惡(wù)之，何如？”子曰：”未可也。不如鄉人之善者好之，其不善者惡之。”"></a>(5)子貢問曰：”鄉人皆好(hào)之，何如？”子曰：”未可也。””鄉人皆惡(wù)之，何如？”子曰：”未可也。不如鄉人之善者好之，其不善者惡之。”</h3>]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;&lt;li&gt;原文：王力《古代汉语》一册三单元《论语》子路&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;（十二）子路&quot;&gt;&lt;a href=&quot;#（十二）子路&quot; class=&quot;headerlink&quot; title=&quot;（十二）子路&quot;&gt;&lt;/a&gt;（十二）子路&lt;/h2&gt;&lt;h3 id=&quot;1-子路曰：”衛君待子而為政，子將奚先-1-？”子曰：”必也，正名乎-2-？”子路曰：”有是哉，子之迂（-yu）也-3-！奚其正-4-？”子曰：”野哉由也-5-！君子於其所不知，蓋闕（que）如也-6-。名不正，則言不順。言不順則事不成-7-。事不成，則禮樂不興-8-。禮樂（yue）不興，則刑罰不中-zhong-9-。刑罰不中，則民無所措手足-10-。故君子名之必可言也，言之必可行也。君子於其言，無所苟而已矣-11-。”&quot;&gt;&lt;a href=&quot;#1-子路曰：”衛君待子而為政，子將奚先-1-？”子曰：”必也，正名乎-2-？”子路曰：”有是哉，子之迂（-yu）也-3-！奚其正-4-？”子曰：”野哉由也-5-！君子於其所不知，蓋闕（que）如也-6-。名不正，則言不順。言不順則事不成-7-。事不成，則禮樂不興-8-。禮樂（yue）不興，則刑罰不中-zhong-9-。刑罰不中，則民無所措手足-10-。故君子名之必可言也，言之必可行也。君子於其言，無所苟而已矣-11-。”&quot; class=&quot;headerlink&quot; title=&quot;(1)子路曰：”衛君待子而為政，子將奚先[1]？”子曰：”必也，正名乎[2]？”子路曰：”有是哉，子之迂（ yū）也[3]！奚其正[4]？”子曰：”野哉由也[5]！君子於其所不知，蓋闕（quē）如也[6]。名不正，則言不順。言不順則事不成[7]。事不成，則禮樂不興[8]。禮樂（yuè）不興，則刑罰不中(zhòng)[9]。刑罰不中，則民無所措手足[10]。故君子名之必可言也，言之必可行也。君子於其言，無所苟而已矣[11]。”&quot;&gt;&lt;/a&gt;(1)子路曰：”衛君待子而為政，子將奚先[1]？”子曰：”必也，正名乎[2]？”子路曰：”有是哉，子之迂（ yū）也[3]！奚其正[4]？”子曰：”野哉由也[5]！君子於其所不知，蓋闕（quē）如也[6]。&lt;strong&gt;名不正，則言不順。&lt;/strong&gt;言不順則事不成[7]。事不成，則禮樂不興[8]。禮樂（yuè）不興，則刑罰不中(zhòng)[9]。刑罰不中，則民無所措手足[10]。故君子名之必可言也，言之必可行也。君子於其言，無所苟而已矣[11]。”&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/images/Zhong_You_Zilu.jpg&quot; alt=&quot;子路&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="国学" scheme="http://wuwenjie.tk/categories/%E5%9B%BD%E5%AD%A6/"/>
    
    
      <category term="国学" scheme="http://wuwenjie.tk/tags/%E5%9B%BD%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>[转]Nginx原理</title>
    <link href="http://wuwenjie.tk/2019/10/26/2019-10-26-%E8%BD%AC-Nginx%E5%8E%9F%E7%90%86/"/>
    <id>http://wuwenjie.tk/2019/10/26/2019-10-26-转-Nginx原理/</id>
    <published>2019-10-26T11:56:34.000Z</published>
    <updated>2019-10-25T20:47:15.259Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Nginx-的进程模型"><a href="#Nginx-的进程模型" class="headerlink" title="Nginx 的进程模型"></a>Nginx 的进程模型</h2><ul><li>原文：<a href="http://ningg.top/nginx-series-principle/" target="_blank" rel="noopener">http://ningg.top/nginx-series-principle/</a></li><li>作者公众号：ningg</li><li>原文发表于2015-04-15，所以Nginx可能有所改变。</li></ul><p><img src="/images/nginx-multi-progress-model.png" alt="tree"></p><p>Nginx 服务器，正常运行过程中：</p><ul><li><ol><li><strong>多进程</strong>：一个Master进程、多个 Worker 进程</li></ol></li><li><ol start="2"><li><strong>Master进程</strong>：管理 Worker 进程<ul><li>对外接口：接收外部的操作（信号）</li><li>对内转发：根据外部的操作的不同，通过信号管理 Worker</li><li>监控：监控 worker 进程的运行状态，worker 进程异常终止后，自动重启 worker 进程</li></ul></li></ol></li><li><ol start="3"><li><strong>Worker进程</strong>：所有 Worker 进程都是平等的<ul><li>实际处理：网络请求，由 Worker 进程处理；</li><li>Worker 进程数量：在 nginx.conf 中配置，一般设置为核心数，充分利用 CPU 资源，同时，避免进程数量过多，避免进程竞争 CPU 资源，增加上下文切换的损耗。</li></ul></li></ol></li></ul><a id="more"></a><p>思考：</p><p>请求是连接到 Nginx，Master 进程负责处理和转发？<br>如何选定哪个 Worker 进程处理请求？请求的处理结果，是否还要经过 Master 进程？</p><p><img src="/images/nginx-master-worker-details.png" alt="tree"></p><p><strong>HTTP 连接建立和请求处理过程</strong>：</p><ul><li>1.Nginx 启动时，Master 进程，加载配置文件</li><li>2.Master 进程，初始化监听的 socket</li><li>3.Master 进程，fork 出多个 Worker 进程</li><li>4.Worker 进程，竞争新的连接，获胜方通过三次握手，建立 Socket 连接，并处理请求</li></ul><p><strong>Nginx 高性能、高并发</strong>：</p><ul><li>1.Nginx 采用：多进程 + 异步非阻塞方式（IO 多路复用 epoll）</li><li>2.请求的完整过程：<ul><li>建立连接</li><li>读取请求：解析请求</li><li>处理请求</li><li>响应请求</li></ul></li><li>3.请求的完整过程，对应到底层，就是：读写 socket 事件</li></ul><h2 id="Nginx-的事件处理模型"><a href="#Nginx-的事件处理模型" class="headerlink" title="Nginx 的事件处理模型"></a>Nginx 的事件处理模型</h2><p>request：Nginx 中 http 请求。</p><p>基本的 HTTP Web Server 工作模式：</p><p>1.接收请求：逐行读取请求行和请求头，判断段有请求体后，读取请求体<br>2.处理请求<br>3.返回响应：根据处理结果，生成相应的 HTTP 请求（响应行、响应头、响应体）</p><p>Nginx 也是这个套路，整体流程一致。</p><p><img src="/images/nginx-request-process-model.png" alt="tree"></p><h2 id="模块化体系结构"><a href="#模块化体系结构" class="headerlink" title="模块化体系结构"></a>模块化体系结构</h2><p><img src="/images/nginx-architecture.png" alt="tree"></p><p>nginx的模块根据其功能基本上可以分为以下几种类型：</p><ul><li><strong>event module</strong>: 搭建了独立于操作系统的事件处理机制的框架，及提供了各具体事件的处理。包括ngx_events_module， ngx_event_core_module和ngx_epoll_module等。nginx具体使用何种事件处理模块，这依赖于具体的操作系统和编译选项。</li><li><strong>phase handler</strong>: 此类型的模块也被直接称为handler模块。主要负责处理客户端请求并产生待响应内容，比如ngx_http_static_module模块，负责客户端的静态页面请求处理并将对应的磁盘文件准备为响应内容输出。</li><li><strong>output filter</strong>: 也称为filter模块，主要是负责对输出的内容进行处理，可以对输出进行修改。例如，可以实现对输出的所有html页面增加预定义的footbar一类的工作，或者对输出的图片的URL进行替换之类的工作。</li><li><strong>upstream</strong>: upstream模块实现反向代理的功能，将真正的请求转发到后端服务器上，并从后端服务器上读取响应，发回客户端。upstream模块是一种特殊的handler，只不过响应内容不是真正由自己产生的，而是从后端服务器上读取的。</li><li><strong>load-balancer</strong>: 负载均衡模块，实现特定的算法，在众多的后端服务器中，选择一个服务器出来作为某个请求的转发服务器。</li></ul><h2 id="常见问题剖析"><a href="#常见问题剖析" class="headerlink" title="常见问题剖析"></a>常见问题剖析</h2><h2 id="Nginx-vs-Apache"><a href="#Nginx-vs-Apache" class="headerlink" title="Nginx vs. Apache"></a>Nginx vs. Apache</h2><p>nginx vs. apache：<a href="http://www.oschina.net/translate/nginx-vs-apache" target="_blank" rel="noopener">http://www.oschina.net/translate/nginx-vs-apache</a></p><p><strong>网络 IO 模型</strong>：</p><ul><li>1.nginx：IO 多路复用，epoll(freebsd 上是 kqueue )<ul><li>高性能</li><li>高并发</li><li>占用系统资源少</li></ul></li><li>2.apache：阻塞 + 多进程/多线程<ul><li>更稳定，bug 少</li><li>模块更丰富</li></ul></li></ul><p>场景：</p><p>处理多个请求时，可以采用：IO 多路复用 或者 阻塞 IO +多线程</p><ul><li><strong>IO 多路服用</strong>：一个 线程，跟踪多个 socket 状态，哪个就绪，就读写哪个；</li><li><strong>阻塞 IO + 多线程</strong>：每一个请求，新建一个服务线程</li></ul><p>思考：IO 多路复用 和 多线程 的适用场景？</p><ul><li><strong>IO 多路复用</strong>：单个连接的请求处理速度没有优势，适合 IO 密集型 场景，事件驱动<ul><li>大并发量：只使用一个线程，处理大量的并发请求，降低上下文环境切换损耗，也不需要考虑并发问题，相对可以处理更多的请求；</li><li>消耗更少的系统资源（不需要线程调度开销）</li><li>适用于长连接的情况（多线程模式长连接容易造成线程过多，造成频繁调度）</li></ul></li><li><strong>阻塞IO + 多线程</strong>：实现简单，可以不依赖系统调用，适合 CPU 密集型 场景<ul><li>每个线程，都需要时间和空间；</li><li>线程数量增长时，线程调度开销指数增长</li></ul></li></ul><h2 id="Nginx-最大连接数"><a href="#Nginx-最大连接数" class="headerlink" title="Nginx 最大连接数"></a>Nginx 最大连接数</h2><p>基础背景：</p><ul><li>Nginx 是多进程模型，Worker 进程用于处理请求；</li><li>单个进程的连接数（文件描述符 fd），有上限（nofile）：ulimit -n</li><li>Nginx 上配置单个 worker 进程的最大连接数：worker_connections 上限为 nofile</li><li>Nginx 上配置 worker 进程的数量：worker_processes</li></ul><p>因此，Nginx 的最大连接数：</p><ul><li>Nginx 的最大连接数：Worker 进程数量 x 单个 Worker 进程的最大连接数</li><li>上面是 Nginx 作为通用服务器时，最大的连接数</li><li>Nginx 作为反向代理服务器时，能够服务的最大连接数：（Worker 进程数量 x 单个 Worker 进程的最大连接数）/ 2。</li><li>Nginx 反向代理时，会建立 Client 的连接和后端 Web Server 的连接，占用 2 个连接</li></ul><p>思考：</p><p>每打开一个 socket 占用一个 fd<br>为什么，一个进程能够打开的 fd 数量有限制？</p><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><p>HTTP 请求和响应</p><ul><li>HTTP 请求：请求行：method、uri、http version；请求头；请求体</li><li>HTTP 响应：响应行：http version、status code；响应头；响应体</li></ul></li><li><p><strong>IO 模型</strong><br>场景：<br>处理多个请求时，可以采用：IO 多路复用 或者 阻塞 IO +多线程</p></li><li><p><strong>IO 多路服用</strong>：一个 线程，跟踪多个 socket 状态，哪个就绪，就读写哪个；</p></li><li><p>阻塞 IO + 多线程：每一个请求，新建一个服务线程</p></li></ul><p>思考：IO 多路复用 和 多线程 的适用场景？</p><ul><li><strong>IO 多路复用</strong>：单个连接的请求处理速度没有优势<ul><li>大并发量：只使用一个线程，处理大量的并发请求，降低上下文环境切换损耗，也不需要考虑并发问题，相对可以处理更多的请求；</li><li>消耗更少的系统资源（不需要线程调度开销）</li><li>适用于长连接的情况（多线程模式长连接容易造成线程过多，造成频繁调度）</li></ul></li><li><strong>阻塞IO + 多线程</strong>：实现简单，可以不依赖系统调用。<ul><li>每个线程，都需要时间和空间；</li><li>线程数量增长时，线程调度开销指数增长</li></ul></li></ul><p>##select/poll 和 epoll 比较</p><p>select/poll 系统调用：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// select 系统调用</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">select</span><span class="params">(<span class="keyword">int</span> maxfdp,fd_set *readfds,fd_set *writefds,fd_set *errorfds,struct timeval *timeout)</span></span>; </span><br><span class="line"><span class="comment">// poll 系统调用</span></span><br><span class="line">int poll(struct pollfd fds[], nfds_t nfds, int timeout)；</span><br></pre></td></tr></table></figure><p><strong>select</strong>：</p><ul><li>查询 fd_set 中，是否有就绪的 fd，可以设定一个超时时间，当有 fd (File descripter) 就绪或超时返回；</li><li>fd_set 是一个位集合，大小是在编译内核时的常量，默认大小为 1024</li><li>特点：<ul><li>连接数限制，fd_set 可表示的 fd 数量太小了；</li><li>线性扫描：判断 fd 是否就绪，需要遍历一边 fd_set；</li><li>数据复制：用户空间和内核空间，复制连接就绪状态信息</li></ul></li></ul><p><strong>poll</strong>：</p><p>解决了连接数限制：</p><ul><li>poll 中将 select 中的 fd_set 替换成了一个 pollfd 数组</li><li>解决 fd 数量过小的问题</li><li>数据复制：用户空间和内核空间，复制连接就绪状态信息</li></ul><p><strong>epoll： event 事件驱动</strong></p><ul><li>事件机制：避免线性扫描<ul><li>为每个 fd，注册一个监听事件</li><li>fd 变更为就绪时，将 fd 添加到就绪链表</li></ul></li><li>fd 数量：无限制（OS 级别的限制，单个进程能打开多少个 fd）</li></ul><p><strong>select，poll，epoll：</strong></p><ul><li>I/O多路复用的机制；</li><li>I/O多路复用就通过一种机制，可以监视多个描述符，一旦某个描述符就绪（一般是读就绪或者写就绪），能够通知程序进行相应的读写操作。监视多个文件描述符</li><li>但select，poll，epoll本质上都是同步I/O：<ul><li>用户进程负责读写（从内核空间拷贝到用户空间），读写过程中，用户进程是阻塞的；</li><li>异步 IO，无需用户进程负责读写，异步IO，会负责从内核空间拷贝到用户空间；</li></ul></li></ul><p><strong>Nginx 的并发处理能力</strong></p><ul><li>并发连接数，一般优化后，峰值能保持在 1~3w 左右。</li><li>内存和 CPU 核心数不同，会有进一步优化空间。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Nginx-的进程模型&quot;&gt;&lt;a href=&quot;#Nginx-的进程模型&quot; class=&quot;headerlink&quot; title=&quot;Nginx 的进程模型&quot;&gt;&lt;/a&gt;Nginx 的进程模型&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;原文：&lt;a href=&quot;http://ningg.top/nginx-series-principle/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://ningg.top/nginx-series-principle/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;作者公众号：ningg&lt;/li&gt;&lt;li&gt;原文发表于2015-04-15，所以Nginx可能有所改变。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;img src=&quot;/images/nginx-multi-progress-model.png&quot; alt=&quot;tree&quot;&gt;&lt;/p&gt;&lt;p&gt;Nginx 服务器，正常运行过程中：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;strong&gt;多进程&lt;/strong&gt;：一个Master进程、多个 Worker 进程&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;li&gt;&lt;ol start=&quot;2&quot;&gt;&lt;li&gt;&lt;strong&gt;Master进程&lt;/strong&gt;：管理 Worker 进程&lt;ul&gt;&lt;li&gt;对外接口：接收外部的操作（信号）&lt;/li&gt;&lt;li&gt;对内转发：根据外部的操作的不同，通过信号管理 Worker&lt;/li&gt;&lt;li&gt;监控：监控 worker 进程的运行状态，worker 进程异常终止后，自动重启 worker 进程&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;li&gt;&lt;ol start=&quot;3&quot;&gt;&lt;li&gt;&lt;strong&gt;Worker进程&lt;/strong&gt;：所有 Worker 进程都是平等的&lt;ul&gt;&lt;li&gt;实际处理：网络请求，由 Worker 进程处理；&lt;/li&gt;&lt;li&gt;Worker 进程数量：在 nginx.conf 中配置，一般设置为核心数，充分利用 CPU 资源，同时，避免进程数量过多，避免进程竞争 CPU 资源，增加上下文切换的损耗。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="nginx" scheme="http://wuwenjie.tk/categories/nginx/"/>
    
    
      <category term="nginx" scheme="http://wuwenjie.tk/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>金融科技与信用卡贷后管理结合的一些畅想</title>
    <link href="http://wuwenjie.tk/2017/03/25/2017-03-25-%E9%87%91%E8%9E%8D%E7%A7%91%E6%8A%80%E4%B8%8E%E4%BF%A1%E7%94%A8%E5%8D%A1%E8%B4%B7%E5%90%8E%E7%AE%A1%E7%90%86%E7%BB%93%E5%90%88%E7%9A%84%E4%B8%80%E4%BA%9B%E7%95%85%E6%83%B3/"/>
    <id>http://wuwenjie.tk/2017/03/25/2017-03-25-金融科技与信用卡贷后管理结合的一些畅想/</id>
    <published>2017-03-24T23:51:02.000Z</published>
    <updated>2019-10-18T20:41:59.985Z</updated>
    
    <content type="html"><![CDATA[<p>如今，用技术驱动金融创新，提升金融服务效率和能力的潮流已经袭来。互联网中新兴的人工智能、大数据、区块链等技术运用在金融领域，进而提高金融服务的品质已是大势所趋。信用卡贷后管理业务作为信贷管理的最终环节，对于确保我行资产安全和防控风险具有极为重要的作用。也有很多与其能够相结合的地方。接下来，先通过几则近期带给我们震撼的科技事件来了解一下。</p><h2 id="一-火热的互联网科技"><a href="#一-火热的互联网科技" class="headerlink" title="一.火热的互联网科技"></a>一.火热的互联网科技</h2><ul><li><p>1.AlphaGo击败李世石<br>人机对抗一直极其容易引爆公众的热点，如同97年IBM的“深蓝”一样，16年由Google 子公司DeepMind开发的人工智能程序AlphaGo，以4：1成功击败了顶尖职业棋手李世石。这一人工智能里程碑式的事件，再一次让公众深刻意识到人工智能具有的无限潜力。今年年初，AlphaGo的新原型又以“Master”的名号在网络上以60连胜横扫了众多顶级棋手。</p></li><li><p>2.语音识别领域AI与人类相差无几<br>近期，微软的AI团队宣布他们成功研发了仅有5.9%的错误率的语音识别技术，这与普通人类水平相差无几，而在10年前语音识别技术的错误率却高达80%左右。可想见在未来，AI技术不仅能知道人们说了什么，而且能理解人们说了什么。</p><a id="more"></a></li><li><p>3.科技巨头增大投入、争抢人才<br>据CB Insights 的报告（THE GLOBAL FINTECH REPORT:2016 IN REVIEW）分析称，全球的fintech创业公司在2016年得到了巨头们超过120亿美元的投资。2016年，国内的金融科技企业也得到了共计46笔，总额达46亿美元的投资,包括陆金所、京东金融、趣分期、51信用卡等公司。从巨大的投融资额上，无疑显示出了资本对该领域的青睐。此外，科技巨头在人工智能的学界招揽人才的事情也屡见不鲜。比如为人熟知的华裔杰出学者吴恩达、李飞飞先后加入百度与谷歌的AI团队。</p></li></ul><h2 id="二、与贷后业务结合的畅想"><a href="#二、与贷后业务结合的畅想" class="headerlink" title="二、与贷后业务结合的畅想"></a>二、与贷后业务结合的畅想</h2><p>贷后业务较为传统的是依照既定指标，使用密集型的劳动去处理大量的贷后业务。然而，为了把业务做轻做好，我们能否通过几个具体的业务场景，让科技与贷后业务紧密地结合，作一些大胆的畅想呢？</p><ul><li><p>1.与客户沟通交流的场景<br>在贷后管理中，对逾期客户进行催收时，经办需记录与客户沟通的内容（MEMO），这个场景是业务中每时每刻都在发生的，这十分适合与智能语音识别、自然语言处理（NLP）等技术相结合。首先，可以运用成熟的语音识别技术实时生成沟通内容， 再通过NLP技术对内容进行抽取、自动摘要等工作将MEMO记录下来。它可以作为一个由繁化简的辅助功能，以提高人员的工作效率。此外，在记录MEMO后，可进行情感分析（Sentiment Analysis），为客户打上个性化标签或者记录下客户的感情反应，为后续建立客户画像，更精细化的服务和管理决策做好数据基础。</p></li><li><p>2.客户失联修复的场景<br>在贷后管理中，当客户逾期阶段达到M2-M3阶段时，经办人员需要非常耗时地寻找客户留存的联系信息，通常这些信息已经难以与客户取得联系，对资产清收带来了极大的难度。这时，我们可利用分布式图数据库(Neo4j、Giraph、Spark GraphX、TITAN DB 等)技术，将客户留存在我行或互联网上公开的信息汇聚起来，依照他们之间的亲疏远近等关系，编织成一张巨大的关系网。这个网络将十分巨大和复杂，比如在Facebook（月活用户16.5亿）的关系网中约有17.1亿个点和数千亿的边。我们能够在这张“天网”中，十分便捷和高效地去寻找到那些客户的蛛丝马迹，进而去触达失联客户与进行清收。</p></li><li><p>3.智能的前期清收</p><p>在客户逾期的前期，处理的客户总量非常多。 当前，我们通过多种较轻的渠道进行客户的逾期通知、提醒还款，具有一定的效果，但功能与力度有限。大胆畅想一下，能否在贷后业务的前期，完全运用智能系统与客户进行交流和清收，进而减少或取代人工的催收作业呢？下面的事件可能会给我们一些启示：日本保险巨头国富生命保险自今年1月开始，使用IBM的Watson Exploer AI系统,取代了近1/3的医疗保险理赔职位，该系统主要负责理赔中整合处理资料的工作。该公司预计每年节省1.4亿日元的薪酬开支，而成本仅是2亿日元的安装费，以及每年1500万的维保费。从自身的贷后业务上说，前期清收的高效化应该一直是我们前进的方向。</p></li><li><p>4.其他场景<br>贷后业务中，仍然有许多可以想象的地方。比如在与外包公司进行委外管理时，可以使用区块链技术，依靠分布式区块链安全可靠、公开透明、自动化等特点，生成格式化的智能合同进行委托与结算佣金。另外，使用大数据流处理框架，将底层系统改造成基于实时的事件或动作处理的模式，为处理海量的、动态变化的案件作系统功能上的支持。后续能够为管理人员提供高效的大数据处理工具，结合各种智能、机器学习的方法，为贷后管理提供具有参考性的建议与依据。<br>现在，我们可以说已经处在这场金融科技带来的大风暴之中了，当前金融业的底层基础正在悄悄发生改变，唯有抓紧这股以技术驱动金融创新的浪潮，优化与改变传统的业务模式，才能继续推动业务轻快好的发展。</p></li><li><p>(这是一篇写于2017年3月的小文章，但就已现在的眼光来看还是有新意的。)</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;如今，用技术驱动金融创新，提升金融服务效率和能力的潮流已经袭来。互联网中新兴的人工智能、大数据、区块链等技术运用在金融领域，进而提高金融服务的品质已是大势所趋。信用卡贷后管理业务作为信贷管理的最终环节，对于确保我行资产安全和防控风险具有极为重要的作用。也有很多与其能够相结合的地方。接下来，先通过几则近期带给我们震撼的科技事件来了解一下。&lt;/p&gt;&lt;h2 id=&quot;一-火热的互联网科技&quot;&gt;&lt;a href=&quot;#一-火热的互联网科技&quot; class=&quot;headerlink&quot; title=&quot;一.火热的互联网科技&quot;&gt;&lt;/a&gt;一.火热的互联网科技&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;1.AlphaGo击败李世石&lt;br&gt;人机对抗一直极其容易引爆公众的热点，如同97年IBM的“深蓝”一样，16年由Google 子公司DeepMind开发的人工智能程序AlphaGo，以4：1成功击败了顶尖职业棋手李世石。这一人工智能里程碑式的事件，再一次让公众深刻意识到人工智能具有的无限潜力。今年年初，AlphaGo的新原型又以“Master”的名号在网络上以60连胜横扫了众多顶级棋手。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;2.语音识别领域AI与人类相差无几&lt;br&gt;近期，微软的AI团队宣布他们成功研发了仅有5.9%的错误率的语音识别技术，这与普通人类水平相差无几，而在10年前语音识别技术的错误率却高达80%左右。可想见在未来，AI技术不仅能知道人们说了什么，而且能理解人们说了什么。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Finance" scheme="http://wuwenjie.tk/categories/Finance/"/>
    
      <category term="RiskManagement" scheme="http://wuwenjie.tk/categories/Finance/RiskManagement/"/>
    
      <category term="AI" scheme="http://wuwenjie.tk/categories/Finance/RiskManagement/AI/"/>
    
    
      <category term="Finance" scheme="http://wuwenjie.tk/tags/Finance/"/>
    
      <category term="RiskManagement" scheme="http://wuwenjie.tk/tags/RiskManagement/"/>
    
      <category term="AI" scheme="http://wuwenjie.tk/tags/AI/"/>
    
  </entry>
  
  <entry>
    <title>改-机器学习-决策树（Python实现）</title>
    <link href="http://wuwenjie.tk/2016/10/02/2017-02-02-gai-ji-qi-xue-xi-jue-ce-shu-python-shi-xian/"/>
    <id>http://wuwenjie.tk/2016/10/02/2017-02-02-gai-ji-qi-xue-xi-jue-ce-shu-python-shi-xian/</id>
    <published>2016-10-02T10:40:00.000Z</published>
    <updated>2017-02-02T12:33:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>###什么是决策树</p><ul><li>决策树（Decision Tree）是一种树型分支结构的决策模型。</li><li>它以信息论中的香浓熵作为基本划分依据。</li><li>它的优势是模型便于理解、分类效果优异、生产上实现简单等。</li><li>著名算法：ID3、C4.5、C5.0、CART等</li><li>R：C50、rpart</li><li>Python: sklearn(tree)</li></ul><p>###效果</p><ul><li><img src="/images/pytrees.png" alt="tree"></li></ul><a id="more"></a><p>###python实现</p><figure class="highlight python"><figcaption><span>trees.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/python </span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> log </span><br><span class="line"></span><br><span class="line"><span class="comment">#计算给定数据集的香农熵</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calcShannonEnt</span><span class="params">(dataSet)</span>:</span></span><br><span class="line">    <span class="comment"># 总的训练数据样本条数</span></span><br><span class="line">numEntries = len(dataSet)</span><br><span class="line"><span class="comment"># 类标签 每条样本所属类别</span></span><br><span class="line">labelCounts=&#123;&#125;</span><br><span class="line"><span class="comment"># 遍历每条样本数据</span></span><br><span class="line"><span class="keyword">for</span> featVec <span class="keyword">in</span> dataSet:</span><br><span class="line"><span class="comment"># 每条最后一列为各自的类别</span></span><br><span class="line">currentLabel = featVec[<span class="number">-1</span>]</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">为所有可能的类别取值建立key value 结构</span></span><br><span class="line"><span class="string">key 类别 value 表示该类出现的次数</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="comment"># 初始化</span></span><br><span class="line"><span class="keyword">if</span> currentLabel <span class="keyword">not</span> <span class="keyword">in</span> labelCounts.keys():labelCounts[currentLabel] = <span class="number">0</span> </span><br><span class="line"><span class="comment"># 出现+1</span></span><br><span class="line">labelCounts[currentLabel] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存信息熵</span></span><br><span class="line">shannonEnt = <span class="number">0.0</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># 样本遍历完毕后 计算各类别的占总样本的比例</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> labelCounts: <span class="comment"># 遍历词典&lt;key,value&gt;</span></span><br><span class="line"><span class="comment"># 计算该类别的比例</span></span><br><span class="line">prob=float(labelCounts[key])/numEntries</span><br><span class="line"><span class="comment"># 计算信息增益，以2为底的对数</span></span><br><span class="line">shannonEnt -= prob* log(prob,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回数据集的熵</span></span><br><span class="line"><span class="keyword">return</span> shannonEnt</span><br><span class="line"></span><br><span class="line"><span class="comment">#计算条件熵，划分数据集 按照给定的特征划分数据集</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">splitDataSet</span><span class="params">(dataSet,axis,value)</span>:</span></span><br><span class="line"><span class="comment"># 定义新变量 保存划分后的数据集</span></span><br><span class="line">retDataSet=[]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历数据集的每条数据</span></span><br><span class="line"><span class="keyword">for</span> featVec <span class="keyword">in</span> dataSet:</span><br><span class="line"><span class="comment"># 符合要求的数据抽取出来存入retDataSet</span></span><br><span class="line"><span class="keyword">if</span> featVec[axis]==value:</span><br><span class="line"><span class="comment"># 除了给定的特征axis和值value，其他整行被保存下来</span></span><br><span class="line">reducedFeatVec=featVec[:axis]</span><br><span class="line">reducedFeatVec.extend(featVec[axis+<span class="number">1</span>:])</span><br><span class="line"><span class="comment">#保存去除该行后的数据</span></span><br><span class="line">retDataSet.append(reducedFeatVec)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回去除制定特征值行的数据 便于计算该条件下的条件熵</span></span><br><span class="line"><span class="keyword">return</span> retDataSet</span><br><span class="line"></span><br><span class="line"><span class="comment"># 选取最好的数据集划分方式 返回最佳特征下标</span></span><br><span class="line"><span class="comment"># 最好的特征即为信息增益最大的特征</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chooseBestFeatureToSplit</span><span class="params">(dataSet)</span>:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#保存特征个数 最后一列为类标签 -1</span></span><br><span class="line">numFeatures = len(dataSet[<span class="number">0</span>])<span class="number">-1</span></span><br><span class="line"><span class="comment"># 计算整个数据集的香农熵</span></span><br><span class="line">baseEntropy = calcShannonEnt(dataSet)</span><br><span class="line"><span class="comment"># 保存最大信息增益值</span></span><br><span class="line">bestInfoGain = <span class="number">0.0</span></span><br><span class="line"><span class="comment"># 保存信息增益最大的特征</span></span><br><span class="line">bestFeature = <span class="number">-1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环遍历数据集中的所有特征</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(numFeatures):</span><br><span class="line"></span><br><span class="line"><span class="comment"># 取得当前特征对应列下的值</span></span><br><span class="line">featList = [example[i] <span class="keyword">for</span> example <span class="keyword">in</span> dataSet]</span><br><span class="line"><span class="comment"># 当前特征对应值去重 每个特征值唯一</span></span><br><span class="line">uniqueVals = set(featList)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存对应特征值的条件熵</span></span><br><span class="line">newEntropy = <span class="number">0.0</span></span><br><span class="line"><span class="comment">#遍历特征值</span></span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> uniqueVals:</span><br><span class="line"><span class="comment">#根据当前特征值划分子集</span></span><br><span class="line">subDataSet = splitDataSet(dataSet,i,value)</span><br><span class="line"><span class="comment"># 计算子集记录数与总记录数 子集比率</span></span><br><span class="line">prob = len(subDataSet)/float(len(dataSet))</span><br><span class="line"><span class="comment"># 计算子集记录的熵</span></span><br><span class="line">newEntropy += prob*calcShannonEnt(subDataSet)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 信息增益 = 数据集的熵 - 数据集划分后的熵</span></span><br><span class="line">infoGain = baseEntropy - newEntropy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 最好的特征即为信息增益最大的特征</span></span><br><span class="line"><span class="keyword">if</span>(infoGain&gt;bestInfoGain):</span><br><span class="line">bestInfoGain = infoGain</span><br><span class="line">bestFeature = i</span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回最好的特征</span></span><br><span class="line"><span class="keyword">return</span> bestFeature</span><br><span class="line"></span><br><span class="line"><span class="comment"># 递归构建决策树</span></span><br><span class="line"><span class="comment"># 其中当所有的特征都用完时，采用多数表决的方法来决定该叶子节点的分类</span></span><br><span class="line"><span class="comment"># 即该叶节点中属于某一类最多的样本数，那么我们就说该叶节点属于那一类！</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">majorityCnt</span><span class="params">(classList)</span>:</span></span><br><span class="line"><span class="comment"># 每个类别出现的次数</span></span><br><span class="line">classCount = &#123;&#125;</span><br><span class="line"><span class="comment"># 遍历数据集中的类别</span></span><br><span class="line"><span class="keyword">for</span> vote <span class="keyword">in</span> classList:</span><br><span class="line"><span class="comment"># 初始类别第一次加入字典</span></span><br><span class="line"><span class="keyword">if</span> vote <span class="keyword">not</span> <span class="keyword">in</span> classCount.keys():classCount[vote]=<span class="number">0</span></span><br><span class="line"><span class="comment"># 记录次数</span></span><br><span class="line">classCount[vote]+=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历结束后 次数value值从大到小排序</span></span><br><span class="line">sortedClassCount = sorted(classCount.iteritems(),key=operator.itemgetter(<span class="number">1</span>),reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 返回数量最多的类别</span></span><br><span class="line"><span class="keyword">return</span> sortedClassCount[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建树（数据集，特征名）</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">createTree</span><span class="params">(dataSet,labels)</span>:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 取出数据集最后一列 训练数据的类标签</span></span><br><span class="line">classList = [example[<span class="number">-1</span>] <span class="keyword">for</span> example <span class="keyword">in</span> dataSet]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 类别完全相同停止划分</span></span><br><span class="line"><span class="keyword">if</span> classList.count(classList[<span class="number">0</span>]) == len(classList):</span><br><span class="line"><span class="keyword">return</span> classList[<span class="number">0</span>]</span><br><span class="line"><span class="comment"># 如果数据集没有特征 返回数据集中数量最多的类别</span></span><br><span class="line"><span class="keyword">if</span> len(dataSet[<span class="number">0</span>]) == <span class="number">1</span>:<span class="keyword">return</span> majorityCnt(classList)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 选取数据集中的最佳划分子集特征</span></span><br><span class="line">bestFeat = chooseBestFeatureToSplit(dataSet)</span><br><span class="line"><span class="comment"># 将该特征名作为树根的节点</span></span><br><span class="line">bestFeatLabel = labels[bestFeat]</span><br><span class="line"></span><br><span class="line"><span class="comment">#print 'bestFeatLabel:'+ str(bestFeatLabel)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始赋值决策树</span></span><br><span class="line">myTree = &#123;bestFeatLabel:&#123;&#125;&#125;</span><br><span class="line"><span class="comment"># 删除已选择的特征名</span></span><br><span class="line"><span class="keyword">del</span>(labels[bestFeat])</span><br><span class="line"></span><br><span class="line"><span class="comment">#取得最后划分特征的下标</span></span><br><span class="line">featValues = [example[bestFeat] <span class="keyword">for</span> example <span class="keyword">in</span> dataSet]</span><br><span class="line">uniqueVals = set(featValues) <span class="comment"># 去重</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#遍历去重后的特征值</span></span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> uniqueVals:</span><br><span class="line"><span class="comment"># 获得除已删除的特征外 其余特征的名称</span></span><br><span class="line">subLabels = labels[:]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"最佳划分特征:"</span>+bestFeatLabel+<span class="string">" 值:"</span>+value</span><br><span class="line"><span class="keyword">print</span> <span class="string">'其余特征:'</span>+ str(subLabels)</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">以当前的特征值划分子集，以子集为参数 递归调用创建树的方法</span></span><br><span class="line"><span class="string">将递归调用的结果作为树节点的一个分枝</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">myTree[bestFeatLabel][value] = \</span><br><span class="line">createTree(splitDataSet(dataSet,bestFeat,value),subLabels)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"树值:"</span>+str(myTree[bestFeatLabel][value])</span><br><span class="line"><span class="keyword">print</span> <span class="string">"树:"</span>+str(myTree)+<span class="string">"\n"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> myTree</span><br><span class="line"></span><br><span class="line"><span class="comment">#预测决策树（树，叶标签，测试数据向量）</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">classify</span><span class="params">(inputTree,featLabels,testVec)</span>:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#树的根节点</span></span><br><span class="line">firstStr = inputTree.keys()[<span class="number">0</span>]</span><br><span class="line"><span class="comment">#树的后续分支</span></span><br><span class="line">secondDict = inputTree[firstStr]</span><br><span class="line"><span class="comment">#叶标签的位置</span></span><br><span class="line">featIndex = featLabels.index(firstStr)</span><br><span class="line"></span><br><span class="line"><span class="comment">#循环查找后续分支</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> secondDict.keys():</span><br><span class="line"><span class="keyword">if</span> testVec[featIndex] == key:</span><br><span class="line"><span class="keyword">if</span> type(secondDict[key]).__name__ == <span class="string">'dict'</span>:</span><br><span class="line">classLabel = classify(secondDict[key],featLabels,testVec)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">classLabel = secondDict[key]</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> classLabel</span><br><span class="line"></span><br><span class="line"><span class="comment">#保存决策树</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">storeTree</span><span class="params">(inputTree,filename)</span>:</span></span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">fw = open(filename,<span class="string">'w'</span>)</span><br><span class="line">pickle.dump(inputTree,fw)</span><br><span class="line">fw.close()</span><br><span class="line"></span><br><span class="line"><span class="comment">#加载决策树</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">grabTree</span><span class="params">(filename)</span>:</span></span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">fr = open(filename)</span><br><span class="line"><span class="keyword">return</span> pickle.load(fr)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">decisionNode = dict(boxstyle=<span class="string">"sawtooth"</span>, fc=<span class="string">"0.8"</span>)</span><br><span class="line">leafNode = dict(boxstyle=<span class="string">"round4"</span>, fc=<span class="string">"0.8"</span>)</span><br><span class="line">arrow_args = dict(arrowstyle=<span class="string">"&lt;-"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取叶节点的数目</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getNumLeafs</span><span class="params">(myTree)</span>:</span></span><br><span class="line">    numLeafs = <span class="number">0</span></span><br><span class="line">    firstStr = myTree.keys()[<span class="number">0</span>]</span><br><span class="line">    secondDict = myTree[firstStr]</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> secondDict.keys():</span><br><span class="line"><span class="comment">#测试节点的数据是否为字典，以此判断是否为叶节点</span></span><br><span class="line">        <span class="keyword">if</span> type(secondDict[key]).__name__==<span class="string">'dict'</span>:</span><br><span class="line">            numLeafs += getNumLeafs(secondDict[key])</span><br><span class="line">        <span class="keyword">else</span>:   numLeafs +=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> numLeafs</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取树的层数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getTreeDepth</span><span class="params">(myTree)</span>:</span></span><br><span class="line">    maxDepth = <span class="number">0</span></span><br><span class="line">    firstStr = myTree.keys()[<span class="number">0</span>]</span><br><span class="line">    secondDict = myTree[firstStr]</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> secondDict.keys():</span><br><span class="line"><span class="comment">#测试节点的数据是否为字典，以此判断是否为叶节点</span></span><br><span class="line">        <span class="keyword">if</span> type(secondDict[key]).__name__==<span class="string">'dict'</span>:</span><br><span class="line">            thisDepth = <span class="number">1</span> + getTreeDepth(secondDict[key])</span><br><span class="line">        <span class="keyword">else</span>:   thisDepth = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> thisDepth &gt; maxDepth: maxDepth = thisDepth</span><br><span class="line">    <span class="keyword">return</span> maxDepth</span><br><span class="line"></span><br><span class="line"><span class="comment">#绘制节点</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plotNode</span><span class="params">(nodeTxt, centerPt, parentPt, nodeType)</span>:</span></span><br><span class="line">    createPlot.ax1.annotate(nodeTxt, xy=parentPt,  xycoords=<span class="string">'axes fraction'</span>,</span><br><span class="line">             xytext=centerPt, textcoords=<span class="string">'axes fraction'</span>,</span><br><span class="line">             va=<span class="string">"center"</span>, ha=<span class="string">"center"</span>, bbox=nodeType, arrowprops=arrow_args )</span><br><span class="line"></span><br><span class="line"><span class="comment">#绘制连接线  </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plotMidText</span><span class="params">(cntrPt, parentPt, txtString)</span>:</span></span><br><span class="line">    xMid = (parentPt[<span class="number">0</span>]-cntrPt[<span class="number">0</span>])/<span class="number">2.0</span> + cntrPt[<span class="number">0</span>]</span><br><span class="line">    yMid = (parentPt[<span class="number">1</span>]-cntrPt[<span class="number">1</span>])/<span class="number">2.0</span> + cntrPt[<span class="number">1</span>]</span><br><span class="line">    createPlot.ax1.text(xMid, yMid, txtString, va=<span class="string">"center"</span>, ha=<span class="string">"center"</span>, rotation=<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#绘制树结构  </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plotTree</span><span class="params">(myTree, parentPt, nodeTxt)</span>:</span></span><br><span class="line"><span class="comment">#if the first key tells you what feat was split on</span></span><br><span class="line">    numLeafs = getNumLeafs(myTree)</span><br><span class="line">    <span class="comment">#this determines the x width of this tree</span></span><br><span class="line">    depth = getTreeDepth(myTree)</span><br><span class="line">    firstStr = myTree.keys()[<span class="number">0</span>] </span><br><span class="line">     <span class="comment">#the text label for this node should be this</span></span><br><span class="line">    cntrPt = (plotTree.xOff + (<span class="number">1.0</span> + float(numLeafs))/<span class="number">2.0</span>/plotTree.totalW, plotTree.yOff)</span><br><span class="line">    plotMidText(cntrPt, parentPt, nodeTxt)</span><br><span class="line">    plotNode(firstStr, cntrPt, parentPt, decisionNode)</span><br><span class="line">    secondDict = myTree[firstStr]</span><br><span class="line">    plotTree.yOff = plotTree.yOff - <span class="number">1.0</span>/plotTree.totalD</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> secondDict.keys():</span><br><span class="line"><span class="comment">#test to see if the nodes are dictonaires, if not they are leaf nodes   </span></span><br><span class="line">        <span class="keyword">if</span> type(secondDict[key]).__name__==<span class="string">'dict'</span>:</span><br><span class="line">            plotTree(secondDict[key],cntrPt,str(key))        <span class="comment">#recursion</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line"><span class="comment">#it's a leaf node print the leaf node</span></span><br><span class="line">            plotTree.xOff = plotTree.xOff + <span class="number">1.0</span>/plotTree.totalW</span><br><span class="line">            plotNode(secondDict[key], (plotTree.xOff, plotTree.yOff), cntrPt, leafNode)</span><br><span class="line">            plotMidText((plotTree.xOff, plotTree.yOff), cntrPt, str(key))</span><br><span class="line">    plotTree.yOff = plotTree.yOff + <span class="number">1.0</span>/plotTree.totalD</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建决策树图形    </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">createPlot</span><span class="params">(inTree)</span>:</span></span><br><span class="line">    fig = plt.figure(<span class="number">1</span>, facecolor=<span class="string">'white'</span>)</span><br><span class="line">    fig.clf()</span><br><span class="line">    axprops = dict(xticks=[], yticks=[])</span><br><span class="line">    createPlot.ax1 = plt.subplot(<span class="number">111</span>, frameon=<span class="literal">False</span>, **axprops)    <span class="comment">#no ticks</span></span><br><span class="line">    <span class="comment">#createPlot.ax1 = plt.subplot(111, frameon=False) #ticks for demo puropses </span></span><br><span class="line">    plotTree.totalW = float(getNumLeafs(inTree))</span><br><span class="line">    plotTree.totalD = float(getTreeDepth(inTree))</span><br><span class="line">    plotTree.xOff = <span class="number">-0.5</span>/plotTree.totalW; plotTree.yOff = <span class="number">1.0</span>;</span><br><span class="line">    plotTree(inTree, (<span class="number">0.5</span>,<span class="number">1.0</span>), <span class="string">''</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">    </span><br><span class="line">    </span><br></pre></td></tr></table></figure><h3 id="测试程序"><a href="#测试程序" class="headerlink" title="测试程序"></a>测试程序</h3><figure class="highlight python"><figcaption><span>trees_test.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># exec(open('trees_test.py').read())</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> trees</span><br><span class="line">fr=open(<span class="string">'lenses.txt'</span>)</span><br><span class="line">lenses = [ inst.strip().split(<span class="string">'\t'</span>) <span class="keyword">for</span> inst <span class="keyword">in</span> fr.readlines()]</span><br><span class="line">lensesLabels = [<span class="string">'age'</span>,<span class="string">'prescript'</span>,<span class="string">'astigmatic'</span>,<span class="string">'terRate'</span>]</span><br><span class="line">lensesTree = trees.createTree(lenses,lensesLabels)</span><br><span class="line"><span class="keyword">print</span> lensesTree</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> trees.classify(lensesTree,[<span class="string">'age'</span>,<span class="string">'prescript'</span>,<span class="string">'astigmatic'</span>,<span class="string">'terRate'</span>],</span><br><span class="line">    [<span class="string">'presbyopic'</span>,<span class="string">'hyper'</span>,<span class="string">'no'</span>,<span class="string">'reduced'</span>])</span><br><span class="line"></span><br><span class="line">trees.createPlot(lensesTree)</span><br></pre></td></tr></table></figure><h3 id="数据文件"><a href="#数据文件" class="headerlink" title="数据文件"></a>数据文件</h3><ul><li>UCI数据集（<a href="http://archive.ics.uci.edu/ml/datasets/Lenses" target="_blank" rel="noopener">隐形眼镜</a>）<figure class="highlight python"><figcaption><span>lenses.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">young    myopenoreducedno_lenses</span><br><span class="line">youngmyopenonormalsoft</span><br><span class="line">youngmyopeyesreducedno_lenses</span><br><span class="line">youngmyopeyesnormalhard</span><br><span class="line">younghypernoreducedno_lenses</span><br><span class="line">younghypernonormalsoft</span><br><span class="line">younghyperyesreducedno_lenses</span><br><span class="line">younghyper   yesnormalhard</span><br><span class="line">premyopenoreducedno_lenses</span><br><span class="line">premyopenonormalsoft</span><br><span class="line">premyopeyesreducedno_lenses</span><br><span class="line">premyopeyesnormalhard</span><br><span class="line">prehypernoreducedno_lenses</span><br><span class="line">prehypernonormalsoft</span><br><span class="line">prehyperyesreducedno_lenses</span><br><span class="line">prehyperyesnormalno_lenses</span><br><span class="line">presbyopicmyopenoreducedno_lenses</span><br><span class="line">presbyopicmyopenonormalno_lenses</span><br><span class="line">presbyopicmyopeyesreducedno_lenses</span><br><span class="line">presbyopicmyopeyesnormalhard</span><br><span class="line">presbyopichypernoreducedno_lenses</span><br><span class="line">presbyopichypernonormalsoft</span><br><span class="line">presbyopichyperyesreducedno_lenses</span><br><span class="line">presbyopichyperyesnormalno_lenses</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###什么是决策树&lt;/p&gt;&lt;ul&gt;&lt;li&gt;决策树（Decision Tree）是一种树型分支结构的决策模型。&lt;/li&gt;&lt;li&gt;它以信息论中的香浓熵作为基本划分依据。&lt;/li&gt;&lt;li&gt;它的优势是模型便于理解、分类效果优异、生产上实现简单等。&lt;/li&gt;&lt;li&gt;著名算法：ID3、C4.5、C5.0、CART等&lt;/li&gt;&lt;li&gt;R：C50、rpart&lt;/li&gt;&lt;li&gt;Python: sklearn(tree)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;###效果&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;img src=&quot;/images/pytrees.png&quot; alt=&quot;tree&quot;&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="python" scheme="http://wuwenjie.tk/categories/python/"/>
    
      <category term="Data mining" scheme="http://wuwenjie.tk/categories/python/Data-mining/"/>
    
      <category term="机器学习" scheme="http://wuwenjie.tk/categories/python/Data-mining/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Maching Learning" scheme="http://wuwenjie.tk/categories/python/Data-mining/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Maching-Learning/"/>
    
    
  </entry>
  
  <entry>
    <title>改-机器学习-决策树（Python实现）</title>
    <link href="http://wuwenjie.tk/2016/10/02/2017-03-19-line/"/>
    <id>http://wuwenjie.tk/2016/10/02/2017-03-19-line/</id>
    <published>2016-10-02T10:40:00.000Z</published>
    <updated>2017-03-19T16:49:27.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="改-机器学习-线性回归（Python实现）"><a href="#改-机器学习-线性回归（Python实现）" class="headerlink" title="改-机器学习-线性回归（Python实现）"></a>改-机器学习-线性回归（Python实现）</h3><h3 id="线性回归"><a href="#线性回归" class="headerlink" title="线性回归"></a>线性回归</h3><ul><li><a href="https://zh.wikipedia.org/wiki/%E7%B7%9A%E6%80%A7%E5%9B%9E%E6%AD%B8" target="_blank" rel="noopener">线性回归</a>（Linear regression）：从小就知道的表达式<code>Y=aX+b</code>，代表了x与y存在线性的关系，不再赘述。</li></ul><h3 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h3><ul><li>使用随机梯度下降法(<a href="https://en.wikipedia.org/wiki/Stochastic_gradient_descent" target="_blank" rel="noopener">stochastic gradient descent</a>)去估计参数.</li><li>SGD是<a href="https://zh.wikipedia.org/wiki/%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%E6%B3%95" target="_blank" rel="noopener">梯度下降法</a>的变种，区别在于训练时样本的使用方法不同.</li><li>它每次使用一个样本去计算当前的梯度并进行参数的更新.</li></ul><h3 id="Python-代码"><a href="#Python-代码" class="headerlink" title="Python 代码"></a>Python 代码</h3><figure class="highlight python"><figcaption><span>trees.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># Make a prediction with coefficients</span></span><br><span class="line"><span class="comment"># 使用参数进行预测</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(row, coefficients)</span>:</span></span><br><span class="line">yhat = coefficients[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(row)<span class="number">-1</span>):</span><br><span class="line">yhat += coefficients[i + <span class="number">1</span>] * row[i]</span><br><span class="line"><span class="keyword">return</span> yhat</span><br><span class="line"> </span><br><span class="line"><span class="comment"># Estimate linear regression coefficients using stochastic gradient descent</span></span><br><span class="line"><span class="comment"># 使用随机梯度下降法估计线性回归模型的系数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">coefficients_sgd</span><span class="params">(train, l_rate, n_epoch)</span>:</span></span><br><span class="line">coef = [<span class="number">0.0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(len(train[<span class="number">0</span>]))]</span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> range(n_epoch):</span><br><span class="line">sum_error = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> train:</span><br><span class="line">yhat = predict(row, coef)</span><br><span class="line">error = yhat - row[<span class="number">-1</span>]</span><br><span class="line">sum_error += error**<span class="number">2</span></span><br><span class="line">coef[<span class="number">0</span>] = coef[<span class="number">0</span>] - l_rate * error</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(row)<span class="number">-1</span>):</span><br><span class="line">coef[i + <span class="number">1</span>] = coef[i + <span class="number">1</span>] - l_rate * error * row[i]</span><br><span class="line">print(<span class="string">'&gt;epoch=%d, lrate=%.3f, error=%.3f'</span> % (epoch, l_rate, sum_error))</span><br><span class="line"><span class="keyword">return</span> coef</span><br><span class="line"> </span><br><span class="line"><span class="comment"># Calculate coefficients 计算系数</span></span><br><span class="line"><span class="comment"># 数据 [x,y] y = x - 0.5</span></span><br><span class="line">dataset = [[<span class="number">3</span>, <span class="number">2.5</span>], [<span class="number">5</span>, <span class="number">4.5</span>], [<span class="number">10</span>, <span class="number">9.5</span>], [<span class="number">11</span>, <span class="number">10.5</span>], [<span class="number">21</span>, <span class="number">20.5</span>]]</span><br><span class="line"><span class="comment"># 学习率</span></span><br><span class="line">l_rate = <span class="number">0.001</span></span><br><span class="line"><span class="comment"># 迭代次数</span></span><br><span class="line">n_epoch = <span class="number">2500</span></span><br><span class="line"><span class="comment"># 进行估计计算</span></span><br><span class="line">coef = coefficients_sgd(dataset, l_rate, n_epoch)</span><br><span class="line">print(coef)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;改-机器学习-线性回归（Python实现）&quot;&gt;&lt;a href=&quot;#改-机器学习-线性回归（Python实现）&quot; class=&quot;headerlink&quot; title=&quot;改-机器学习-线性回归（Python实现）&quot;&gt;&lt;/a&gt;改-机器学习-线性回归（Python实现）&lt;/
      
    
    </summary>
    
    
      <category term="python" scheme="http://wuwenjie.tk/categories/python/"/>
    
      <category term="Data mining" scheme="http://wuwenjie.tk/categories/python/Data-mining/"/>
    
      <category term="机器学习" scheme="http://wuwenjie.tk/categories/python/Data-mining/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Maching Learning" scheme="http://wuwenjie.tk/categories/python/Data-mining/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Maching-Learning/"/>
    
    
  </entry>
  
  <entry>
    <title>改-机器学习-逻辑回归（Python实现）</title>
    <link href="http://wuwenjie.tk/2016/09/05/2017-01-05-gai-ji-qi-xue-xi-luo-ji-hui-gui-pythonshi-xian/"/>
    <id>http://wuwenjie.tk/2016/09/05/2017-01-05-gai-ji-qi-xue-xi-luo-ji-hui-gui-pythonshi-xian/</id>
    <published>2016-09-05T12:51:00.000Z</published>
    <updated>2017-01-05T13:42:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>###简介 什么是逻辑回归（Logistic Regression）</p><ul><li>逻辑回归模型是广泛运用的分类器，它在线性模型基础上，结合了sigmoid函数（S型）而产生的。</li><li>逻辑回归模型优势是使用简便、求解快速、容易理解，所以使用广泛。</li><li>推荐使用：<ul><li>R：glm包（广义线性模型）中选用binomial（二项分布族）</li><li>Python：scikit-learn (sklearn)中选用<a href="http://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html" target="_blank" rel="noopener">linear_model.LogisticRegression</a></li></ul></li></ul><a id="more"></a><p>###python实现</p><figure class="highlight python"><figcaption><span>logRegres.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment">#加载数据</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loadDataSet</span><span class="params">()</span>:</span></span><br><span class="line">    dataMat = []; labelMat = []</span><br><span class="line">fr = open(<span class="string">'testSet.txt'</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fr.readlines():</span><br><span class="line">lineArr = line.strip().split()</span><br><span class="line">dataMat.append([<span class="number">1.0</span>, float(lineArr[<span class="number">0</span>]), float(lineArr[<span class="number">1</span>])])</span><br><span class="line">labelMat.append(int(lineArr[<span class="number">2</span>]))</span><br><span class="line"><span class="keyword">return</span> dataMat,labelMat</span><br><span class="line"></span><br><span class="line"><span class="comment">#计算sigmoid函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(inX)</span>:</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">1.0</span>/(<span class="number">1</span>+exp(-inX))</span><br><span class="line"></span><br><span class="line"><span class="comment">#梯度上升算法-计算回归系数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradAscent</span><span class="params">(dataMatIn, classLabels)</span>:</span></span><br><span class="line">dataMatrix = mat(dataMatIn)  <span class="comment">#转换为numpy数据类型</span></span><br><span class="line">labelMat = mat(classLabels).transpose()</span><br><span class="line">m,n = shape(dataMatrix)</span><br><span class="line">alpha = <span class="number">0.01</span></span><br><span class="line">maxCycles = <span class="number">500</span></span><br><span class="line">weights = ones((n,<span class="number">1</span>))</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(maxCycles):</span><br><span class="line">h = sigmoid(dataMatrix*weights)</span><br><span class="line">error = (labelMat - h)</span><br><span class="line">weights = weights + alpha * dataMatrix.transpose() * error</span><br><span class="line"><span class="keyword">return</span> weights</span><br><span class="line"></span><br><span class="line"><span class="comment">#画出决策边界</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plotBestFit</span><span class="params">(wei)</span>:</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">weights = wei.getA()</span><br><span class="line">dataMat, labelMat = loadDataSet()</span><br><span class="line">dataArr = array(dataMat)</span><br><span class="line">n = shape(dataArr)[<span class="number">0</span>]</span><br><span class="line">xcord1 = []; ycord1 = []</span><br><span class="line">xcord2 = []; ycord2 = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line"><span class="keyword">if</span> int(labelMat[i]) == <span class="number">1</span>:</span><br><span class="line">xcord1.append(dataArr[i,<span class="number">1</span>]); ycord1.append(dataArr[i,<span class="number">2</span>])</span><br><span class="line"><span class="keyword">else</span>: xcord2.append(dataArr[i,<span class="number">1</span>]); ycord2.append(dataArr[i,<span class="number">2</span>])</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">ax.scatter(xcord1, ycord1, s = <span class="number">30</span>, c = <span class="string">'red'</span>, marker=<span class="string">'s'</span>)</span><br><span class="line">ax.scatter(xcord2, ycord2, s = <span class="number">30</span>, c = <span class="string">'green'</span>)</span><br><span class="line">x = arange(<span class="number">-3.0</span>, <span class="number">3.0</span>, <span class="number">0.1</span>)</span><br><span class="line">y = (-weights[<span class="number">0</span>]- weights[<span class="number">1</span>]*x)/weights[<span class="number">2</span>]</span><br><span class="line">ax.plot(x, y)</span><br><span class="line">plt.xlabel(<span class="string">'X1'</span>);</span><br><span class="line">plt.ylabel(<span class="string">'X2'</span>);</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment">#随机梯度上升算法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stocGradAscent0</span><span class="params">(dataMatrix, classLabels,numInter = <span class="number">150</span>)</span>:</span></span><br><span class="line">dataMatrix = array(dataMatrix)</span><br><span class="line">m,n = shape(dataMatrix)</span><br><span class="line">alpha = <span class="number">0.1</span></span><br><span class="line">weights = ones(n)</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(numInter):</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">h = sigmoid(sum(dataMatrix[i] * weights))</span><br><span class="line">error = classLabels[i] - h</span><br><span class="line">weights = weights + alpha * error * dataMatrix[i]</span><br><span class="line"><span class="keyword">return</span> weights</span><br><span class="line"></span><br><span class="line"><span class="comment">#改进的随机梯度上升算法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stocGradAscent1</span><span class="params">(dataMatrix, classLabels, numInter = <span class="number">150</span>)</span>:</span></span><br><span class="line">dataMatrix = array(dataMatrix)</span><br><span class="line">m,n = shape(dataMatrix)</span><br><span class="line">weights = ones(n)</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(numInter):</span><br><span class="line">dataIndex = range(m)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">alpha = <span class="number">4</span> / (<span class="number">1.0</span>+j+i) + <span class="number">0.01</span><span class="comment">#alpha值每次迭代时都进行调整</span></span><br><span class="line">randIndex = int(random.uniform(<span class="number">0</span>, len(dataIndex)))<span class="comment">#随机选取更新</span></span><br><span class="line">h = sigmoid(sum(dataMatrix[randIndex] * weights))</span><br><span class="line">error = classLabels[randIndex] - h</span><br><span class="line"><span class="comment">#print "alpha:"+ str(alpha) + "\trandIndex:" + str(randIndex) + "\th:" + str(h),</span></span><br><span class="line"><span class="comment">#print "\terror:" + str(error)</span></span><br><span class="line"><span class="comment">#weights = weights + alpha * error * dataMatrix[randIndex]</span></span><br><span class="line">mlambda = <span class="number">10</span></span><br><span class="line">weights = weights*(<span class="number">1</span>-alpha*(mlambda/m)) + alpha * error * dataMatrix[randIndex]</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span>[dataIndex[randIndex]]</span><br><span class="line"><span class="keyword">return</span> weights</span><br><span class="line"></span><br><span class="line"><span class="comment">#案例-从疝气病症预测病马的死亡率</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">classifyVector</span><span class="params">(inX, weights)</span>:</span></span><br><span class="line">prob = sigmoid(sum(inX*weights))</span><br><span class="line"><span class="keyword">if</span> prob &gt; <span class="number">0.5</span>: <span class="keyword">return</span> <span class="number">1.0</span></span><br><span class="line"><span class="keyword">else</span>: <span class="keyword">return</span> <span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">colicTest</span><span class="params">()</span>:</span></span><br><span class="line">frTrain = open(<span class="string">'horseColicTraining.txt'</span>)</span><br><span class="line">frTest = open(<span class="string">'horseColicTest.txt'</span>)</span><br><span class="line">trainingSet = []; trainingLabels = []</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> frTrain.readlines():</span><br><span class="line">currLine = line.strip().split(<span class="string">'\t'</span>)</span><br><span class="line">lineArr =[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">21</span>):</span><br><span class="line">lineArr.append(float(currLine[i]))</span><br><span class="line">trainingSet.append(lineArr)</span><br><span class="line">trainingLabels.append(float(currLine[<span class="number">21</span>]))</span><br><span class="line"></span><br><span class="line">trainWeights = stocGradAscent1(trainingSet, trainingLabels, <span class="number">10</span>)</span><br><span class="line"><span class="comment">#trainWeights = stocGradAscent0(trainingSet, trainingLabels,5000)</span></span><br><span class="line">errorCount = <span class="number">0</span>; numTestVec = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> frTest.readlines():</span><br><span class="line">numTestVec += <span class="number">1.0</span></span><br><span class="line">currLine = line.strip().split(<span class="string">'\t'</span>)</span><br><span class="line">lineArr = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">21</span>):</span><br><span class="line">lineArr.append(float(currLine[i]))</span><br><span class="line"><span class="keyword">if</span> int(classifyVector(array(lineArr), trainWeights))!= int(currLine[<span class="number">21</span>]):</span><br><span class="line">errorCount += <span class="number">1</span></span><br><span class="line">errorRate = (float(errorCount)/numTestVec)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (errorRate,trainWeights)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multiTest</span><span class="params">()</span>:</span></span><br><span class="line">numTests = <span class="number">6000</span>;errorSum = <span class="number">0.0</span></span><br><span class="line">min_error = <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(numTests):</span><br><span class="line"></span><br><span class="line">(er,wt) = colicTest()</span><br><span class="line">errorSum += er</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> er &lt; min_error :</span><br><span class="line">min_error = er</span><br><span class="line"><span class="keyword">print</span> <span class="string">"er:%f,wt:%s"</span>%(er,str(wt))</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">'after %d iterations the mini error rate is: %f'</span> %(numTests, min_error)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">trainRight</span><span class="params">()</span>:</span></span><br><span class="line">myWeights = [<span class="number">8.19655178</span>,  <span class="number">11.12727104</span> ,  <span class="number">9.85693272</span>,  <span class="number">-3.77115778</span> ,  <span class="number">0.4234126</span>,</span><br><span class="line">  <span class="number">-7.12006621</span> , <span class="number">-9.03044278</span>, <span class="number">-15.09789776</span>  ,<span class="number">-2.62982192</span> ,<span class="number">-16.55003638</span>,</span><br><span class="line">  <span class="number">-2.37763633</span> ,<span class="number">-14.36786141</span> , <span class="number">18.78190262</span> ,  <span class="number">0.37877785</span> , <span class="number">-8.16171466</span>,</span><br><span class="line">  <span class="number">15.0932786</span>,   <span class="number">-8.45941768</span>,  <span class="number">-0.38117651</span>  , <span class="number">2.02203557</span> , <span class="number">-8.77960815</span>,</span><br><span class="line">  <span class="number">-3.62265693</span>]</span><br><span class="line"></span><br><span class="line">frTrain = open(<span class="string">'horseColicTraining.txt'</span>)</span><br><span class="line">trainingSet = []; trainingLabels = []</span><br><span class="line">errorCount = <span class="number">0</span>; numTestVec = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> frTrain.readlines():</span><br><span class="line">numTestVec += <span class="number">1.0</span></span><br><span class="line">currLine = line.strip().split(<span class="string">'\t'</span>)</span><br><span class="line">lineArr =[]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">21</span>):</span><br><span class="line">lineArr.append(float(currLine[i]))</span><br><span class="line">trainingSet.append(lineArr)</span><br><span class="line">trainingLabels.append(float(currLine[<span class="number">21</span>]))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> classifyVector(array(lineArr), myWeights) - float(currLine[<span class="number">21</span>]) != <span class="number">0</span>:</span><br><span class="line">errorCount += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">'Right:'</span>+str(<span class="number">1</span>-(float(errorCount)/numTestVec))</span><br><span class="line"></span><br><span class="line"><span class="comment">#plotBestFit()</span></span><br><span class="line"><span class="comment">#colicTest()</span></span><br><span class="line">multiTest()</span><br><span class="line"><span class="comment">#trainRight()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>###数据文件</p><figure class="highlight python"><figcaption><span>horseColicTest.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.000000</span>    <span class="number">1.000000</span><span class="number">38.500000</span><span class="number">66.000000</span><span class="number">28.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">45.000000</span><span class="number">8.400000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.200000</span><span class="number">88.000000</span><span class="number">20.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">50.000000</span><span class="number">85.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">40.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">33.000000</span><span class="number">6.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">39.100000</span><span class="number">164.000000</span><span class="number">84.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">48.000000</span><span class="number">7.200000</span><span class="number">3.000000</span><span class="number">5.300000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.300000</span><span class="number">104.000000</span><span class="number">35.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">74.000000</span><span class="number">7.400000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.900000</span><span class="number">48.000000</span><span class="number">16.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">37.000000</span><span class="number">7.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">60.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">44.000000</span><span class="number">8.300000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">80.000000</span><span class="number">36.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">38.000000</span><span class="number">6.200000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">9.000000</span><span class="number">38.300000</span><span class="number">90.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">40.000000</span><span class="number">6.200000</span><span class="number">1.000000</span><span class="number">2.200000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.100000</span><span class="number">66.000000</span><span class="number">12.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">44.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">3.600000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">39.100000</span><span class="number">72.000000</span><span class="number">52.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">50.000000</span><span class="number">7.800000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.200000</span><span class="number">42.000000</span><span class="number">12.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">7.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">9.000000</span><span class="number">38.000000</span><span class="number">92.000000</span><span class="number">28.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">7.200000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.000000</span><span class="number">6.100000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">76.000000</span><span class="number">28.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">46.000000</span><span class="number">81.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.600000</span><span class="number">96.000000</span><span class="number">48.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">4.500000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">45.000000</span><span class="number">6.800000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">0.000000</span><span class="number">128.000000</span><span class="number">36.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">53.000000</span><span class="number">7.800000</span><span class="number">3.000000</span><span class="number">4.700000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">48.000000</span><span class="number">24.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.600000</span><span class="number">64.000000</span><span class="number">21.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">40.000000</span><span class="number">7.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">39.400000</span><span class="number">110.000000</span><span class="number">35.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">55.000000</span><span class="number">8.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.900000</span><span class="number">72.000000</span><span class="number">60.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">46.000000</span><span class="number">6.100000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.400000</span><span class="number">48.000000</span><span class="number">16.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">5.500000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">49.000000</span><span class="number">6.800000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.600000</span><span class="number">42.000000</span><span class="number">34.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">48.000000</span><span class="number">7.200000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.300000</span><span class="number">130.000000</span><span class="number">60.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">50.000000</span><span class="number">70.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.100000</span><span class="number">60.000000</span><span class="number">12.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">51.000000</span><span class="number">65.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">60.000000</span><span class="number">42.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">72.000000</span><span class="number">30.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">43.000000</span><span class="number">7.000000</span><span class="number">2.000000</span><span class="number">3.900000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">48.000000</span><span class="number">12.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">37.000000</span><span class="number">5.500000</span><span class="number">2.000000</span><span class="number">1.300000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.700000</span><span class="number">48.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">45.000000</span><span class="number">76.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.700000</span><span class="number">96.000000</span><span class="number">30.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">66.000000</span><span class="number">7.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.200000</span><span class="number">108.000000</span><span class="number">12.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">52.000000</span><span class="number">8.200000</span><span class="number">3.000000</span><span class="number">7.400000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.200000</span><span class="number">60.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">43.000000</span><span class="number">6.600000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">64.000000</span><span class="number">28.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">49.000000</span><span class="number">8.600000</span><span class="number">2.000000</span><span class="number">6.600000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">100.000000</span><span class="number">30.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">52.000000</span><span class="number">6.600000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">104.000000</span><span class="number">24.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">73.000000</span><span class="number">8.400000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">112.000000</span><span class="number">16.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">51.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">72.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">56.000000</span><span class="number">80.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.600000</span><span class="number">52.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">32.000000</span><span class="number">6.600000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">39.200000</span><span class="number">146.000000</span><span class="number">96.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">88.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">63.000000</span><span class="number">6.500000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">9.000000</span><span class="number">39.000000</span><span class="number">150.000000</span><span class="number">72.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">47.000000</span><span class="number">8.500000</span><span class="number">0.000000</span><span class="number">0.100000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">60.000000</span><span class="number">12.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">47.000000</span><span class="number">7.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">120.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">52.000000</span><span class="number">67.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">35.400000</span><span class="number">140.000000</span><span class="number">24.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">57.000000</span><span class="number">69.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">120.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">60.000000</span><span class="number">6.500000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.900000</span><span class="number">60.000000</span><span class="number">15.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">65.000000</span><span class="number">7.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">48.000000</span><span class="number">16.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">37.000000</span><span class="number">6.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.900000</span><span class="number">80.000000</span><span class="number">44.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">7.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">54.000000</span><span class="number">6.500000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.200000</span><span class="number">84.000000</span><span class="number">48.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">73.000000</span><span class="number">5.500000</span><span class="number">2.000000</span><span class="number">4.100000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.600000</span><span class="number">46.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">49.000000</span><span class="number">9.100000</span><span class="number">1.000000</span><span class="number">1.600000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.400000</span><span class="number">84.000000</span><span class="number">36.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">43.000000</span><span class="number">7.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.600000</span><span class="number">40.000000</span><span class="number">20.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">41.000000</span><span class="number">6.400000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">40.300000</span><span class="number">114.000000</span><span class="number">36.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">7.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">57.000000</span><span class="number">8.100000</span><span class="number">3.000000</span><span class="number">4.500000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.600000</span><span class="number">160.000000</span><span class="number">20.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">38.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">24.000000</span><span class="number">6.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">64.000000</span><span class="number">36.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">42.000000</span><span class="number">7.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">20.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">53.000000</span><span class="number">5.900000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">96.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">60.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">48.000000</span><span class="number">32.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">37.000000</span><span class="number">6.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">60.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">44.000000</span><span class="number">7.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">88.000000</span><span class="number">22.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">64.000000</span><span class="number">8.000000</span><span class="number">1.000000</span><span class="number">6.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">130.000000</span><span class="number">16.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">65.000000</span><span class="number">82.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.000000</span><span class="number">64.000000</span><span class="number">36.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">7.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">44.000000</span><span class="number">7.500000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">60.000000</span><span class="number">36.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">26.000000</span><span class="number">72.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.900000</span><span class="number">72.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">58.000000</span><span class="number">74.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.400000</span><span class="number">54.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">49.000000</span><span class="number">7.200000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">52.000000</span><span class="number">16.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">5.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">55.000000</span><span class="number">7.200000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">48.000000</span><span class="number">12.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">42.000000</span><span class="number">6.300000</span><span class="number">2.000000</span><span class="number">4.100000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.000000</span><span class="number">60.000000</span><span class="number">20.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.500000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">43.000000</span><span class="number">7.600000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">48.000000</span><span class="number">28.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">46.000000</span><span class="number">5.900000</span><span class="number">2.000000</span><span class="number">7.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.700000</span><span class="number">56.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.100000</span><span class="number">52.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">7.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">54.000000</span><span class="number">7.500000</span><span class="number">2.000000</span><span class="number">2.600000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">37.000000</span><span class="number">4.900000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">39.700000</span><span class="number">100.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">48.000000</span><span class="number">57.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.600000</span><span class="number">38.000000</span><span class="number">20.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">37.000000</span><span class="number">68.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.700000</span><span class="number">52.000000</span><span class="number">20.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">33.000000</span><span class="number">77.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">46.000000</span><span class="number">5.900000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">96.000000</span><span class="number">18.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">69.000000</span><span class="number">8.900000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">36.400000</span><span class="number">98.000000</span><span class="number">35.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">47.000000</span><span class="number">6.400000</span><span class="number">3.000000</span><span class="number">3.600000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.300000</span><span class="number">40.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">36.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.100000</span><span class="number">100.000000</span><span class="number">80.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">36.000000</span><span class="number">5.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">0.000000</span><span class="number">24.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">68.000000</span><span class="number">7.800000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">60.000000</span><span class="number">80.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">5.500000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">40.000000</span><span class="number">4.500000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">54.000000</span><span class="number">30.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">45.000000</span><span class="number">6.200000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">88.000000</span><span class="number">40.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">50.000000</span><span class="number">7.700000</span><span class="number">3.000000</span><span class="number">1.400000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">40.000000</span><span class="number">16.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">50.000000</span><span class="number">7.000000</span><span class="number">2.000000</span><span class="number">3.900000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">39.000000</span><span class="number">64.000000</span><span class="number">40.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">42.000000</span><span class="number">7.500000</span><span class="number">2.000000</span><span class="number">2.300000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">42.000000</span><span class="number">10.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">38.000000</span><span class="number">61.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">52.000000</span><span class="number">16.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">53.000000</span><span class="number">86.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">40.300000</span><span class="number">114.000000</span><span class="number">36.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">7.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">57.000000</span><span class="number">8.100000</span><span class="number">3.000000</span><span class="number">4.500000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.800000</span><span class="number">50.000000</span><span class="number">20.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">42.000000</span><span class="number">6.200000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">38.000000</span><span class="number">6.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">48.000000</span><span class="number">30.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">48.000000</span><span class="number">8.600000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.300000</span><span class="number">48.000000</span><span class="number">20.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">41.000000</span><span class="number">69.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">84.000000</span><span class="number">36.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">44.000000</span><span class="number">8.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.100000</span><span class="number">88.000000</span><span class="number">32.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">55.000000</span><span class="number">60.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.700000</span><span class="number">44.000000</span><span class="number">40.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">41.000000</span><span class="number">60.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">39.600000</span><span class="number">108.000000</span><span class="number">51.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">59.000000</span><span class="number">8.000000</span><span class="number">2.000000</span><span class="number">2.600000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">40.000000</span><span class="number">16.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">34.000000</span><span class="number">66.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">60.000000</span><span class="number">20.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">40.000000</span><span class="number">16.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">37.000000</span><span class="number">57.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.000000</span><span class="number">140.000000</span><span class="number">68.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">39.000000</span><span class="number">5.300000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">52.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">5.700000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">48.000000</span><span class="number">6.600000</span><span class="number">1.000000</span><span class="number">3.700000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">70.000000</span><span class="number">36.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">36.000000</span><span class="number">7.300000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">52.000000</span><span class="number">96.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">43.000000</span><span class="number">6.100000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.300000</span><span class="number">50.000000</span><span class="number">32.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">44.000000</span><span class="number">7.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.700000</span><span class="number">60.000000</span><span class="number">32.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">53.000000</span><span class="number">64.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.400000</span><span class="number">84.000000</span><span class="number">40.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">36.000000</span><span class="number">6.600000</span><span class="number">2.000000</span><span class="number">2.800000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">70.000000</span><span class="number">16.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">60.000000</span><span class="number">7.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">40.000000</span><span class="number">16.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">38.000000</span><span class="number">58.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">40.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">39.000000</span><span class="number">56.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">36.800000</span><span class="number">60.000000</span><span class="number">28.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">10.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.400000</span><span class="number">44.000000</span><span class="number">24.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">50.000000</span><span class="number">77.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">40.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">45.000000</span><span class="number">70.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">44.000000</span><span class="number">12.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">42.000000</span><span class="number">65.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">39.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.500000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">6.700000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">36.500000</span><span class="number">78.000000</span><span class="number">30.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">34.000000</span><span class="number">75.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.100000</span><span class="number">56.000000</span><span class="number">20.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">46.000000</span><span class="number">70.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.400000</span><span class="number">54.000000</span><span class="number">66.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">39.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">80.000000</span><span class="number">40.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">67.000000</span><span class="number">10.200000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.700000</span><span class="number">40.000000</span><span class="number">28.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">39.000000</span><span class="number">62.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">64.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">45.000000</span><span class="number">7.500000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.600000</span><span class="number">48.000000</span><span class="number">20.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.000000</span><span class="number">5.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">42.000000</span><span class="number">68.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">41.000000</span><span class="number">7.600000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">33.000000</span><span class="number">6.500000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.400000</span><span class="number">50.000000</span><span class="number">32.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">45.000000</span><span class="number">7.900000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.400000</span><span class="number">84.000000</span><span class="number">20.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">31.000000</span><span class="number">61.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.400000</span><span class="number">49.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">44.000000</span><span class="number">7.600000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">30.000000</span><span class="number">12.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.600000</span><span class="number">88.000000</span><span class="number">36.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">44.000000</span><span class="number">6.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.900000</span><span class="number">40.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">40.000000</span><span class="number">5.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">100.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">59.000000</span><span class="number">6.300000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.100000</span><span class="number">136.000000</span><span class="number">48.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.400000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">33.000000</span><span class="number">4.900000</span><span class="number">2.000000</span><span class="number">2.900000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">46.000000</span><span class="number">5.900000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">48.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">56.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">42.000000</span><span class="number">71.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">60.000000</span><span class="number">32.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">50.000000</span><span class="number">7.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.100000</span><span class="number">44.000000</span><span class="number">9.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">31.000000</span><span class="number">7.300000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">36.000000</span><span class="number">42.000000</span><span class="number">30.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">64.000000</span><span class="number">6.800000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">120.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">57.000000</span><span class="number">4.500000</span><span class="number">3.000000</span><span class="number">3.900000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">48.000000</span><span class="number">28.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">46.000000</span><span class="number">5.900000</span><span class="number">2.000000</span><span class="number">7.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.100000</span><span class="number">84.000000</span><span class="number">40.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">75.000000</span><span class="number">81.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">80.000000</span><span class="number">32.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">50.000000</span><span class="number">80.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">48.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">42.000000</span><span class="number">71.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">44.000000</span><span class="number">12.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">6.500000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">33.000000</span><span class="number">6.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">132.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">6.200000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">57.000000</span><span class="number">8.000000</span><span class="number">0.000000</span><span class="number">5.200000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.700000</span><span class="number">48.000000</span><span class="number">24.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">34.000000</span><span class="number">63.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.900000</span><span class="number">44.000000</span><span class="number">14.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">33.000000</span><span class="number">64.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.300000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">75.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">4.300000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">100.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">68.000000</span><span class="number">64.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.600000</span><span class="number">48.000000</span><span class="number">20.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">50.000000</span><span class="number">7.300000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.800000</span><span class="number">48.000000</span><span class="number">40.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">41.000000</span><span class="number">65.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">48.000000</span><span class="number">20.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">49.000000</span><span class="number">8.300000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.600000</span><span class="number">52.000000</span><span class="number">20.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">36.000000</span><span class="number">6.600000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">60.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">52.000000</span><span class="number">75.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">42.000000</span><span class="number">40.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">12.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">44.000000</span><span class="number">7.500000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">35.000000</span><span class="number">58.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">42.000000</span><span class="number">24.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">40.000000</span><span class="number">8.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">39.500000</span><span class="number">60.000000</span><span class="number">10.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">38.000000</span><span class="number">56.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">66.000000</span><span class="number">20.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">46.000000</span><span class="number">46.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.700000</span><span class="number">76.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">50.000000</span><span class="number">8.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.400000</span><span class="number">120.000000</span><span class="number">48.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">56.000000</span><span class="number">64.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">40.000000</span><span class="number">18.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">43.000000</span><span class="number">5.900000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">44.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">6.300000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.400000</span><span class="number">104.000000</span><span class="number">40.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">6.500000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">55.000000</span><span class="number">8.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">65.000000</span><span class="number">24.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">44.000000</span><span class="number">20.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">35.000000</span><span class="number">7.200000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">39.000000</span><span class="number">86.000000</span><span class="number">16.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">68.000000</span><span class="number">5.800000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">129.000000</span><span class="number">48.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">57.000000</span><span class="number">66.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">104.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">69.000000</span><span class="number">8.600000</span><span class="number">2.000000</span><span class="number">3.400000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">6.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">60.000000</span><span class="number">30.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">48.000000</span><span class="number">66.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">68.000000</span><span class="number">14.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">4.300000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">2.800000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">60.000000</span><span class="number">30.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">45.000000</span><span class="number">70.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">100.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.400000</span><span class="number">84.000000</span><span class="number">30.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">6.500000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">47.000000</span><span class="number">7.500000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">48.000000</span><span class="number">14.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">5.300000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">35.000000</span><span class="number">7.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">0.000000</span><span class="number">24.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">68.000000</span><span class="number">7.800000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">56.000000</span><span class="number">16.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">44.000000</span><span class="number">68.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">68.000000</span><span class="number">32.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">43.000000</span><span class="number">65.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">120.000000</span><span class="number">60.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">54.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.300000</span><span class="number">64.000000</span><span class="number">90.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">39.000000</span><span class="number">6.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.400000</span><span class="number">80.000000</span><span class="number">30.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">32.000000</span><span class="number">6.100000</span><span class="number">3.000000</span><span class="number">4.300000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">60.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">33.000000</span><span class="number">53.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">60.000000</span><span class="number">16.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">30.000000</span><span class="number">6.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.100000</span><span class="number">40.000000</span><span class="number">8.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">23.000000</span><span class="number">6.700000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">9.000000</span><span class="number">0.000000</span><span class="number">100.000000</span><span class="number">44.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">37.000000</span><span class="number">4.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">48.000000</span><span class="number">18.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">48.000000</span><span class="number">74.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">60.000000</span><span class="number">48.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">58.000000</span><span class="number">7.600000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.900000</span><span class="number">88.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">37.000000</span><span class="number">56.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">44.000000</span><span class="number">12.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">42.000000</span><span class="number">64.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">60.000000</span><span class="number">20.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">63.000000</span><span class="number">7.500000</span><span class="number">2.000000</span><span class="number">2.300000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">96.000000</span><span class="number">36.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">70.000000</span><span class="number">8.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">60.000000</span><span class="number">20.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">34.000000</span><span class="number">66.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">60.000000</span><span class="number">40.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">49.000000</span><span class="number">59.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.300000</span><span class="number">48.000000</span><span class="number">12.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">40.000000</span><span class="number">6.600000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">86.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">45.000000</span><span class="number">7.400000</span><span class="number">1.000000</span><span class="number">3.400000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">48.000000</span><span class="number">40.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">41.000000</span><span class="number">55.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.200000</span><span class="number">36.000000</span><span class="number">9.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">35.000000</span><span class="number">5.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.200000</span><span class="number">0.000000</span><span class="number">23.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">36.000000</span><span class="number">6.600000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">100.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">96.000000</span><span class="number">30.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">50.000000</span><span class="number">65.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">45.000000</span><span class="number">8.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">88.000000</span><span class="number">80.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">64.000000</span><span class="number">89.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">44.000000</span><span class="number">10.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">43.000000</span><span class="number">51.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.900000</span><span class="number">68.000000</span><span class="number">20.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">45.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.800000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">86.000000</span><span class="number">24.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">45.000000</span><span class="number">5.500000</span><span class="number">1.000000</span><span class="number">10.100000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.900000</span><span class="number">120.000000</span><span class="number">30.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">47.000000</span><span class="number">6.300000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.600000</span><span class="number">45.000000</span><span class="number">12.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">39.000000</span><span class="number">7.000000</span><span class="number">2.000000</span><span class="number">1.500000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.600000</span><span class="number">56.000000</span><span class="number">32.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">40.000000</span><span class="number">7.000000</span><span class="number">2.000000</span><span class="number">2.100000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">40.000000</span><span class="number">12.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">38.000000</span><span class="number">7.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">76.000000</span><span class="number">18.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">71.000000</span><span class="number">11.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.100000</span><span class="number">40.000000</span><span class="number">36.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">52.000000</span><span class="number">28.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">37.000000</span><span class="number">8.100000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.200000</span><span class="number">88.000000</span><span class="number">58.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">92.000000</span><span class="number">40.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">46.000000</span><span class="number">67.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">112.000000</span><span class="number">13.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">4.500000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">60.000000</span><span class="number">6.300000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.700000</span><span class="number">66.000000</span><span class="number">12.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">31.500000</span><span class="number">6.200000</span><span class="number">2.000000</span><span class="number">1.600000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.800000</span><span class="number">50.000000</span><span class="number">14.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">38.000000</span><span class="number">58.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.400000</span><span class="number">54.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">49.000000</span><span class="number">7.200000</span><span class="number">1.000000</span><span class="number">8.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.200000</span><span class="number">120.000000</span><span class="number">20.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">60.000000</span><span class="number">8.800000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">45.000000</span><span class="number">6.500000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.300000</span><span class="number">90.000000</span><span class="number">40.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">65.000000</span><span class="number">50.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.500000</span><span class="number">120.000000</span><span class="number">70.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">35.000000</span><span class="number">54.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">104.000000</span><span class="number">40.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">39.500000</span><span class="number">92.000000</span><span class="number">28.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">72.000000</span><span class="number">6.400000</span><span class="number">0.000000</span><span class="number">3.600000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">30.000000</span><span class="number">18.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">40.000000</span><span class="number">7.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">72.000000</span><span class="number">30.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">43.000000</span><span class="number">7.000000</span><span class="number">2.000000</span><span class="number">3.900000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">48.000000</span><span class="number">30.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">48.000000</span><span class="number">8.600000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.100000</span><span class="number">52.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">7.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">54.000000</span><span class="number">7.500000</span><span class="number">2.000000</span><span class="number">2.600000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">42.000000</span><span class="number">26.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">36.000000</span><span class="number">6.900000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.900000</span><span class="number">54.000000</span><span class="number">42.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">47.000000</span><span class="number">54.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">36.100000</span><span class="number">88.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">45.000000</span><span class="number">7.000000</span><span class="number">3.000000</span><span class="number">4.800000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.100000</span><span class="number">70.000000</span><span class="number">22.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">36.000000</span><span class="number">65.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">90.000000</span><span class="number">30.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">55.000000</span><span class="number">6.100000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">52.000000</span><span class="number">16.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">43.000000</span><span class="number">8.100000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">36.000000</span><span class="number">32.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">41.000000</span><span class="number">5.900000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.400000</span><span class="number">92.000000</span><span class="number">20.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.200000</span><span class="number">124.000000</span><span class="number">88.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">47.000000</span><span class="number">8.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">96.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">60.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.600000</span><span class="number">68.000000</span><span class="number">32.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">6.500000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">47.000000</span><span class="number">7.200000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.100000</span><span class="number">88.000000</span><span class="number">24.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">41.000000</span><span class="number">4.600000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">108.000000</span><span class="number">60.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">48.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">34.000000</span><span class="number">6.600000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.300000</span><span class="number">100.000000</span><span class="number">51.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">6.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">66.000000</span><span class="number">13.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">36.600000</span><span class="number">42.000000</span><span class="number">18.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">52.000000</span><span class="number">7.100000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.800000</span><span class="number">124.000000</span><span class="number">36.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">50.000000</span><span class="number">7.600000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">112.000000</span><span class="number">24.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">40.000000</span><span class="number">5.300000</span><span class="number">3.000000</span><span class="number">2.600000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">80.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">43.000000</span><span class="number">70.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.800000</span><span class="number">184.000000</span><span class="number">84.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">33.000000</span><span class="number">3.300000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">72.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">35.000000</span><span class="number">65.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.700000</span><span class="number">96.000000</span><span class="number">28.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">7.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">64.000000</span><span class="number">9.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">52.000000</span><span class="number">12.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">36.000000</span><span class="number">61.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">40.800000</span><span class="number">72.000000</span><span class="number">42.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">54.000000</span><span class="number">7.400000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">40.000000</span><span class="number">25.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">37.000000</span><span class="number">69.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.400000</span><span class="number">48.000000</span><span class="number">16.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">39.000000</span><span class="number">6.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">9.000000</span><span class="number">38.600000</span><span class="number">88.000000</span><span class="number">28.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">35.000000</span><span class="number">5.900000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.100000</span><span class="number">75.000000</span><span class="number">36.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">48.000000</span><span class="number">7.400000</span><span class="number">3.000000</span><span class="number">3.200000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">44.000000</span><span class="number">21.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">44.000000</span><span class="number">6.500000</span><span class="number">2.000000</span><span class="number">4.400000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">56.000000</span><span class="number">68.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">40.000000</span><span class="number">6.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.600000</span><span class="number">68.000000</span><span class="number">20.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">38.000000</span><span class="number">6.500000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.300000</span><span class="number">54.000000</span><span class="number">18.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.400000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">44.000000</span><span class="number">7.200000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">42.000000</span><span class="number">20.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">47.000000</span><span class="number">60.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">39.300000</span><span class="number">64.000000</span><span class="number">90.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">6.500000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">39.000000</span><span class="number">6.700000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">60.000000</span><span class="number">50.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.500000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">35.000000</span><span class="number">6.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.700000</span><span class="number">80.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">50.000000</span><span class="number">55.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">100.000000</span><span class="number">30.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">52.000000</span><span class="number">6.600000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.700000</span><span class="number">120.000000</span><span class="number">28.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">65.000000</span><span class="number">7.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">76.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">9.000000</span><span class="number">38.800000</span><span class="number">150.000000</span><span class="number">50.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">6.000000</span><span class="number">2.000000</span><span class="number">5.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">50.000000</span><span class="number">6.200000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">36.000000</span><span class="number">16.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">37.000000</span><span class="number">75.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">36.900000</span><span class="number">50.000000</span><span class="number">40.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">7.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">37.500000</span><span class="number">6.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">40.000000</span><span class="number">16.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.000000</span><span class="number">6.800000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">56.000000</span><span class="number">40.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">7.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">47.000000</span><span class="number">7.200000</span><span class="number">1.000000</span><span class="number">2.500000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.600000</span><span class="number">48.000000</span><span class="number">12.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">36.000000</span><span class="number">67.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">40.000000</span><span class="number">78.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">66.000000</span><span class="number">6.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">70.000000</span><span class="number">16.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">60.000000</span><span class="number">7.500000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.200000</span><span class="number">72.000000</span><span class="number">18.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">35.000000</span><span class="number">6.400000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">54.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">40.000000</span><span class="number">6.800000</span><span class="number">2.000000</span><span class="number">7.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">66.000000</span><span class="number">24.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">5.000000</span><span class="number">40.000000</span><span class="number">6.700000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.800000</span><span class="number">82.000000</span><span class="number">12.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">50.000000</span><span class="number">7.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">9.000000</span><span class="number">39.500000</span><span class="number">84.000000</span><span class="number">30.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">28.000000</span><span class="number">5.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.000000</span><span class="number">50.000000</span><span class="number">36.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">39.000000</span><span class="number">6.600000</span><span class="number">1.000000</span><span class="number">5.300000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.600000</span><span class="number">45.000000</span><span class="number">16.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">43.000000</span><span class="number">58.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">38.900000</span><span class="number">80.000000</span><span class="number">44.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">7.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">54.000000</span><span class="number">6.500000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.000000</span><span class="number">66.000000</span><span class="number">20.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span><span class="number">5.000000</span><span class="number">35.000000</span><span class="number">6.900000</span><span class="number">2.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">78.000000</span><span class="number">24.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">43.000000</span><span class="number">62.000000</span><span class="number">0.000000</span><span class="number">2.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">38.500000</span><span class="number">40.000000</span><span class="number">16.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">37.000000</span><span class="number">67.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">120.000000</span><span class="number">70.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">5.000000</span><span class="number">55.000000</span><span class="number">65.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">37.200000</span><span class="number">72.000000</span><span class="number">24.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">2.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">44.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">3.300000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.500000</span><span class="number">72.000000</span><span class="number">30.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">3.000000</span><span class="number">2.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">3.000000</span><span class="number">5.000000</span><span class="number">60.000000</span><span class="number">6.800000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">36.500000</span><span class="number">100.000000</span><span class="number">24.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">3.000000</span><span class="number">1.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">4.000000</span><span class="number">50.000000</span><span class="number">6.000000</span><span class="number">3.000000</span><span class="number">3.400000</span><span class="number">1.000000</span></span><br><span class="line"><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">37.200000</span><span class="number">40.000000</span><span class="number">20.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">0.000000</span><span class="number">4.000000</span><span class="number">1.000000</span><span class="number">36.000000</span><span class="number">62.000000</span><span class="number">1.000000</span><span class="number">1.000000</span><span class="number">0.000000</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><figcaption><span>horseColicTraining.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>    <span class="number">1</span><span class="number">38.50</span><span class="number">54</span><span class="number">20</span><span class="number">0</span><span class="number">1</span><span class="number">2</span><span class="number">2</span><span class="number">3</span><span class="number">4</span><span class="number">1</span><span class="number">2</span><span class="number">2</span><span class="number">5.90</span><span class="number">0</span><span class="number">2</span><span class="number">42.00</span><span class="number">6.30</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.60</span><span class="number">48</span><span class="number">36</span><span class="number">0</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">3</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">44.00</span><span class="number">6.30</span><span class="number">1</span><span class="number">5.00</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">37.7</span><span class="number">44</span><span class="number">28</span><span class="number">0</span><span class="number">4</span><span class="number">3</span><span class="number">2</span><span class="number">5</span><span class="number">4</span><span class="number">4</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">3</span><span class="number">5</span><span class="number">45</span><span class="number">70</span><span class="number">3</span><span class="number">2</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">37</span><span class="number">56</span><span class="number">24</span><span class="number">3</span><span class="number">1</span><span class="number">4</span><span class="number">2</span><span class="number">4</span><span class="number">4</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">35</span><span class="number">61</span><span class="number">3</span><span class="number">2</span><span class="number">0</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.00</span><span class="number">42</span><span class="number">12</span><span class="number">3</span><span class="number">0</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">2</span><span class="number">37.00</span><span class="number">5.80</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">60</span><span class="number">40</span><span class="number">3</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">4</span><span class="number">0</span><span class="number">3</span><span class="number">2</span><span class="number">0</span><span class="number">0</span><span class="number">5</span><span class="number">42</span><span class="number">72</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.40</span><span class="number">80</span><span class="number">60</span><span class="number">3</span><span class="number">2</span><span class="number">2</span><span class="number">1</span><span class="number">3</span><span class="number">2</span><span class="number">1</span><span class="number">2</span><span class="number">2</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">54.00</span><span class="number">6.90</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.80</span><span class="number">48</span><span class="number">12</span><span class="number">2</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">3</span><span class="number">0</span><span class="number">1</span><span class="number">2</span><span class="number">0</span><span class="number">0</span><span class="number">2</span><span class="number">0</span><span class="number">48.00</span><span class="number">7.30</span><span class="number">1</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.90</span><span class="number">45</span><span class="number">36</span><span class="number">3</span><span class="number">3</span><span class="number">3</span><span class="number">2</span><span class="number">2</span><span class="number">3</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">3</span><span class="number">0</span><span class="number">33.00</span><span class="number">5.70</span><span class="number">3</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">39.00</span><span class="number">84</span><span class="number">12</span><span class="number">3</span><span class="number">1</span><span class="number">5</span><span class="number">1</span><span class="number">2</span><span class="number">4</span><span class="number">2</span><span class="number">1</span><span class="number">2</span><span class="number">7.00</span><span class="number">0</span><span class="number">4</span><span class="number">62.00</span><span class="number">5.90</span><span class="number">2</span><span class="number">2.20</span><span class="number">0</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.20</span><span class="number">60</span><span class="number">24</span><span class="number">3</span><span class="number">1</span><span class="number">3</span><span class="number">2</span><span class="number">3</span><span class="number">3</span><span class="number">2</span><span class="number">3</span><span class="number">3</span><span class="number">0</span><span class="number">4</span><span class="number">4</span><span class="number">53.00</span><span class="number">7.50</span><span class="number">2</span><span class="number">1.40</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">140</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">4</span><span class="number">2</span><span class="number">5</span><span class="number">4</span><span class="number">4</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">5</span><span class="number">30</span><span class="number">69</span><span class="number">0</span><span class="number">0</span><span class="number">0</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">37.90</span><span class="number">120</span><span class="number">60</span><span class="number">3</span><span class="number">3</span><span class="number">3</span><span class="number">1</span><span class="number">5</span><span class="number">4</span><span class="number">4</span><span class="number">2</span><span class="number">2</span><span class="number">7.50</span><span class="number">4</span><span class="number">5</span><span class="number">52.00</span><span class="number">6.60</span><span class="number">3</span><span class="number">1.80</span><span class="number">0</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.00</span><span class="number">72</span><span class="number">36</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">3</span><span class="number">0</span><span class="number">2</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">3</span><span class="number">5</span><span class="number">38.00</span><span class="number">6.80</span><span class="number">2</span><span class="number">2.00</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">9</span><span class="number">38.00</span><span class="number">92</span><span class="number">28</span><span class="number">1</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">2</span><span class="number">3</span><span class="number">0</span><span class="number">7.20</span><span class="number">0</span><span class="number">0</span><span class="number">37.00</span><span class="number">6.10</span><span class="number">1</span><span class="number">1.10</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38.30</span><span class="number">66</span><span class="number">30</span><span class="number">2</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">2</span><span class="number">4</span><span class="number">3</span><span class="number">3</span><span class="number">2</span><span class="number">8.50</span><span class="number">4</span><span class="number">5</span><span class="number">37.00</span><span class="number">6.00</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.50</span><span class="number">48</span><span class="number">24</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">3</span><span class="number">2</span><span class="number">43.00</span><span class="number">6.00</span><span class="number">1</span><span class="number">2.80</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">37.50</span><span class="number">88</span><span class="number">20</span><span class="number">2</span><span class="number">3</span><span class="number">3</span><span class="number">1</span><span class="number">4</span><span class="number">3</span><span class="number">3</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">35.00</span><span class="number">6.40</span><span class="number">1</span><span class="number">0</span><span class="number">0</span></span><br><span class="line"><span class="number">2</span><span class="number">9</span><span class="number">0</span><span class="number">150</span><span class="number">60</span><span class="number">4</span><span class="number">4</span><span class="number">4</span><span class="number">2</span><span class="number">5</span><span class="number">4</span><span class="number">4</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">39.7</span><span class="number">100</span><span class="number">30</span><span class="number">0</span><span class="number">0</span><span class="number">6</span><span class="number">2</span><span class="number">4</span><span class="number">4</span><span class="number">3</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">4</span><span class="number">5</span><span class="number">65</span><span class="number">75</span><span class="number">0</span><span class="number">0</span><span class="number">0</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38.30</span><span class="number">80</span><span class="number">0</span><span class="number">3</span><span class="number">3</span><span class="number">4</span><span class="number">2</span><span class="number">5</span><span class="number">4</span><span class="number">3</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">4</span><span class="number">4</span><span class="number">45.00</span><span class="number">7.50</span><span class="number">2</span><span class="number">4.60</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.50</span><span class="number">40</span><span class="number">32</span><span class="number">3</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">3</span><span class="number">2</span><span class="number">3</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">5</span><span class="number">32.00</span><span class="number">6.40</span><span class="number">1</span><span class="number">1.10</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38.40</span><span class="number">84</span><span class="number">30</span><span class="number">3</span><span class="number">1</span><span class="number">5</span><span class="number">2</span><span class="number">4</span><span class="number">3</span><span class="number">3</span><span class="number">2</span><span class="number">3</span><span class="number">6.50</span><span class="number">4</span><span class="number">4</span><span class="number">47.00</span><span class="number">7.50</span><span class="number">3</span><span class="number">0</span><span class="number">0</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38.10</span><span class="number">84</span><span class="number">44</span><span class="number">4</span><span class="number">0</span><span class="number">4</span><span class="number">2</span><span class="number">5</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">5.00</span><span class="number">0</span><span class="number">4</span><span class="number">60.00</span><span class="number">6.80</span><span class="number">0</span><span class="number">5.70</span><span class="number">0</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.70</span><span class="number">52</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">1</span><span class="number">3</span><span class="number">4.00</span><span class="number">74.00</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.10</span><span class="number">44</span><span class="number">40</span><span class="number">2</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">3</span><span class="number">3</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">1</span><span class="number">3</span><span class="number">35.00</span><span class="number">6.80</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.4</span><span class="number">52</span><span class="number">20</span><span class="number">2</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">2</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">3</span><span class="number">5</span><span class="number">41</span><span class="number">63</span><span class="number">1</span><span class="number">1</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38.20</span><span class="number">60</span><span class="number">0</span><span class="number">1</span><span class="number">0</span><span class="number">3</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">4</span><span class="number">4</span><span class="number">43.00</span><span class="number">6.20</span><span class="number">2</span><span class="number">3.90</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.70</span><span class="number">40</span><span class="number">18</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">3</span><span class="number">2</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">3</span><span class="number">3</span><span class="number">36.00</span><span class="number">3.50</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">39.1</span><span class="number">60</span><span class="number">10</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">2</span><span class="number">3</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">4</span><span class="number">4</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.80</span><span class="number">48</span><span class="number">16</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">4</span><span class="number">3</span><span class="number">43.00</span><span class="number">7.50</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">39.00</span><span class="number">120</span><span class="number">0</span><span class="number">4</span><span class="number">3</span><span class="number">5</span><span class="number">2</span><span class="number">2</span><span class="number">4</span><span class="number">3</span><span class="number">2</span><span class="number">3</span><span class="number">8.00</span><span class="number">0</span><span class="number">0</span><span class="number">65.00</span><span class="number">8.20</span><span class="number">3</span><span class="number">4.60</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38.20</span><span class="number">76</span><span class="number">0</span><span class="number">2</span><span class="number">3</span><span class="number">2</span><span class="number">1</span><span class="number">5</span><span class="number">3</span><span class="number">3</span><span class="number">1</span><span class="number">2</span><span class="number">6.00</span><span class="number">1</span><span class="number">5</span><span class="number">35.00</span><span class="number">6.50</span><span class="number">2</span><span class="number">0.90</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.30</span><span class="number">88</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">6</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38.00</span><span class="number">80</span><span class="number">30</span><span class="number">3</span><span class="number">3</span><span class="number">3</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">6.00</span><span class="number">0</span><span class="number">0</span><span class="number">48.00</span><span class="number">8.30</span><span class="number">0</span><span class="number">4.30</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">2</span><span class="number">3</span><span class="number">3</span><span class="number">1</span><span class="number">3</span><span class="number">6.00</span><span class="number">4</span><span class="number">4</span><span class="number">0</span><span class="number">0</span><span class="number">2</span><span class="number">0</span><span class="number">0</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">37.60</span><span class="number">40</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">2</span><span class="number">2.10</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.50</span><span class="number">44</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">3</span><span class="number">2</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">45.00</span><span class="number">5.80</span><span class="number">2</span><span class="number">1.40</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.2</span><span class="number">42</span><span class="number">16</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">1</span><span class="number">0</span><span class="number">35</span><span class="number">60</span><span class="number">1</span><span class="number">1</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38</span><span class="number">56</span><span class="number">44</span><span class="number">3</span><span class="number">3</span><span class="number">3</span><span class="number">0</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">4</span><span class="number">0</span><span class="number">47</span><span class="number">70</span><span class="number">2</span><span class="number">1</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.30</span><span class="number">45</span><span class="number">20</span><span class="number">3</span><span class="number">3</span><span class="number">2</span><span class="number">2</span><span class="number">2</span><span class="number">4</span><span class="number">1</span><span class="number">2</span><span class="number">0</span><span class="number">0</span><span class="number">4</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">48</span><span class="number">96</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">0</span><span class="number">4</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">1</span><span class="number">4</span><span class="number">42.00</span><span class="number">8.00</span><span class="number">1</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">37.70</span><span class="number">55</span><span class="number">28</span><span class="number">2</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">2</span><span class="number">3</span><span class="number">3</span><span class="number">0</span><span class="number">3</span><span class="number">5.00</span><span class="number">4</span><span class="number">5</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">36.00</span><span class="number">100</span><span class="number">20</span><span class="number">4</span><span class="number">3</span><span class="number">6</span><span class="number">2</span><span class="number">2</span><span class="number">4</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">4</span><span class="number">5</span><span class="number">74.00</span><span class="number">5.70</span><span class="number">2</span><span class="number">2.50</span><span class="number">0</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">37.10</span><span class="number">60</span><span class="number">20</span><span class="number">2</span><span class="number">0</span><span class="number">4</span><span class="number">1</span><span class="number">3</span><span class="number">0</span><span class="number">3</span><span class="number">0</span><span class="number">2</span><span class="number">5.00</span><span class="number">3</span><span class="number">4</span><span class="number">64.00</span><span class="number">8.50</span><span class="number">2</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.10</span><span class="number">114</span><span class="number">40</span><span class="number">3</span><span class="number">0</span><span class="number">3</span><span class="number">2</span><span class="number">2</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">3</span><span class="number">32.00</span><span class="number">0</span><span class="number">3</span><span class="number">6.50</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38.1</span><span class="number">72</span><span class="number">30</span><span class="number">3</span><span class="number">3</span><span class="number">3</span><span class="number">1</span><span class="number">4</span><span class="number">4</span><span class="number">3</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">3</span><span class="number">5</span><span class="number">37</span><span class="number">56</span><span class="number">3</span><span class="number">1</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">37.00</span><span class="number">44</span><span class="number">12</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">4</span><span class="number">2</span><span class="number">40.00</span><span class="number">6.70</span><span class="number">3</span><span class="number">8.00</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38.6</span><span class="number">48</span><span class="number">20</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">4</span><span class="number">3</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">3</span><span class="number">0</span><span class="number">37</span><span class="number">75</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">82</span><span class="number">72</span><span class="number">3</span><span class="number">1</span><span class="number">4</span><span class="number">1</span><span class="number">2</span><span class="number">3</span><span class="number">3</span><span class="number">0</span><span class="number">3</span><span class="number">0</span><span class="number">4</span><span class="number">4</span><span class="number">53</span><span class="number">65</span><span class="number">3</span><span class="number">2</span><span class="number">0</span></span><br><span class="line"><span class="number">1</span><span class="number">9</span><span class="number">38.20</span><span class="number">78</span><span class="number">60</span><span class="number">4</span><span class="number">4</span><span class="number">6</span><span class="number">0</span><span class="number">3</span><span class="number">3</span><span class="number">3</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">1</span><span class="number">0</span><span class="number">59.00</span><span class="number">5.80</span><span class="number">3</span><span class="number">3.10</span><span class="number">0</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.8</span><span class="number">60</span><span class="number">16</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">2</span><span class="number">3</span><span class="number">2</span><span class="number">1</span><span class="number">2</span><span class="number">0</span><span class="number">3</span><span class="number">0</span><span class="number">41</span><span class="number">73</span><span class="number">0</span><span class="number">0</span><span class="number">0</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38.7</span><span class="number">34</span><span class="number">30</span><span class="number">2</span><span class="number">0</span><span class="number">3</span><span class="number">1</span><span class="number">2</span><span class="number">3</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">33</span><span class="number">69</span><span class="number">0</span><span class="number">2</span><span class="number">0</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">36</span><span class="number">12</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">1</span><span class="number">5</span><span class="number">44.00</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.30</span><span class="number">44</span><span class="number">60</span><span class="number">0</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">6.40</span><span class="number">36.00</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.40</span><span class="number">54</span><span class="number">18</span><span class="number">3</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">4</span><span class="number">3</span><span class="number">2</span><span class="number">2</span><span class="number">0</span><span class="number">4</span><span class="number">5</span><span class="number">30.00</span><span class="number">7.10</span><span class="number">2</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">4</span><span class="number">3</span><span class="number">0</span><span class="number">2</span><span class="number">2</span><span class="number">4</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">54</span><span class="number">76</span><span class="number">3</span><span class="number">2</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">36.6</span><span class="number">48</span><span class="number">16</span><span class="number">3</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">4</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">27</span><span class="number">56</span><span class="number">0</span><span class="number">0</span><span class="number">0</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38.5</span><span class="number">90</span><span class="number">0</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">3</span><span class="number">3</span><span class="number">3</span><span class="number">2</span><span class="number">3</span><span class="number">2</span><span class="number">4</span><span class="number">5</span><span class="number">47</span><span class="number">79</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">75</span><span class="number">12</span><span class="number">1</span><span class="number">1</span><span class="number">4</span><span class="number">1</span><span class="number">5</span><span class="number">3</span><span class="number">3</span><span class="number">0</span><span class="number">3</span><span class="number">5.80</span><span class="number">0</span><span class="number">0</span><span class="number">58.00</span><span class="number">8.50</span><span class="number">1</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.20</span><span class="number">42</span><span class="number">0</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">2</span><span class="number">2</span><span class="number">1</span><span class="number">0</span><span class="number">3</span><span class="number">2</span><span class="number">35.00</span><span class="number">5.90</span><span class="number">2</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">9</span><span class="number">38.20</span><span class="number">78</span><span class="number">60</span><span class="number">4</span><span class="number">4</span><span class="number">6</span><span class="number">0</span><span class="number">3</span><span class="number">3</span><span class="number">3</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">1</span><span class="number">0</span><span class="number">59.00</span><span class="number">5.80</span><span class="number">3</span><span class="number">3.10</span><span class="number">0</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.60</span><span class="number">60</span><span class="number">30</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">4</span><span class="number">2</span><span class="number">2</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">40.00</span><span class="number">6.00</span><span class="number">1</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.80</span><span class="number">42</span><span class="number">40</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">3</span><span class="number">3</span><span class="number">36.00</span><span class="number">6.20</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">38</span><span class="number">60</span><span class="number">12</span><span class="number">1</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">2</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">1</span><span class="number">4</span><span class="number">44</span><span class="number">65</span><span class="number">3</span><span class="number">2</span><span class="number">0</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">38.00</span><span class="number">42</span><span class="number">12</span><span class="number">3</span><span class="number">0</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">0</span><span class="number">1</span><span class="number">37.00</span><span class="number">5.80</span><span class="number">0</span><span class="number">0</span><span class="number">1</span></span><br><span class="line"><span class="number">2</span><span class="number">1</span><span class="number">37.60</span><span class="number">88</span><span class="number">36</span><span class="number">3</span><span class="number">1</span><span class="number">1</span><span class="number">1</span><span class="number">3</span><span class="number">3</span><span class="number">2</span><span class="number">1</span><span class="number">3</span><span class="number">1.50</span><span class="number">0</span><span class="number">0</span><span class="number">44.00</span><span class="number">6.00</span><span class="number">0</span><span class="number">0</span><span class="number">0</span></span><br></pre></td></tr></table></figure><p>###参考</p><ul><li><a href="http://blog.csdn.net/wyb_009/article/details/9205151" target="_blank" rel="noopener">机器学习实战Logistic回归之马儿得疝气了，怎么办？</a></li><li><a href="http://www.cnblogs.com/jianxinzhou/p/4070149.html" target="_blank" rel="noopener">机器学习之逻辑回归（Logistic Regression）</a></li><li><a href="http://www.cnblogs.com/jianxinzhou/p/4083921.html" target="_blank" rel="noopener">机器学习之正则化（Regularization）</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###简介 什么是逻辑回归（Logistic Regression）&lt;/p&gt;&lt;ul&gt;&lt;li&gt;逻辑回归模型是广泛运用的分类器，它在线性模型基础上，结合了sigmoid函数（S型）而产生的。&lt;/li&gt;&lt;li&gt;逻辑回归模型优势是使用简便、求解快速、容易理解，所以使用广泛。&lt;/li&gt;&lt;li&gt;推荐使用：&lt;ul&gt;&lt;li&gt;R：glm包（广义线性模型）中选用binomial（二项分布族）&lt;/li&gt;&lt;li&gt;Python：scikit-learn (sklearn)中选用&lt;a href=&quot;http://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;linear_model.LogisticRegression&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="python" scheme="http://wuwenjie.tk/categories/python/"/>
    
      <category term="Data mining" scheme="http://wuwenjie.tk/categories/python/Data-mining/"/>
    
      <category term="机器学习" scheme="http://wuwenjie.tk/categories/python/Data-mining/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Maching Learning" scheme="http://wuwenjie.tk/categories/python/Data-mining/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Maching-Learning/"/>
    
    
  </entry>
  
  <entry>
    <title>用Python分析白银T+D价格走势</title>
    <link href="http://wuwenjie.tk/2016/08/19/2016-11-19-yong-pythonfen-xi-bai-yin-t-plus-djie-ge-zou-shi/"/>
    <id>http://wuwenjie.tk/2016/08/19/2016-11-19-yong-pythonfen-xi-bai-yin-t-plus-djie-ge-zou-shi/</id>
    <published>2016-08-19T13:23:00.000Z</published>
    <updated>2016-11-19T13:58:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>###工具与数据</p><ul><li>numpy scipy matplotlib</li><li>新浪历史数据</li></ul><p>###效果</p><ul><li><img src="/images/plotagtd.png" alt="agtd"></li></ul><a id="more"></a><p>###代码</p><figure class="highlight python"><figcaption><span>plotAGTD.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">sudo apt-get install python-dev</span></span><br><span class="line"><span class="string">sudo apt-get install python-scipy</span></span><br><span class="line"><span class="string">sudo apt-get install python-numpy</span></span><br><span class="line"><span class="string">sudo apt-get install python-matplotlib</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">sudo easy_install -U distribute</span></span><br><span class="line"><span class="string">sudo pip install matplotlib</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line">mpl.use(<span class="string">'Agg'</span>)</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.dates <span class="keyword">import</span> DateFormatter</span><br><span class="line"><span class="keyword">from</span> matplotlib.ticker <span class="keyword">import</span> FuncFormatter</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> httplib</span><br><span class="line"><span class="keyword">import</span> StringIO</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line">now_t = time.time()</span><br><span class="line">conn = httplib.HTTPConnection(<span class="string">'vip.stock.finance.sina.com.cn'</span>,<span class="number">80</span>,timeout=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">now = time.strftime(<span class="string">"%Y-%m-%d"</span>, time.localtime())</span><br><span class="line"><span class="comment"># print now</span></span><br><span class="line">conn.request(<span class="string">"GET"</span>, </span><br><span class="line">    <span class="string">"/q/view/download_gold_history.php?breed=AGTD&amp;start=1992-06-05&amp;end="</span>+now)</span><br><span class="line">r1 = conn.getresponse()</span><br><span class="line"><span class="comment"># print r1.status, r1.reason</span></span><br><span class="line">raw_data = r1.read()</span><br><span class="line">conn.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"HTTP time is "</span>+ str(time.time() - now_t)[<span class="number">0</span>:<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">raw_data = StringIO.StringIO(raw_data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#file = open('AGTD.xls')</span></span><br><span class="line"><span class="comment">#firstline = unicode(file.readline(),'gb2312').encode('utf-8')</span></span><br><span class="line">firstline = unicode(raw_data.readline(),<span class="string">'gb2312'</span>).encode(<span class="string">'utf-8'</span>)</span><br><span class="line"></span><br><span class="line">data = [firstline]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> each_line <span class="keyword">in</span> raw_data:</span><br><span class="line">data.append(each_line.split(<span class="string">'\t'</span>))</span><br><span class="line"></span><br><span class="line">close=[]</span><br><span class="line">date =[]</span><br><span class="line"></span><br><span class="line">i= <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> da <span class="keyword">in</span> data:</span><br><span class="line"><span class="keyword">if</span> i != <span class="number">0</span>:</span><br><span class="line">close.append(da[<span class="number">5</span>])</span><br><span class="line">date.append(da[<span class="number">0</span>])</span><br><span class="line">i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">close.reverse()</span><br><span class="line">date.reverse()</span><br><span class="line"></span><br><span class="line">datelist= [datetime.date(int(ys), int(ms), int(ds)) <span class="keyword">for</span> ys, ms, ds </span><br><span class="line"><span class="keyword">in</span> [ da.split(<span class="string">'-'</span>) <span class="keyword">for</span> da <span class="keyword">in</span> date ]]</span><br><span class="line"></span><br><span class="line">close = close[<span class="number">2000</span>:]</span><br><span class="line">datelist = datelist[<span class="number">2000</span>:]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ma</span><span class="params">(values, window)</span>:</span></span><br><span class="line">values = np.array(values,dtype=float)</span><br><span class="line">weights = np.repeat(<span class="number">1.0</span>, window)/window</span><br><span class="line">ma = np.convolve(values, weights, <span class="string">'valid'</span>)</span><br><span class="line"><span class="keyword">return</span> ma</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">zhfont = mpl.font_manager.FontProperties(</span><br><span class="line">fname=<span class="string">'/usr/share/fonts/truetype/droid/DroidSansFallback.ttf'</span>)</span><br><span class="line">mpl.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">left, width = <span class="number">0.1</span>, <span class="number">0.8</span></span><br><span class="line">rect1 = [left, <span class="number">0.45</span>, width, <span class="number">0.45</span>]</span><br><span class="line">rect2 = [left, <span class="number">0.10</span>, width, <span class="number">0.34</span>]</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">axescolor = <span class="string">'#f6f6f6'</span>  <span class="comment"># the axes background color</span></span><br><span class="line"></span><br><span class="line">ax = fig.add_axes(rect1, facecolor=axescolor)  <span class="comment"># left, bottom, width, height</span></span><br><span class="line">ax2 = fig.add_axes(rect2,facecolor=axescolor, sharex=ax)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ax.set_title(<span class="string">u'【白银递延AGTD 日线】 更新日期：%s'</span> % </span><br><span class="line">str((time.strftime(<span class="string">"%Y-%m-%d %H:%M:%S"</span>, time.localtime()))),</span><br><span class="line">fontsize = <span class="number">14</span>, fontweight=<span class="string">'bold'</span>,fontproperties=zhfont)</span><br><span class="line"><span class="comment"># ax.set_title(u'AGTD 日线 ',fontproperties=zhfont)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> label <span class="keyword">in</span> ax.xaxis.get_ticklabels():</span><br><span class="line">label.set_visible(<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> label <span class="keyword">in</span> ax2.xaxis.get_ticklabels():</span><br><span class="line">label.set_rotation(<span class="number">25</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ax.plot(datelist,close,<span class="string">'.-'</span>)</span><br><span class="line"></span><br><span class="line">BBI = (ma(close,<span class="number">3</span>)[<span class="number">48</span><span class="number">-3</span>:]+ma(close,<span class="number">6</span>)[<span class="number">48</span><span class="number">-6</span>:]</span><br><span class="line">+ma(close,<span class="number">12</span>)[<span class="number">48</span><span class="number">-12</span>:]+ma(close,<span class="number">24</span>)[<span class="number">48</span><span class="number">-24</span>:]+ma(close,<span class="number">48</span>))/<span class="number">5</span></span><br><span class="line"></span><br><span class="line">BBIST = (ma(close,<span class="number">3</span>)[<span class="number">6</span><span class="number">-3</span>:]+ma(close,<span class="number">6</span>))/<span class="number">2</span></span><br><span class="line">BBIMT = ma(BBI,<span class="number">40</span>)</span><br><span class="line">BBILT = ma(BBI,<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ax.plot(datelist[48-1:],BBI)</span></span><br><span class="line">ax.plot(datelist[<span class="number">6</span><span class="number">-1</span>:],BBIST)</span><br><span class="line">ax.plot(datelist[<span class="number">48</span>+<span class="number">40</span><span class="number">-1</span><span class="number">-1</span>:],BBIMT)</span><br><span class="line">ax.plot(datelist[<span class="number">48</span>+<span class="number">200</span><span class="number">-1</span><span class="number">-1</span>:],BBILT)</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">ax.plot(datelist[5-1:],ma(close,5))</span></span><br><span class="line"><span class="string">ax.plot(datelist[30-1:],ma(close,30))</span></span><br><span class="line"><span class="string">ax.plot(datelist[90-1:],ma(close,90))</span></span><br><span class="line"><span class="string">ax.plot(datelist[180-1:],ma(close,180))</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">N1 = <span class="number">5</span></span><br><span class="line">N2 = <span class="number">30</span></span><br><span class="line">N3 = <span class="number">100</span></span><br><span class="line">dis = ma(close,N1)[N2-N1:] - ma(close,N2)</span><br><span class="line">disma = ma(dis,N1)</span><br><span class="line">middle_disma = ma(dis,N3)</span><br><span class="line"></span><br><span class="line">ax2.plot(datelist[N2<span class="number">-1</span>:],dis)</span><br><span class="line">ax2.plot(datelist[N2+N1<span class="number">-1</span><span class="number">-1</span>:],disma)</span><br><span class="line">ax2.plot(datelist[N3+N2<span class="number">-1</span><span class="number">-1</span>:],middle_disma)</span><br><span class="line">ax2.text(<span class="number">0.025</span>, <span class="number">0.95</span>, <span class="string">u'强弱W_MA (%d, %d, %d)'</span> % (N1, N2, N3), va=<span class="string">'top'</span>,</span><br><span class="line">         transform=ax2.transAxes, fontsize=<span class="number">10</span>,fontproperties=zhfont)</span><br><span class="line"></span><br><span class="line">ax.grid(<span class="literal">True</span>)</span><br><span class="line">ax2.grid(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">ax.autoscale_view() <span class="comment"># 自动调整坐标轴范围</span></span><br><span class="line">ax2.autoscale_view()</span><br><span class="line"></span><br><span class="line"><span class="comment"># position bottom right</span></span><br><span class="line">fig.text(<span class="number">0.67</span>, <span class="number">0.001</span>, <span class="string">'from wuwenjie'</span>,</span><br><span class="line">         fontsize=<span class="number">60</span>, color=<span class="string">'gray'</span>,</span><br><span class="line">         ha=<span class="string">'right'</span>, va=<span class="string">'bottom'</span>, alpha=<span class="number">0.6</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">fig.set_size_inches(<span class="number">9.25</span>, <span class="number">5.25</span>)</span><br><span class="line">plt.savefig(<span class="string">'agtd.png'</span>, dpi=<span class="number">75</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># sudo apt-get install pngquant</span></span><br><span class="line">p=subprocess.Popen(<span class="string">"pngquant -force 64 agtd.png"</span>,</span><br><span class="line">shell=<span class="literal">True</span>,stderr=subprocess.PIPE)  </span><br><span class="line"><span class="keyword">if</span> p.wait() != <span class="number">0</span>:</span><br><span class="line"><span class="keyword">print</span> <span class="string">u"压缩错误"</span>+p.stderr.read()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###工具与数据&lt;/p&gt;&lt;ul&gt;&lt;li&gt;numpy scipy matplotlib&lt;/li&gt;&lt;li&gt;新浪历史数据&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;###效果&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;img src=&quot;/images/plotagtd.png&quot; alt=&quot;agtd&quot;&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="python" scheme="http://wuwenjie.tk/categories/python/"/>
    
      <category term="Data mining" scheme="http://wuwenjie.tk/categories/python/Data-mining/"/>
    
      <category term="技术分析" scheme="http://wuwenjie.tk/categories/python/Data-mining/%E6%8A%80%E6%9C%AF%E5%88%86%E6%9E%90/"/>
    
      <category term="投资" scheme="http://wuwenjie.tk/categories/python/Data-mining/%E6%8A%80%E6%9C%AF%E5%88%86%E6%9E%90/%E6%8A%95%E8%B5%84/"/>
    
      <category term="白银" scheme="http://wuwenjie.tk/categories/python/Data-mining/%E6%8A%80%E6%9C%AF%E5%88%86%E6%9E%90/%E6%8A%95%E8%B5%84/%E7%99%BD%E9%93%B6/"/>
    
      <category term="指标" scheme="http://wuwenjie.tk/categories/python/Data-mining/%E6%8A%80%E6%9C%AF%E5%88%86%E6%9E%90/%E6%8A%95%E8%B5%84/%E7%99%BD%E9%93%B6/%E6%8C%87%E6%A0%87/"/>
    
    
  </entry>
  
  <entry>
    <title>白相Raspberrypi-4-装个眼睛哦</title>
    <link href="http://wuwenjie.tk/2016/07/31/2016-10-07-bai-xiang-raspberrypi-4-zhuang-ge-yan-jing-e/"/>
    <id>http://wuwenjie.tk/2016/07/31/2016-10-07-bai-xiang-raspberrypi-4-zhuang-ge-yan-jing-e/</id>
    <published>2016-07-31T08:38:00.000Z</published>
    <updated>2016-10-07T08:51:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>###装个眼睛？</p><ul><li>使用USB摄像头当作树莓派的眼睛。</li><li>利用OPENCV作为树莓派感知外部世界图像的处理工具。</li><li>本片文章目的是使得Pi能识别移动物体，具备入侵检测的功能。</li><li>参考文章 <a href="http://python.jobbole.com/81593/" target="_blank" rel="noopener">1</a> <a href="http://python.jobbole.com/81645/" target="_blank" rel="noopener">2</a> <a href="http://www.pyimagesearch.com/2015/05/25/basic-motion-detection-and-tracking-with-python-and-opencv/" target="_blank" rel="noopener">3</a></li></ul><a id="more"></a><p>###准备</p><ul><li><p>为Pi安装OPENGL兼容套件</p></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mesa-utils</span><br><span class="line">sudo apt-get install libgl1-mesa-dri libgl1-mesa-swx11</span><br></pre></td></tr></table></figure></li><li><p>安装python openCV 开发环境</p></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-opencv libopencv-dev python-numpy python-dev</span><br><span class="line">sudo apt-get install libjpeg8-dev libtiff4-dev libjasper-dev libpng12-dev</span><br><span class="line">sudo apt-get install libgtk2.0-dev</span><br><span class="line">sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev</span><br><span class="line">sudo apt-get install libatlas-base-dev gfortran</span><br></pre></td></tr></table></figure></li><li><p>推荐使用x11vnc</p><ul><li>使用x11vnc 作为VNC的服务端软件</li><li><em>sudo apt-get install x11vnc</em></li><li>原因：具有支持openGL的功能</li><li>不会出现 如 <code>window system doesn&#39;t support opengl</code> 的错误</li></ul></li><li><p>测试</p><ul><li>测试opencv是否能够正常工作</li><li>python 代码如下</li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import cv2</span><br><span class="line"></span><br><span class="line">print cv2.__version__</span><br><span class="line">img = cv2.imread(&quot;a.jpg&quot;)</span><br><span class="line">cv2.namedWindow(&quot;Image&quot;,cv2.CV_WINDOW_AUTOSIZE)</span><br><span class="line">cv2.imshow(&quot;Image&quot;,img)</span><br><span class="line">cv2.waitKey(0)</span><br><span class="line">cv2.destoryAllWindows()</span><br></pre></td></tr></table></figure><ul><li>如果没有正常现实图片a.jpg，说明开发环境仍有问题，请务必处理。</li></ul><h3 id="检测和跟踪运动对象"><a href="#检测和跟踪运动对象" class="headerlink" title="检测和跟踪运动对象"></a>检测和跟踪运动对象</h3><ul><li><p>简单原理</p><ul><li>通过摄像头捕获的图像交由python的openCV库进行处理</li><li>对每一张图像继续灰度化后，比较前后两张图像的不同</li><li>不同的区域即认为是运动的对象。</li></ul></li><li><p>效果</p><ul><li><video id="video" controls preload="none"><source id="mp4" src="/images/motion_detector.mp4" type="video/mp4"></video></li></ul></li><li><p>python代码</p><ul><li>使用方法如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python motion_detector.py -c conf.json</span><br></pre></td></tr></table></figure></li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python motion_detector.py -c conf.json --video videos/example_01.mp4</span><br></pre></td></tr></table></figure><ul><li><p>配置文件conf.json</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">   &#123;</span><br><span class="line">   &quot;min-area&quot;:1500,</span><br><span class="line">&quot;show-thresh&quot;:true,</span><br><span class="line">&quot;show-frameDelta&quot;:true,</span><br><span class="line">&quot;decay-time&quot;:1000,</span><br><span class="line">&quot;delta-thresh&quot;:25</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li><li><p>主要py代码如下</p></li></ul><figure class="highlight python"><figcaption><span>motion_detector.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># import the necessary packages</span></span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="comment">#import imutils</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># construct the argument parser and parse the arguments</span></span><br><span class="line">ap = argparse.ArgumentParser()</span><br><span class="line">ap.add_argument(<span class="string">"-v"</span>, <span class="string">"--video"</span>, help=<span class="string">"path to the video file"</span>)</span><br><span class="line">ap.add_argument(<span class="string">"-c"</span>, <span class="string">"--conf"</span> , required=<span class="literal">True</span>,help=<span class="string">"path to the JSON config file"</span>)</span><br><span class="line">args = vars(ap.parse_args())</span><br><span class="line"></span><br><span class="line">conf = json.load(open(args[<span class="string">"conf"</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启优化</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">not</span> cv2.useOptimized()):</span><br><span class="line">    cv2.setUseOptimized(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># if the video argument is None, then we are reading from webcam</span></span><br><span class="line"><span class="keyword">if</span> args.get(<span class="string">"video"</span>, <span class="literal">None</span>) <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">camera = cv2.VideoCapture(<span class="number">0</span>)</span><br><span class="line">time.sleep(<span class="number">3.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># otherwise, we are reading from a video file</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">camera = cv2.VideoCapture(args[<span class="string">"video"</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># find opencv version</span></span><br><span class="line"><span class="keyword">print</span> cv2.__version__</span><br><span class="line">(major_ver,minor_ver,subminor_ver,fin_ver) = (cv2.__version__).split(<span class="string">'.'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> int(major_ver) &lt; <span class="number">3</span> :</span><br><span class="line">fps = camera.get(cv2.cv.CV_CAP_PROP_FPS)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">fps = camera.get(cv2.CV_CAP_PROP_FPS)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> fps</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Frames per second :&#123;0&#125;"</span>.format(fps)</span><br><span class="line"></span><br><span class="line"><span class="comment"># initialize the first frame in the video stream</span></span><br><span class="line">firstFrame = <span class="literal">None</span></span><br><span class="line">avg = <span class="literal">None</span></span><br><span class="line"><span class="comment">#avg1 = None</span></span><br><span class="line">t = time.time()</span><br><span class="line">decay = conf[<span class="string">"decay-time"</span>]</span><br><span class="line"></span><br><span class="line">num_frames = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># loop over the frames of the video</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"></span><br><span class="line">start = time.time()</span><br><span class="line"></span><br><span class="line"><span class="comment"># grab the current frame</span></span><br><span class="line">(grabbed, frame) = camera.read()</span><br><span class="line">text = <span class="string">"safe"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if the frame could not be grabbed, reached the end of the video</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> grabbed:</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># resize the frame, convert it to grayscale, and blur it</span></span><br><span class="line"><span class="comment"># frame = imutils.resize(frame, width=500)</span></span><br><span class="line">gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</span><br><span class="line"><span class="comment"># gray = cv2.GaussianBlur(gray, (21, 21), 0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if the first frame is None, initialize it</span></span><br><span class="line"><span class="keyword">if</span> firstFrame <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">firstFrame = gray.copy().astype(<span class="string">"float"</span>)</span><br><span class="line"><span class="comment">#avg1 = firstFrame</span></span><br><span class="line">avg = firstFrame</span><br><span class="line"><span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">now = time.time()</span><br><span class="line"><span class="keyword">if</span> (now -t &gt;= decay):</span><br><span class="line">t = now</span><br><span class="line"><span class="comment"># compute the absolute diff between current and first frame</span></span><br><span class="line">cv2.accumulateWeighted(avg,firstFrame,<span class="number">0.4</span>)</span><br><span class="line"><span class="comment"># firstFrame = (1-alpha)*firstFrame+alpha*avg</span></span><br><span class="line"><span class="comment"># firstFrame = 0.6*firstFrame + 0.4*avg</span></span><br><span class="line"></span><br><span class="line">cv2.accumulateWeighted(gray,avg,<span class="number">0.05</span>)</span><br><span class="line"><span class="comment"># 更新一个动态平均数 avg = (1-alpha)*avg+alpha*gray</span></span><br><span class="line"><span class="comment"># avg = 0.95 * avg + 0.05 * gary</span></span><br><span class="line"></span><br><span class="line">frameDelta = cv2.absdiff(gray,cv2.convertScaleAbs(avg))</span><br><span class="line"><span class="comment"># 基于加权平均数的帧，当前帧减去加权平均值，得到帧变化量</span></span><br><span class="line"></span><br><span class="line">thresh = cv2.threshold(frameDelta, conf[<span class="string">"delta-thresh"</span>], <span class="number">255</span>, cv2.THRESH_BINARY)[<span class="number">1</span>]</span><br><span class="line"><span class="comment"># 阈值化 &gt;25 255</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># dilate the thresholded image to fill in holes, then find contours</span></span><br><span class="line"><span class="comment"># on thresholded image</span></span><br><span class="line">thresh = cv2.dilate(thresh, <span class="literal">None</span>, iterations=<span class="number">2</span>)</span><br><span class="line">(cnts, _) = cv2.findContours(thresh.copy(), cv2.RETR_EXTERNAL,</span><br><span class="line">cv2.CHAIN_APPROX_SIMPLE)</span><br><span class="line"></span><br><span class="line"><span class="comment"># loop over the contours</span></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> cnts:</span><br><span class="line"><span class="comment"># if the contour is too small, ignore it</span></span><br><span class="line"><span class="keyword">if</span> cv2.contourArea(c) &lt; conf[<span class="string">"min-area"</span>]:</span><br><span class="line"><span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># compute the bounding box for the contour, draw it on the frame,</span></span><br><span class="line"><span class="comment"># and update the text</span></span><br><span class="line">(x, y, w, h) = cv2.boundingRect(c)</span><br><span class="line">cv2.rectangle(frame, (x, y), (x + w, y + h), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line">text = <span class="string">"someone"</span></span><br><span class="line"></span><br><span class="line">num_frames += <span class="number">1</span> </span><br><span class="line">fps = num_frames /(time.time() - start)</span><br><span class="line">num_frames = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># draw the text and timestamp on the frame</span></span><br><span class="line">cv2.putText(frame, <span class="string">"Room Status: &#123;&#125;"</span>.format(text.encode(<span class="string">'utf-8'</span>)), (<span class="number">10</span>, <span class="number">20</span>),</span><br><span class="line">cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.5</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">cv2.putText(frame, datetime.datetime.now().strftime(<span class="string">"%A %d %B %Y %I:%M:%S%p"</span> + <span class="string">" FPS:&#123;&#125;"</span>.format(str(fps))),</span><br><span class="line">(<span class="number">10</span>, frame.shape[<span class="number">0</span>] - <span class="number">10</span>), cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.35</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># show the frame and record if the user presses a key</span></span><br><span class="line"></span><br><span class="line">cv2.imshow(<span class="string">"安全监控画面"</span>, frame)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> conf[<span class="string">"show-thresh"</span>]:</span><br><span class="line">cv2.imshow(<span class="string">"阈值化画面-Thresh"</span>, thresh)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> conf[<span class="string">"show-frameDelta"</span>]:</span><br><span class="line">cv2.imshow(<span class="string">"畸变画面-Frame Delta"</span>, frameDelta)</span><br><span class="line"></span><br><span class="line">key = cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if the `q` key is pressed, break from the lop</span></span><br><span class="line"><span class="keyword">if</span> key == ord(<span class="string">"q"</span>):</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cleanup the camera and close any open windows</span></span><br><span class="line">camera.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###装个眼睛？&lt;/p&gt;&lt;ul&gt;&lt;li&gt;使用USB摄像头当作树莓派的眼睛。&lt;/li&gt;&lt;li&gt;利用OPENCV作为树莓派感知外部世界图像的处理工具。&lt;/li&gt;&lt;li&gt;本片文章目的是使得Pi能识别移动物体，具备入侵检测的功能。&lt;/li&gt;&lt;li&gt;参考文章 &lt;a href=&quot;http://python.jobbole.com/81593/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;1&lt;/a&gt; &lt;a href=&quot;http://python.jobbole.com/81645/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;2&lt;/a&gt; &lt;a href=&quot;http://www.pyimagesearch.com/2015/05/25/basic-motion-detection-and-tracking-with-python-and-opencv/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;3&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="raspberrypi" scheme="http://wuwenjie.tk/categories/raspberrypi/"/>
    
      <category term="树莓派" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
      <category term="hardware" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/hardware/"/>
    
      <category term="openCV" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/hardware/openCV/"/>
    
      <category term="python" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/hardware/openCV/python/"/>
    
    
  </entry>
  
  <entry>
    <title>白相Raspberrypi-3-装个耳朵哦</title>
    <link href="http://wuwenjie.tk/2016/06/14/2016-08-14-bai-xiang-raspberrypi-3-zhuang-ge-er-duo-e/"/>
    <id>http://wuwenjie.tk/2016/06/14/2016-08-14-bai-xiang-raspberrypi-3-zhuang-ge-er-duo-e/</id>
    <published>2016-06-14T12:31:00.000Z</published>
    <updated>2016-08-14T13:28:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>###BEGIN</p><ul><li><a href="http://wuwenjie.tk/blog/2016/05/31/bai-xiang-raspberrypi-2-wan-zhuan-led/">前一篇</a>已经讲到如何玩LED了</li><li>这次说给树莓派装个耳朵</li></ul><a id="more"></a><p>###耳朵？</p><ul><li>用声音传感器作为它的耳朵</li><li>声音传感器的样子</li><li><img src="/images/sound_moudle.png" alt="sound_moudle"></li></ul><p>###材料与安装</p><ul><li>准备若干杜邦线、LED、声音传感器等</li><li>LED正极接GPIO18口</li><li>声音传感器接GPIO4</li><li>其他接地GND</li></ul><p>###让耳朵听到声音1</p><ul><li>这种方法比较简单，便于理解，但不推荐日常使用</li><li><figure class="highlight python"><figcaption><span>sound.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#-*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> RPi.GPIO <span class="keyword">as</span> GPIO</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># LED正极连接的GPIO口 GPIO18</span></span><br><span class="line">LED = <span class="number">18</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 声音感应器OUT口连接的GPIO口 GPIO4</span></span><br><span class="line">SENSOR = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当前LED灯的开关状态</span></span><br><span class="line">flg = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">GPIO.setmode(GPIO.BCM)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定GPIO4（声音感应器的OUT口连接的GPIO口）的模式为输入模式</span></span><br><span class="line"><span class="comment"># 默认拉高到高电平，低电平表示OUT口有输出</span></span><br><span class="line">GPIO.setup(SENSOR, GPIO.IN, pull_up_down=GPIO.PUD_UP)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定GPIO18（LED长针连接的GPIO针脚）的模式为输出模式</span></span><br><span class="line">GPIO.setup(LED, GPIO.OUT)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                <span class="comment"># 检测声音感应器是否输出低电平，若是低电平，表示声音被检测到，点亮或关闭LED灯</span></span><br><span class="line">                <span class="keyword">if</span> (GPIO.input(SENSOR) == <span class="number">0</span>):</span><br><span class="line">                        flg = <span class="keyword">not</span> flg</span><br><span class="line">    GPIO.output(LED, flg)</span><br><span class="line"><span class="comment"># 稍微延时一会，避免刚点亮就熄灭，或者刚熄灭就点亮。</span></span><br><span class="line">time.sleep(<span class="number">1.5</span>)</span><br><span class="line"><span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">GPIO.cleanup()</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><p>###让耳朵听到声音2</p><ul><li>这种方法用到<a href="http://hugozhu.myalert.info/2013/04/08/27-interrupts-with-gpio-pins.html?utm_source=tuicool&utm_medium=referral" target="_blank" rel="noopener">GPIO的中断处理1</a> <a href="http://dreamcolor.net/archives/rpi-gpio-module-inputs.html" target="_blank" rel="noopener">2</a></li><li>执行：echo 4 &gt; /sys/class/gpio/export</li><li>声音感应器OUT口连接的GPIO口 GPIO4</li><li><figure class="highlight python"><figcaption><span>sound2.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#-*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> RPi.GPIO <span class="keyword">as</span> GPIO</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> GPIO.VERSION</span><br><span class="line"></span><br><span class="line"><span class="comment"># LED正极连接的GPIO口 GPIO18</span></span><br><span class="line">LED = <span class="number">18</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 声音感应器OUT口连接的GPIO口 GPIO4</span></span><br><span class="line"><span class="comment"># echo 4 &gt; /sys/class/gpio/export</span></span><br><span class="line">SENSOR = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当前LED灯的开关状态</span></span><br><span class="line">flg = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">GPIO.setmode(GPIO.BCM)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定GPIO4（声音感应器的OUT口连接的GPIO口）的模式为输入模式</span></span><br><span class="line"><span class="comment"># 默认拉高到高电平，低电平表示OUT口有输出</span></span><br><span class="line">GPIO.setup(SENSOR, GPIO.IN, pull_up_down=GPIO.PUD_UP)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定GPIO18（LED长针连接的GPIO针脚）的模式为输出模式</span></span><br><span class="line">GPIO.setup(LED, GPIO.OUT)</span><br><span class="line"></span><br><span class="line"><span class="comment">#GPIO.add_event_detect(SENSOR,GPIO.RISING,callback=my_callback)</span></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">                <span class="comment">#print "\nWaiting for falling edge on port "+str(SENSOR)</span></span><br><span class="line">                GPIO.wait_for_edge(SENSOR,GPIO.FALLING)</span><br><span class="line">                <span class="comment">#print "\nFalling edge detected."</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 检测声音感应器是否输出低电平，若是低电平，表示声音被检测到，点亮或关闭LED灯</span></span><br><span class="line">                <span class="keyword">if</span> (GPIO.input(SENSOR) == <span class="number">0</span>):</span><br><span class="line">                        flg = <span class="keyword">not</span> flg</span><br><span class="line">                        GPIO.output(LED, flg)</span><br><span class="line">                        <span class="comment"># 稍微延时一会，避免刚点亮就熄灭，或者刚熄灭就点亮。</span></span><br><span class="line">                        <span class="comment">#time.sleep(1.5)</span></span><br><span class="line">                        </span><br><span class="line">        <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">                GPIO.cleanup()</span><br><span class="line"></span><br><span class="line">GPIO.cleanup()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><p>###效果</p><ul><li><video id="video" controls preload="none"><source id="mp4" src="/images/PIsound.mp4" type="video/mp4"><p>Your user agent does not support the HTML5 Video element.</p></video></li></ul><p>###玩的开心啊</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###BEGIN&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;http://wuwenjie.tk/blog/2016/05/31/bai-xiang-raspberrypi-2-wan-zhuan-led/&quot;&gt;前一篇&lt;/a&gt;已经讲到如何玩LED了&lt;/li&gt;&lt;li&gt;这次说给树莓派装个耳朵&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="raspberrypi" scheme="http://wuwenjie.tk/categories/raspberrypi/"/>
    
      <category term="树莓派" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
      <category term="hardware" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/hardware/"/>
    
      <category term="GPIO" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/hardware/GPIO/"/>
    
      <category term="python" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/hardware/GPIO/python/"/>
    
    
  </entry>
  
  <entry>
    <title>白相Raspberrypi-2-玩转LED</title>
    <link href="http://wuwenjie.tk/2016/05/31/2016-07-10-bai-xiang-raspberrypi-2-wan-zhuan-led/"/>
    <id>http://wuwenjie.tk/2016/05/31/2016-07-10-bai-xiang-raspberrypi-2-wan-zhuan-led/</id>
    <published>2016-05-31T11:52:00.000Z</published>
    <updated>2016-07-10T12:54:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>###为何要玩LED</p><ul><li>led是体验树莓派控制硬件魔力的最简单方法。</li><li>通过<a href="https://zh.wikipedia.org/zh/GPIO" target="_blank" rel="noopener">GPIO</a>(General purpose input/output)来实现与外部硬件的交互。</li></ul><a id="more"></a><p>###准备工作</p><ul><li>树莓派 * 1</li><li>草帽型led灯 * 1</li><li>杜邦线 * 2</li><li>可附带工具<ul><li>T字板：T型GPIO扩展板</li><li>面包板：面包电路板</li></ul></li></ul><p>###安装LED</p><ul><li>如下图</li><li><img src="/images/gpio_led.png" alt="gpio_led"></li><li>GPIO口</li><li><img src="/images/GPIO.jpg" alt="GPIO"></li></ul><p>###使用python控制GPIO</p><ul><li><p>使用著名的<a href="https://sourceforge.net/projects/raspberry-gpio-python/" target="_blank" rel="noopener">RPi.GPIO</a>包</p></li><li><p>exp1</p><figure class="highlight python"><figcaption><span>led.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> RPi.GPIO <span class="keyword">as</span> GPIO</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">GPIO.setmode(GPIO.BCM)</span><br><span class="line">GPIO.setup(<span class="number">18</span>,GPIO.OUT)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    GPIO.output(<span class="number">18</span>,GPIO.HIGH)</span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    GPIO.output(<span class="number">18</span>,GPIO.LOW)</span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">GPIO.cleanup()</span><br></pre></td></tr></table></figure></li><li><p>效果1</p></li><li><video id="video" controls preload="none"><source id="mp4" src="/images/led1.mp4" type="video/mp4"><p>Your user agent does not support the HTML5 Video element.</p></video></li><li><p>exp2</p><figure class="highlight python"><figcaption><span>led2.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#-*- coding:utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> RPi.GPIO <span class="keyword">as</span> GPIO</span><br><span class="line"></span><br><span class="line">GPIO.setmode(GPIO.BCM)</span><br><span class="line">GPIO.setup(<span class="number">18</span>,GPIO.OUT)</span><br><span class="line"></span><br><span class="line">p = GPIO.PWM(<span class="number">18</span>,<span class="number">1</span>)</span><br><span class="line"><span class="comment"># channel frequency(Hz 每秒几次)</span></span><br><span class="line">p.start(<span class="number">90</span>)</span><br><span class="line"><span class="comment"># dc duty cycle 占空比 0-100 在一个周期内高电平的比</span></span><br><span class="line"></span><br><span class="line">input(<span class="string">'Enter to stop'</span>)</span><br><span class="line">p.stop()</span><br><span class="line">GPIO.cleanup()</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>效果2</p></li><li><video id="video" controls preload="none"><source id="mp4" src="/images/led2.mp4" type="video/mp4"><p>Your user agent does not support the HTML5 Video element.</p></video></li></ul><p>###玩的开心啊</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###为何要玩LED&lt;/p&gt;&lt;ul&gt;&lt;li&gt;led是体验树莓派控制硬件魔力的最简单方法。&lt;/li&gt;&lt;li&gt;通过&lt;a href=&quot;https://zh.wikipedia.org/zh/GPIO&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GPIO&lt;/a&gt;(General purpose input/output)来实现与外部硬件的交互。&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="raspberrypi" scheme="http://wuwenjie.tk/categories/raspberrypi/"/>
    
      <category term="树莓派" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
      <category term="hardware" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/hardware/"/>
    
      <category term="GPIO" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/hardware/GPIO/"/>
    
      <category term="python" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/hardware/GPIO/python/"/>
    
    
  </entry>
  
  <entry>
    <title>白相Raspberrypi-1-安装要点</title>
    <link href="http://wuwenjie.tk/2016/04/30/2016-06-09-bai-xiang-raspberrypi-1-an-zhuang-yao-dian/"/>
    <id>http://wuwenjie.tk/2016/04/30/2016-06-09-bai-xiang-raspberrypi-1-an-zhuang-yao-dian/</id>
    <published>2016-04-30T10:49:00.000Z</published>
    <updated>2016-06-09T14:12:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>###前言</p><ul><li>随着云、物联网、编程教育等事物的兴起，树莓派（raspberrypi）作为人们实现想法、控制硬件的玩具越来越火。</li><li>由于无聊，也想试着玩玩树莓派，就买了raspi 2b、传感器、面包版、杜邦线等。</li></ul><a id="more"></a><p>###硬件准备</p><ul><li>树莓派一个</li><li>电源一个 microusb</li><li>SD卡一个</li><li>网线一根</li><li>读卡器一个（备用）</li></ul><p>###硬件准备注意</p><ul><li>树莓派不是支持所有SD卡的，-&gt;<a href="http://elinux.org/RPi_SD_cards" target="_blank" rel="noopener">参考列表</a></li><li>我购买的是SanDisk Ultra microSDHC UHS-1 16G，如下图：</li><li><img src="/images/SanDiskmicroSDHC.png" alt="SanDisk"></li></ul><p>###系统安装</p><ul><li>推荐raspbian，基于debain的树莓派发行版</li><li>下载，<a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank" rel="noopener">https://www.raspberrypi.org/downloads/raspbian/</a></li><li>安装教程 <a href="https://www.raspberrypi.org/documentation/installation/installing-images/linux.md" target="_blank" rel="noopener">-&gt;linux</a><ul><li>下载raspbian镜像，并解压</li><li>PC插上SD卡，可以进行分区</li><li>使用dd命令写入SD卡，dcfldd可视化的dd</li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dcfldd bs=4m if=2016-02-26-raspbian-jessie.img of=/dev/sdf</span><br></pre></td></tr></table></figure><p>###硬件安装</p><ul><li>树莓派上插好SD卡</li><li>插上网线，连接到路由器</li><li>插上电源，通电</li><li>树莓派启动，act绿灯闪烁，pwr红灯点亮</li></ul><p>###连接与控制</p><ul><li>树莓派IP可在路由器内查到</li><li>ssh命令，默认用户pi，密码raspberrypi</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh pi@192.168.1.106</span><br></pre></td></tr></table></figure><ul><li>使用vnc可视化连接</li><li>pi上：sudo apt-get install tightvncserver</li><li>pc上：sudo apt-get install xtightvncviewer</li><li>参考-&gt;<a href="https://www.raspberrypi.com.tw/586/setting-up-vnc/" target="_blank" rel="noopener">教程</a></li></ul><p>###OK</p><ul><li>树莓派之旅正是开始！</li><li><img src="/images/raspi-1.png" alt="raspi"></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###前言&lt;/p&gt;&lt;ul&gt;&lt;li&gt;随着云、物联网、编程教育等事物的兴起，树莓派（raspberrypi）作为人们实现想法、控制硬件的玩具越来越火。&lt;/li&gt;&lt;li&gt;由于无聊，也想试着玩玩树莓派，就买了raspi 2b、传感器、面包版、杜邦线等。&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="raspberrypi" scheme="http://wuwenjie.tk/categories/raspberrypi/"/>
    
      <category term="树莓派" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
      <category term="hardware" scheme="http://wuwenjie.tk/categories/raspberrypi/%E6%A0%91%E8%8E%93%E6%B4%BE/hardware/"/>
    
    
  </entry>
  
  <entry>
    <title>改-TextRank文本摘要简介与应用</title>
    <link href="http://wuwenjie.tk/2016/03/31/2016-05-08-gai-textrankwen-ben-zhai-yao-jian-jie-yu-ying-yong/"/>
    <id>http://wuwenjie.tk/2016/03/31/2016-05-08-gai-textrankwen-ben-zhai-yao-jian-jie-yu-ying-yong/</id>
    <published>2016-03-31T11:13:00.000Z</published>
    <updated>2016-05-11T13:21:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>##文本摘要简介</p><ul><li><a href="https://en.wikipedia.org/wiki/Automatic_summarization" target="_blank" rel="noopener">Automatic Summarization</a> 主要有<a href="http://www.cnblogs.com/chenbjin/p/4600538.html" target="_blank" rel="noopener">两种方法</a>。<ul><li>Extraction : 抽取式，提取文档中已存在的关键词、句子形成摘要。</li><li>Abstraction: 生成式，建立抽象的语意表示，使用自然语言生成技术，形成摘要。</li></ul></li></ul><p>##TextRank的文本摘要</p><ul><li>TextRank的方法属于<a href="https://en.wikipedia.org/wiki/Automatic_summarization#Unsupervised_approach:_TextRank" target="_blank" rel="noopener">graph-based</a> Extraction。</li><li>对文本中的句子重要性排序后得到摘要。</li><li>权值为句子间的相似度，计算两个句子的内容覆盖率。</li><li>与<a href="blog/2016/02/06/gai-textrankwen-ben-guan-jian-zi-ti-qu-jian-jie-yu-ying-yong/">TextRank关键字提取</a>的不同：考虑了句子间的权值。</li></ul><a id="more"></a><p>##实现参考</p><ul><li>同样参考hankcs的实现，<a href="https://github.com/hankcs/TextRank/blob/master/src/main/java/com/hankcs/textrank/TextRankSummary.java" target="_blank" rel="noopener">github</a></li><li>改用smartcn进行分词</li><li>部分结果<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sentence_count:134</span><br><span class="line">document_length:1404</span><br><span class="line">sentence_length_avg:10</span><br><span class="line">size:6</span><br><span class="line">topSentence:沪XX路XX弄一居民养猫百余只熏煞一楼人来源</span><br><span class="line">topSentence:该户人家豢养了至少100多只猫</span><br><span class="line">topSentence:养猫扰民确实不该</span><br><span class="line">topSentence:每只笼子都有猫</span><br><span class="line">topSentence:记者从社区民警、居委会干部处证实了该说法</span><br><span class="line">topSentence:有居民甚至曾目击该户主在夜间捕捉小猫后</span><br><span class="line"></span><br><span class="line">沪XX路XX弄一居民养猫百余只熏煞一楼人来源。养猫扰民确实不该。有居民甚至曾目击该户主在夜间捕捉小猫后。</span><br></pre></td></tr></table></figure></li></ul><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><figure class="highlight java"><figcaption><span>TextRankSentence.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.TokenStream;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.cn.smart.SmartChineseAnalyzer;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.tokenattributes.CharTermAttribute;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.util.CharArraySet;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.util.Version;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * javac -cp '.:lucene-core-4.10.1.jar:lucene-analyzers-common-4.10.1.jar:lucene-analyzers-smartcn-4.10.1.jar' TextRankSentence.java</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * java -cp '.:lucene-core-4.10.1.jar:lucene-analyzers-common-4.10.1.jar:lucene-analyzers-smartcn-4.10.1.jar' TextRankSentence `cat a.txt` 50</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * jar cvfm TextRankSentence.jar MANIFEST.MF *.class</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * java -jar TextRankSentence.jar</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * TextRank 自动摘要</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> hankcs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@modify</span> wuwenjie</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TextRankSentence</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 阻尼系数（ＤａｍｐｉｎｇＦａｃtｏｒ），一般取值为0.85</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">double</span> d = <span class="number">0.85</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 最大迭代次数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span> max_iter = <span class="number">200</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">double</span> min_diff = <span class="number">0.001</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文档句子的个数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">int</span> D;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 拆分为[句子[单词]]形式的文档</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    List&lt;List&lt;String&gt;&gt; docs;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 排序后的最终结果 score &lt;-&gt; index</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    TreeMap&lt;Double, Integer&gt; top;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 句子和其他句子的相关程度</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">double</span>[][] weight;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 该句子和其他句子相关程度之和</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">double</span>[] weight_sum;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 迭代之后收敛的权重</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">double</span>[] vertex;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * BM25相似度</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    BM25 bm25;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TextRankSentence</span><span class="params">(List&lt;List&lt;String&gt;&gt; docs)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.docs = docs;</span><br><span class="line">        bm25 = <span class="keyword">new</span> BM25(docs);</span><br><span class="line">        D = docs.size();</span><br><span class="line">        weight = <span class="keyword">new</span> <span class="keyword">double</span>[D][D];</span><br><span class="line">        weight_sum = <span class="keyword">new</span> <span class="keyword">double</span>[D];</span><br><span class="line">        vertex = <span class="keyword">new</span> <span class="keyword">double</span>[D];</span><br><span class="line">        top = <span class="keyword">new</span> TreeMap&lt;Double, Integer&gt;(Collections.reverseOrder());</span><br><span class="line">        solve();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (List&lt;String&gt; sentence : docs) &#123;</span><br><span class="line">            <span class="keyword">double</span>[] scores = bm25.simAll(sentence);</span><br><span class="line"><span class="comment">//System.out.println(Arrays.toString(scores));</span></span><br><span class="line">            weight[cnt] = scores;</span><br><span class="line">            weight_sum[cnt] = sum(scores) - scores[cnt];</span><br><span class="line">            <span class="comment">// 减掉自己，自己跟自己肯定最相似</span></span><br><span class="line">            vertex[cnt] = <span class="number">1.0</span>;</span><br><span class="line">            ++cnt;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> _ = <span class="number">0</span>; _ &lt; max_iter; ++_)&#123;</span><br><span class="line">            <span class="keyword">double</span>[] m = <span class="keyword">new</span> <span class="keyword">double</span>[D];</span><br><span class="line">            <span class="keyword">double</span> max_diff = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; D; ++i)&#123;</span><br><span class="line">                m[i] = <span class="number">1</span> - d;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; D; ++j)&#123;</span><br><span class="line">                    <span class="keyword">if</span> (j == i || weight_sum[j] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                    m[i] += (d * weight[j][i] / weight_sum[j] * vertex[j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">double</span> diff = Math.abs(m[i] - vertex[i]);</span><br><span class="line">                <span class="keyword">if</span> (diff &gt; max_diff)&#123;</span><br><span class="line">                    max_diff = diff;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            vertex = m;</span><br><span class="line">            <span class="keyword">if</span> (max_diff &lt;= min_diff) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 排序</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; D; ++i)&#123;</span><br><span class="line">            top.put(vertex[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取前几个关键句子</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> size 要几个</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 关键句子的下标</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] getTopSentence(<span class="keyword">int</span> size)&#123;</span><br><span class="line"></span><br><span class="line">        Collection&lt;Integer&gt; values = top.values();</span><br><span class="line">        size = Math.min(size, values.size());</span><br><span class="line">        <span class="keyword">int</span>[] indexArray = <span class="keyword">new</span> <span class="keyword">int</span>[size];</span><br><span class="line">        Iterator&lt;Integer&gt; it = values.iterator();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i)&#123;</span><br><span class="line">            indexArray[i] = it.next();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> indexArray;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 简单的求和</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">sum</span><span class="params">(<span class="keyword">double</span>[] array)</span></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> total = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">double</span> v : array)&#123;</span><br><span class="line">            total += v;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> total;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\n\n\n"</span>+TextRankSentence.getTopSentenceList(args[<span class="number">0</span>], Integer.parseInt(args[<span class="number">1</span>])));</span><br><span class="line">        System.out.println(<span class="string">"\n\n\n"</span>+TextRankSentence.getSummary(args[<span class="number">0</span>], Integer.parseInt(args[<span class="number">1</span>])));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将文章分割为句子</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> document</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> List&lt;String&gt; <span class="title">spiltSentence</span><span class="params">(String document)</span></span>&#123;</span><br><span class="line">        List&lt;String&gt; sentences = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String line : document.split(<span class="string">"[\r\n]"</span>))&#123;</span><br><span class="line">            line = line.trim();</span><br><span class="line">            <span class="keyword">if</span> (line.length() == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span> (String sent : line.split(<span class="string">"[，,。:：“”？?！!；;]"</span>))&#123;</span><br><span class="line">                sent = sent.trim();</span><br><span class="line">                <span class="keyword">if</span> (sent.length() == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                sentences.add(sent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sentences;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将句子列表转化为文档</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sentenceList</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;List&lt;String&gt;&gt; convertSentenceListToDocument(List&lt;String&gt; sentenceList)</span><br><span class="line">     <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        </span><br><span class="line">        CharArraySet cas = <span class="keyword">new</span> CharArraySet(<span class="number">0</span>, <span class="keyword">true</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 自定义停用词</span></span><br><span class="line">        String[] self_stop_words = &#123; <span class="string">"的"</span>, <span class="string">"在"</span>,<span class="string">"了"</span>, <span class="string">"呢"</span>, <span class="string">"，"</span>, <span class="string">"："</span>, <span class="string">","</span>,<span class="string">"是"</span>,<span class="string">"一"</span>&#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; self_stop_words.length; i++) &#123;</span><br><span class="line">cas.add(self_stop_words[i]);</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 加入系统默认停用词</span></span><br><span class="line">Iterator&lt;Object&gt; itor = SmartChineseAnalyzer.getDefaultStopSet().iterator();</span><br><span class="line"><span class="keyword">while</span> (itor.hasNext()) &#123;</span><br><span class="line">cas.add(itor.next());</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 中英文混合分词器(其他几个分词器对中文的分析都不行)</span></span><br><span class="line">        SmartChineseAnalyzer sca = <span class="keyword">new</span> SmartChineseAnalyzer(cas);</span><br><span class="line">        </span><br><span class="line">        List&lt;List&lt;String&gt;&gt; docs = <span class="keyword">new</span> ArrayList&lt;List&lt;String&gt;&gt;(sentenceList.size());</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (String sentence : sentenceList)&#123;</span><br><span class="line"></span><br><span class="line">            List&lt;String&gt; wordList = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">            TokenStream ts = sca.tokenStream(<span class="string">"field"</span>, sentence);</span><br><span class="line">            CharTermAttribute ch = ts.addAttribute(CharTermAttribute.class);</span><br><span class="line"></span><br><span class="line">            ts.reset();</span><br><span class="line">            <span class="keyword">while</span> (ts.incrementToken()) &#123;</span><br><span class="line">                wordList.add(ch.toString());</span><br><span class="line">                <span class="comment">//System.out.print(ch.toString()+"\\");</span></span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            ts.end();</span><br><span class="line">            ts.close();</span><br><span class="line">            </span><br><span class="line">            docs.add(wordList);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> docs;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 一句话调用接口</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> document 目标文档</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> size     需要的关键句的个数</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 关键句列表</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getTopSentenceList</span><span class="params">(String document, <span class="keyword">int</span> size)</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; sentenceList = spiltSentence(document);</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; docs = convertSentenceListToDocument(sentenceList);</span><br><span class="line">        TextRankSentence textRank = <span class="keyword">new</span> TextRankSentence(docs);</span><br><span class="line">        <span class="keyword">int</span>[] topSentence = textRank.getTopSentence(size);</span><br><span class="line">        List&lt;String&gt; resultList = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : topSentence)</span><br><span class="line">        &#123;</span><br><span class="line">            resultList.add(sentenceList.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 一句话调用接口</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> document   目标文档</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> max_length 需要摘要的长度</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 摘要文本</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getSummary</span><span class="params">(String document, <span class="keyword">int</span> max_length)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; sentenceList = spiltSentence(document);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> sentence_count = sentenceList.size();</span><br><span class="line">        <span class="keyword">int</span> document_length = document.length();</span><br><span class="line">        <span class="keyword">int</span> sentence_length_avg = document_length / sentence_count;</span><br><span class="line">        <span class="keyword">int</span> size = max_length / sentence_length_avg + <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">"sentence_count:"</span>+sentence_count);</span><br><span class="line">        System.out.println(<span class="string">"document_length:"</span>+document_length);</span><br><span class="line">        System.out.println(<span class="string">"sentence_length_avg:"</span>+sentence_length_avg);</span><br><span class="line">        System.out.println(<span class="string">"size:"</span>+size);</span><br><span class="line">        </span><br><span class="line">        List&lt;String&gt; resultList = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; docs = convertSentenceListToDocument(sentenceList);</span><br><span class="line">        </span><br><span class="line">        TextRankSentence textRank = <span class="keyword">new</span> TextRankSentence(docs);</span><br><span class="line">        <span class="keyword">int</span>[] topSentence = textRank.getTopSentence(size);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : topSentence)&#123;</span><br><span class="line">            resultList.add(sentenceList.get(i));</span><br><span class="line">            </span><br><span class="line">            System.out.println(<span class="string">"topSentence:"</span>+sentenceList.get(i));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        resultList = permutation(resultList, sentenceList);</span><br><span class="line">        resultList = pick_sentences(resultList, max_length);</span><br><span class="line">        </span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> join(<span class="string">"。"</span>, resultList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 排列</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">permutation</span><span class="params">(List&lt;String&gt; resultList, List&lt;String&gt; sentenceList)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index_buffer_x;</span><br><span class="line">        <span class="keyword">int</span> index_buffer_y;</span><br><span class="line">        String sen_x;</span><br><span class="line">        String sen_y;</span><br><span class="line">        <span class="keyword">int</span> length = resultList.size();</span><br><span class="line">        <span class="comment">// bubble sort derivative</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> offset = <span class="number">0</span>; offset &lt; length - i; offset++)&#123;</span><br><span class="line">                sen_x = resultList.get(i);</span><br><span class="line">                sen_y = resultList.get(i + offset);</span><br><span class="line">                index_buffer_x = sentenceList.indexOf(sen_x);</span><br><span class="line">                index_buffer_y = sentenceList.indexOf(sen_y);</span><br><span class="line">                <span class="comment">// if the sentence order in sentenceList does not conform that is in resultList, reverse it</span></span><br><span class="line">                <span class="keyword">if</span> (index_buffer_x &gt; index_buffer_y)&#123;</span><br><span class="line">                    resultList.set(i, sen_y);</span><br><span class="line">                    resultList.set(i + offset, sen_x);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 选句</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">pick_sentences</span><span class="params">(List&lt;String&gt; resultList, <span class="keyword">int</span> max_length)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> length_counter = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> length_buffer;</span><br><span class="line">        <span class="keyword">int</span> length_jump;</span><br><span class="line">        List&lt;String&gt; resultBuffer = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; resultList.size(); i++)&#123;</span><br><span class="line">            length_buffer = length_counter + resultList.get(i).length();</span><br><span class="line">            <span class="keyword">if</span> (length_buffer &lt;= max_length)&#123;</span><br><span class="line">                resultBuffer.add(resultList.get(i));</span><br><span class="line">                length_counter += resultList.get(i).length();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (i &lt; (resultList.size() - <span class="number">1</span>))&#123;</span><br><span class="line">                length_jump = length_counter + resultList.get(i + <span class="number">1</span>).length();</span><br><span class="line">                <span class="keyword">if</span> (length_jump &lt;= max_length)&#123;</span><br><span class="line">                    resultBuffer.add(resultList.get(i + <span class="number">1</span>));</span><br><span class="line">                    length_counter += resultList.get(i + <span class="number">1</span>).length();</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> resultBuffer;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 连接 </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">join</span><span class="params">(String delimiter, Collection&lt;String&gt; stringCollection)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder(stringCollection.size() * (<span class="number">16</span> + delimiter.length()));</span><br><span class="line">        <span class="keyword">for</span> (String str : stringCollection)&#123;</span><br><span class="line">            sb.append(str).append(delimiter);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>BM25.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 搜索相关性评分算法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> hankcs</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BM25</span></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文档句子的个数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">int</span> D;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文档句子的平均长度</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">double</span> avgdl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 拆分为[句子[单词]]形式的文档</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    List&lt;List&lt;String&gt;&gt; docs;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文档中每个句子中的每个词与词频</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Map&lt;String, Integer&gt;[] f;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文档中全部词语与出现在几个句子中</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Map&lt;String, Integer&gt; df;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * IDF</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Map&lt;String, Double&gt; idf;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 调节因子</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">float</span> k1 = <span class="number">1.5f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 调节因子</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">float</span> b = <span class="number">0.75f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BM25</span><span class="params">(List&lt;List&lt;String&gt;&gt; docs)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.docs = docs;</span><br><span class="line">        D = docs.size();</span><br><span class="line">        <span class="keyword">for</span> (List&lt;String&gt; sentence : docs)&#123;</span><br><span class="line">            avgdl += sentence.size();</span><br><span class="line">        &#125;</span><br><span class="line">        avgdl /= D;</span><br><span class="line">        f = <span class="keyword">new</span> Map[D];</span><br><span class="line">        df = <span class="keyword">new</span> TreeMap&lt;String, Integer&gt;();</span><br><span class="line">        idf = <span class="keyword">new</span> TreeMap&lt;String, Double&gt;();</span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 在构造时初始化自己的所有参数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (List&lt;String&gt; sentence : docs)&#123;</span><br><span class="line">            Map&lt;String, Integer&gt; tf = <span class="keyword">new</span> TreeMap&lt;String, Integer&gt;();</span><br><span class="line">            <span class="keyword">for</span> (String word : sentence)&#123;</span><br><span class="line">                Integer freq = tf.get(word);</span><br><span class="line">                freq = (freq == <span class="keyword">null</span> ? <span class="number">0</span> : freq) + <span class="number">1</span>;</span><br><span class="line">                tf.put(word, freq);</span><br><span class="line">            &#125;</span><br><span class="line">            f[index] = tf;</span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : tf.entrySet())&#123;</span><br><span class="line">                String word = entry.getKey();</span><br><span class="line">                Integer freq = df.get(word);</span><br><span class="line">                freq = (freq == <span class="keyword">null</span> ? <span class="number">0</span> : freq) + <span class="number">1</span>;</span><br><span class="line">                df.put(word, freq);</span><br><span class="line">            &#125;</span><br><span class="line">            ++index;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : df.entrySet())&#123;</span><br><span class="line">            String word = entry.getKey();</span><br><span class="line">            Integer freq = entry.getValue();</span><br><span class="line">            idf.put(word, Math.log(D - freq + <span class="number">0.5</span>) - Math.log(freq + <span class="number">0.5</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">sim</span><span class="params">(List&lt;String&gt; sentence, <span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> score = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (String word : sentence)&#123;</span><br><span class="line">            <span class="keyword">if</span> (!f[index].containsKey(word)) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">int</span> d = docs.get(index).size();</span><br><span class="line">            Integer wf = f[index].get(word);</span><br><span class="line">            score += (idf.get(word) * wf * (k1 + <span class="number">1</span>)/ (wf + k1 * (<span class="number">1</span> - b + b * d/ avgdl)));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> score;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">double</span>[] simAll(List&lt;String&gt; sentence)&#123;</span><br><span class="line">        <span class="keyword">double</span>[] scores = <span class="keyword">new</span> <span class="keyword">double</span>[D];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; D; ++i)&#123;</span><br><span class="line">            scores[i] = sim(sentence, i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> scores;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;##文本摘要简介&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Automatic_summarization&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Automatic Summarization&lt;/a&gt; 主要有&lt;a href=&quot;http://www.cnblogs.com/chenbjin/p/4600538.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;两种方法&lt;/a&gt;。&lt;ul&gt;&lt;li&gt;Extraction : 抽取式，提取文档中已存在的关键词、句子形成摘要。&lt;/li&gt;&lt;li&gt;Abstraction: 生成式，建立抽象的语意表示，使用自然语言生成技术，形成摘要。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;##TextRank的文本摘要&lt;/p&gt;&lt;ul&gt;&lt;li&gt;TextRank的方法属于&lt;a href=&quot;https://en.wikipedia.org/wiki/Automatic_summarization#Unsupervised_approach:_TextRank&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;graph-based&lt;/a&gt; Extraction。&lt;/li&gt;&lt;li&gt;对文本中的句子重要性排序后得到摘要。&lt;/li&gt;&lt;li&gt;权值为句子间的相似度，计算两个句子的内容覆盖率。&lt;/li&gt;&lt;li&gt;与&lt;a href=&quot;blog/2016/02/06/gai-textrankwen-ben-guan-jian-zi-ti-qu-jian-jie-yu-ying-yong/&quot;&gt;TextRank关键字提取&lt;/a&gt;的不同：考虑了句子间的权值。&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Data mining" scheme="http://wuwenjie.tk/categories/Data-mining/"/>
    
      <category term="Machine Learning" scheme="http://wuwenjie.tk/categories/Data-mining/Machine-Learning/"/>
    
      <category term="NLP" scheme="http://wuwenjie.tk/categories/Data-mining/Machine-Learning/NLP/"/>
    
      <category term="java" scheme="http://wuwenjie.tk/categories/Data-mining/Machine-Learning/NLP/java/"/>
    
    
  </entry>
  
  <entry>
    <title>改-TextRank文本关键字提取简介与应用</title>
    <link href="http://wuwenjie.tk/2016/02/06/2016-04-06-gai-textrankwen-ben-guan-jian-zi-ti-qu-jian-jie-yu-ying-yong/"/>
    <id>http://wuwenjie.tk/2016/02/06/2016-04-06-gai-textrankwen-ben-guan-jian-zi-ti-qu-jian-jie-yu-ying-yong/</id>
    <published>2016-02-06T13:03:00.000Z</published>
    <updated>2016-05-11T13:18:04.000Z</updated>
    
    <content type="html"><![CDATA[<p>##TextRank与PageRank</p><ul><li>TextRank脱胎于PageRank，受其启发应用于文本处理。<a href="https://web.eecs.umich.edu/~mihalcea/papers/mihalcea.emnlp04.pdf" target="_blank" rel="noopener">-&gt;论文</a></li><li>TextRank在PageRank的基础上，引入了边的权值概念，代表两个句子的相似度。</li><li>PageRank 公式<ul><li><img src="/images/pagerank.png" alt="pagerank"></li></ul></li><li>TextRank 公式<ul><li><img src="/images/textrank.png" alt="textrank"></li></ul></li><li><a href="http://www.cnblogs.com/chenbjin/p/4600538.html" target="_blank" rel="noopener">公式解释</a><ul><li>模型描述了一个有向有权图 G =(V, E), 由点集合V和边集合E组成</li><li>图中任两点 Vi , Vj 之间边的权重为 wji</li><li>对于一个给定的点Vi, In(Vi)为指向该点的点集合, Out(Vi)为点Vi指向的点集合</li><li>d为阻尼系数,代表从图中某一特定点指向其他任意点的概率,一般取值为0.85</li></ul></li></ul><a id="more"></a><p>##关键字提取</p><ul><li>单词构成的边的权重变为0（没有相似性），<a href="http://www.hankcs.com/nlp/textrank-algorithm-to-extract-the-keywords-java-implementation.html" target="_blank" rel="noopener">权值约掉</a>，算法退化为PageRank</li><li>大致步骤：<ul><li>分词。</li><li>按预定窗口大小，依次划分单词。</li><li>计算公式，迭代、直至收敛。</li><li>对结果倒序排序，得到最重要关键词。</li></ul></li></ul><p>##测试结果</p><ul><li>某抱怨养猫新闻<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">猫 - 10.739771</span><br><span class="line">记者 - 6.869424</span><br><span class="line">居民 - 5.822851</span><br><span class="line">养 - 5.185602</span><br><span class="line">该 - 4.929795</span><br><span class="line">家 - 3.1442623</span><br><span class="line">楼 - 2.9776037</span><br><span class="line">中 - 2.8466675</span><br><span class="line">咪 - 2.7177916</span><br><span class="line">小区 - 2.664779</span><br></pre></td></tr></table></figure></li></ul><p>##java实现参考</p><ul><li>参考hankcs的实现，<a href="https://github.com/hankcs/TextRank/blob/master/src/main/java/com/hankcs/textrank/TextRankKeyword.java" target="_blank" rel="noopener">github</a></li><li>改用smartcn进行分词</li><li>算法关键：getRank</li><li>实例<figure class="highlight java"><figcaption><span>TextRankKeyword.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.TokenStream;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.cn.smart.SmartChineseAnalyzer;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.tokenattributes.CharTermAttribute;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.util.CharArraySet;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.util.Version;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * javac -cp '.:lucene-core-4.10.1.jar:lucene-analyzers-common-4.10.1.jar:lucene-analyzers-smartcn-4.10.1.jar' TextRankKeyword.java</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * java -cp '.:lucene-core-4.10.1.jar:lucene-analyzers-common-4.10.1.jar:lucene-analyzers-smartcn-4.10.1.jar' TextRankKeyword `cat a.txt` 50|grep -E '.&#123;2,&#125; - '</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 基于TextRank算法的关键字提取，适用于单文档</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> hankcs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@modify</span> wuwenjie</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TextRankKeyword</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 提取多少个关键字</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">int</span> nKeyword = <span class="number">10</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 阻尼系数（ＤａｍｐｉｎｇＦａｃｔｏｒ），一般取值为0.85</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">float</span> d = <span class="number">0.85f</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 最大迭代次数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span> max_iter = <span class="number">200</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">float</span> min_diff = <span class="number">0.001f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 提取关键词</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> document 文档内容</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> size 希望提取几个关键词</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 一个列表</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getKeywordList</span><span class="params">(String document, <span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        TextRankKeyword textRankKeyword = <span class="keyword">new</span> TextRankKeyword();</span><br><span class="line">        textRankKeyword.nKeyword = size;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> textRankKeyword.getKeyword(document);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 提取关键词</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> content</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getKeyword</span><span class="params">(String content)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    </span><br><span class="line">        Set&lt;Map.Entry&lt;String, Float&gt;&gt; entrySet = getTermAndRank(content, nKeyword).entrySet();</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;String&gt;(entrySet.size());</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Float&gt; entry : entrySet)</span><br><span class="line">        &#123;</span><br><span class="line">            result.add(entry.getKey());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 返回全部分词结果和对应的rank</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> content</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Float&gt; <span class="title">getTermAndRank</span><span class="params">(String content)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="keyword">assert</span> content != <span class="keyword">null</span>;</span><br><span class="line">        </span><br><span class="line">        CharArraySet cas = <span class="keyword">new</span> CharArraySet(<span class="number">0</span>, <span class="keyword">true</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 自定义停用词</span></span><br><span class="line">        String[] self_stop_words = &#123; <span class="string">"的"</span>, <span class="string">"在"</span>,<span class="string">"了"</span>, <span class="string">"呢"</span>, <span class="string">"，"</span>, <span class="string">"："</span>, <span class="string">","</span>,<span class="string">"是"</span>,<span class="string">"一"</span>,<span class="string">"我"</span>,<span class="string">"会"</span>,<span class="string">"这"</span>,<span class="string">"着"</span>,<span class="string">"也"</span>,<span class="string">"为"</span>,<span class="string">"里"</span>,<span class="string">"个"</span>,<span class="string">"要"</span>,<span class="string">"来"</span>,<span class="string">"与"</span>,<span class="string">"但"</span>,<span class="string">"只"</span>,<span class="string">"对"</span>,<span class="string">"就"</span>,<span class="string">"那些"</span>,<span class="string">"这些"</span>,<span class="string">"她们"</span>,<span class="string">"我们"</span>,<span class="string">"他们"</span>,<span class="string">"但是"</span>,<span class="string">"或者"</span>,<span class="string">"一个"</span>,<span class="string">"其他"</span>,<span class="string">"自己"</span>,<span class="string">"人"</span>,<span class="string">"和"</span>,<span class="string">"上"</span>,<span class="string">"不"</span>,<span class="string">"有"</span>,<span class="string">"他"</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; self_stop_words.length; i++) &#123;</span><br><span class="line">cas.add(self_stop_words[i]);</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 加入系统默认停用词</span></span><br><span class="line">Iterator&lt;Object&gt; itor = SmartChineseAnalyzer.getDefaultStopSet().iterator();</span><br><span class="line"><span class="keyword">while</span> (itor.hasNext()) &#123;</span><br><span class="line">cas.add(itor.next());</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 中英文混合分词器(其他几个分词器对中文的分析都不行)</span></span><br><span class="line">        SmartChineseAnalyzer sca = <span class="keyword">new</span> SmartChineseAnalyzer(cas);</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        List&lt;String&gt; wordList = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">TokenStream ts = sca.tokenStream(<span class="string">"field"</span>, content);</span><br><span class="line">CharTermAttribute ch = ts.addAttribute(CharTermAttribute.class);</span><br><span class="line"></span><br><span class="line">ts.reset();</span><br><span class="line"><span class="keyword">while</span> (ts.incrementToken()) &#123;</span><br><span class="line">wordList.add(ch.toString());</span><br><span class="line"><span class="comment">//System.out.print(ch.toString()+"\\");</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">ts.end();</span><br><span class="line">ts.close();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> getRank(wordList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 返回分数最高的前size个分词结果和对应的rank</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> content</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> size</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Float&gt; <span class="title">getTermAndRank</span><span class="params">(String content, Integer size)</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line"></span><br><span class="line">        Map&lt;String, Float&gt; map = getTermAndRank(content);</span><br><span class="line">        Map&lt;String, Float&gt; result = <span class="keyword">new</span> LinkedHashMap&lt;String, Float&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Float&gt; entry : <span class="keyword">new</span> MaxHeap&lt;Map.Entry&lt;String, Float&gt;&gt;(size, <span class="keyword">new</span> Comparator&lt;Map.Entry&lt;String, Float&gt;&gt;()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Map.Entry&lt;String, Float&gt; o1, Map.Entry&lt;String, Float&gt; o2)</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> o1.getValue().compareTo(o2.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).addAll(map.entrySet()).toList())</span><br><span class="line">        &#123;</span><br><span class="line">            result.put(entry.getKey(), entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 使用已经分好的词来计算rank</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> termList</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Float&gt; <span class="title">getRank</span><span class="params">(List&lt;String&gt; wordList)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        </span><br><span class="line"><span class="comment">//        System.out.println(wordList);</span></span><br><span class="line">        Map&lt;String, Set&lt;String&gt;&gt; words = <span class="keyword">new</span> TreeMap&lt;String, Set&lt;String&gt;&gt;();</span><br><span class="line">        Queue&lt;String&gt; que = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String w : wordList)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!words.containsKey(w))</span><br><span class="line">            &#123;</span><br><span class="line">                words.put(w, <span class="keyword">new</span> TreeSet&lt;String&gt;());</span><br><span class="line">            &#125;</span><br><span class="line">            que.offer(w);</span><br><span class="line">            <span class="keyword">if</span> (que.size() &gt; <span class="number">5</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                que.poll();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (String w1 : que)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (String w2 : que)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (w1.equals(w2))</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    words.get(w1).add(w2);</span><br><span class="line">                    words.get(w2).add(w1);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        System.out.println(words);</span></span><br><span class="line">        Map&lt;String, Float&gt; score = <span class="keyword">new</span> HashMap&lt;String, Float&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; max_iter; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            Map&lt;String, Float&gt; m = <span class="keyword">new</span> HashMap&lt;String, Float&gt;();</span><br><span class="line">            <span class="keyword">float</span> max_diff = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;String, Set&lt;String&gt;&gt; entry : words.entrySet())</span><br><span class="line">            &#123;</span><br><span class="line">                String key = entry.getKey();</span><br><span class="line">                Set&lt;String&gt; value = entry.getValue();</span><br><span class="line">                m.put(key, <span class="number">1</span> - d);</span><br><span class="line">                <span class="keyword">for</span> (String element : value)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">int</span> size = words.get(element).size();</span><br><span class="line">                    <span class="keyword">if</span> (key.equals(element) || size == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                    m.put(key, m.get(key) + d / size * (score.get(element) == <span class="keyword">null</span> ? <span class="number">0</span> : score.get(element)));</span><br><span class="line">                &#125;</span><br><span class="line">                max_diff = Math.max(max_diff, Math.abs(m.get(key) - (score.get(key) == <span class="keyword">null</span> ? <span class="number">0</span> : score.get(key))));</span><br><span class="line">            &#125;</span><br><span class="line">            score = m;</span><br><span class="line">            <span class="keyword">if</span> (max_diff &lt;= min_diff) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> score;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        </span><br><span class="line">        TextRankKeyword myout = <span class="keyword">new</span> TextRankKeyword();</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        Map&lt;String,Float&gt; myRank = myout.getTermAndRank(args[<span class="number">0</span>], Integer.parseInt(args[<span class="number">1</span>]));</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(String key: myRank.keySet())</span><br><span class="line">System.out.println(key + <span class="string">" - "</span> + myRank.get(key));</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><figure class="highlight java"><figcaption><span>MaxHeap.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用固定容量的优先队列模拟的最大堆，用于解决求topN大的问题</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> hankcs</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MaxHeap</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 优先队列</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> PriorityQueue&lt;E&gt; queue;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 堆的最大容量</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> maxSize;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 构造最大堆</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> maxSize 保留多少个元素</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> comparator 比较器，生成最大堆使用o1-o2，生成最小堆使用o2-o1，并修改 e.compareTo(peek) 比较规则</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MaxHeap</span><span class="params">(<span class="keyword">int</span> maxSize, Comparator&lt;E&gt; comparator)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (maxSize &lt;= <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        <span class="keyword">this</span>.maxSize = maxSize;</span><br><span class="line">        <span class="keyword">this</span>.queue = <span class="keyword">new</span> PriorityQueue&lt;E&gt;(maxSize, comparator);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加一个元素</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> e 元素</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 是否添加成功</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (queue.size() &lt; maxSize)</span><br><span class="line">        &#123; <span class="comment">// 未达到最大容量，直接添加</span></span><br><span class="line">            queue.add(e);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123; <span class="comment">// 队列已满</span></span><br><span class="line">            E peek = queue.peek();</span><br><span class="line">            <span class="keyword">if</span> (queue.comparator().compare(e, peek) &gt; <span class="number">0</span>)</span><br><span class="line">            &#123; <span class="comment">// 将新元素与当前堆顶元素比较，保留较小的元素</span></span><br><span class="line">                queue.poll();</span><br><span class="line">                queue.add(e);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加许多元素</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> collection</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MaxHeap&lt;E&gt; <span class="title">addAll</span><span class="params">(Collection&lt;E&gt; collection)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (E e : collection)</span><br><span class="line">        &#123;</span><br><span class="line">            add(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 转为有序列表，自毁性操作</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;E&gt; <span class="title">toList</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ArrayList&lt;E&gt; list = <span class="keyword">new</span> ArrayList&lt;E&gt;(queue.size());</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty())</span><br><span class="line">        &#123;</span><br><span class="line">            list.add(<span class="number">0</span>, queue.poll());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;##TextRank与PageRank&lt;/p&gt;&lt;ul&gt;&lt;li&gt;TextRank脱胎于PageRank，受其启发应用于文本处理。&lt;a href=&quot;https://web.eecs.umich.edu/~mihalcea/papers/mihalcea.emnlp04.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;-&amp;gt;论文&lt;/a&gt;&lt;/li&gt;&lt;li&gt;TextRank在PageRank的基础上，引入了边的权值概念，代表两个句子的相似度。&lt;/li&gt;&lt;li&gt;PageRank 公式&lt;ul&gt;&lt;li&gt;&lt;img src=&quot;/images/pagerank.png&quot; alt=&quot;pagerank&quot;&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;TextRank 公式&lt;ul&gt;&lt;li&gt;&lt;img src=&quot;/images/textrank.png&quot; alt=&quot;textrank&quot;&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/chenbjin/p/4600538.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;公式解释&lt;/a&gt;&lt;ul&gt;&lt;li&gt;模型描述了一个有向有权图 G =(V, E), 由点集合V和边集合E组成&lt;/li&gt;&lt;li&gt;图中任两点 Vi , Vj 之间边的权重为 wji&lt;/li&gt;&lt;li&gt;对于一个给定的点Vi, In(Vi)为指向该点的点集合, Out(Vi)为点Vi指向的点集合&lt;/li&gt;&lt;li&gt;d为阻尼系数,代表从图中某一特定点指向其他任意点的概率,一般取值为0.85&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Data mining" scheme="http://wuwenjie.tk/categories/Data-mining/"/>
    
      <category term="Machine Learning" scheme="http://wuwenjie.tk/categories/Data-mining/Machine-Learning/"/>
    
      <category term="NLP" scheme="http://wuwenjie.tk/categories/Data-mining/Machine-Learning/NLP/"/>
    
      <category term="java" scheme="http://wuwenjie.tk/categories/Data-mining/Machine-Learning/NLP/java/"/>
    
    
  </entry>
  
  <entry>
    <title>简单的JAVA NOTEPAD 记事本</title>
    <link href="http://wuwenjie.tk/2016/01/01/2016-02-01-jian-dan-de-java-notepad-ji-shi-ben/"/>
    <id>http://wuwenjie.tk/2016/01/01/2016-02-01-jian-dan-de-java-notepad-ji-shi-ben/</id>
    <published>2016-01-01T12:52:00.000Z</published>
    <updated>2016-02-01T13:18:41.000Z</updated>
    
    <content type="html"><![CDATA[<p>##前言</p><ul><li>人们一直会对JAVA有一种“丑陋”的错觉，特别是UI。</li><li>但JAVA其实是强大的、多功能的、适合网络的语言。</li><li>我们一简单的文本编辑器，管中窥豹，一探JAVA的UI设计。</li></ul><a id="more"></a><h2 id="CODE"><a href="#CODE" class="headerlink" title="CODE"></a>CODE</h2><ul><li>取名为tiff,它的样子</li><li><img src="/images/JAVA_NOTEPAD.png" alt="java notepad"></li><li></li></ul><figure class="highlight java"><figcaption><span>tiff.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.JFrame;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JPanel;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JMenuBar;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JMenu;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JMenuItem;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JTextArea;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JScrollPane;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JCheckBox;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JLabel;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JOptionPane;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JFileChooser;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JPopupMenu;</span><br><span class="line"><span class="keyword">import</span> javax.swing.UIManager;</span><br><span class="line"><span class="keyword">import</span> javax.swing.UnsupportedLookAndFeelException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowAdapter;</span><br><span class="line"><span class="keyword">import</span> java.awt.BorderLayout;</span><br><span class="line"><span class="keyword">import</span> java.awt.Dimension;</span><br><span class="line"><span class="keyword">import</span> java.awt.Toolkit;</span><br><span class="line"><span class="keyword">import</span> java.awt.Image;</span><br><span class="line"><span class="keyword">import</span> java.awt.Font;</span><br><span class="line"><span class="keyword">import</span> java.awt.datatransfer.Clipboard;</span><br><span class="line"><span class="keyword">import</span> java.awt.datatransfer.Transferable;</span><br><span class="line"><span class="keyword">import</span> java.awt.datatransfer.StringSelection;</span><br><span class="line"><span class="keyword">import</span> java.awt.datatransfer.DataFlavor;</span><br><span class="line"><span class="keyword">import</span> java.awt.datatransfer.UnsupportedFlavorException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">tiff</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    JFrame f;<span class="comment">// 框架</span></span><br><span class="line">JPanel p;<span class="comment">//面板对象</span></span><br><span class="line">JMenuBar mb; <span class="comment">// 菜单栏</span></span><br><span class="line"></span><br><span class="line">JMenu fileM,helpM,ViewM,CharM,FontM,SetM; <span class="comment">// 菜单</span></span><br><span class="line"></span><br><span class="line">JMenuItem fileMI,aboutMI,SaveMI,ExitMI,TabMI; <span class="comment">// 菜单项</span></span><br><span class="line">JMenuItem firstopenMI,uft8MI,gb1MI,bigMI,PCutMI,PCopyMI,PpasteMI;</span><br><span class="line">JMenuItem FontNMI,FontSMI,FontZMI,MasMI,LineWrapMI;</span><br><span class="line"></span><br><span class="line">JPopupMenu PM; <span class="comment">// 弹出式菜单</span></span><br><span class="line">JTextArea ta; <span class="comment">// 多行文本框</span></span><br><span class="line">String FontName_ta = <span class="string">""</span>;<span class="comment">// 字体名称</span></span><br><span class="line"><span class="keyword">int</span> FontStyle_ta = <span class="number">0</span> ,FontSize_ta = <span class="number">12</span>; <span class="comment">// 字体风格、字体大小</span></span><br><span class="line"></span><br><span class="line">JScrollPane sp;<span class="comment">//滚动条对象</span></span><br><span class="line"></span><br><span class="line">File fi; <span class="comment">// file to load</span></span><br><span class="line">String FirstOpenwith = <span class="string">"GB2312"</span>; <span class="comment">// 首选文件打开编码</span></span><br><span class="line"><span class="keyword">int</span> maxsize = <span class="number">30</span>; <span class="comment">// </span></span><br><span class="line"></span><br><span class="line">StringBuffer content = <span class="keyword">new</span> StringBuffer();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">tiff</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">f = <span class="keyword">new</span> JFrame(<span class="string">"tiff"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">// 使用相对路径，访问图片资源</span></span><br><span class="line">URL imURL = getClass().getResource(<span class="string">"res/icon.gif"</span>);</span><br><span class="line">Image image = ImageIO.read(imURL);<span class="comment">// 读取图形</span></span><br><span class="line">f.setIconImage(image);<span class="comment">//  设置图片</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">System.out.println(<span class="string">"setIconImage error："</span>+e.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f.addWindowListener(<span class="keyword">new</span> WindowAdapter()&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"windowClosing:"</span> + e);</span><br><span class="line">System.exit(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);<span class="comment">//注册窗口监听器</span></span><br><span class="line"></span><br><span class="line">MenuListener myListener=<span class="keyword">new</span> MenuListener(); <span class="comment">//创建监听对象</span></span><br><span class="line"></span><br><span class="line">p = <span class="keyword">new</span> JPanel();</span><br><span class="line">f.setContentPane(p);<span class="comment">//设置容器</span></span><br><span class="line">p.setLayout(<span class="keyword">new</span> BorderLayout()); <span class="comment">//设置布局管理器</span></span><br><span class="line"></span><br><span class="line">p.setPreferredSize(<span class="keyword">new</span> Dimension(<span class="number">300</span>,<span class="number">150</span>));<span class="comment">//设置面板区域大小</span></span><br><span class="line"><span class="comment">//p.add(t,BorderLayout.NORTH);//放置组件</span></span><br><span class="line"><span class="comment">//p.add(sp,BorderLayout.CENTER);</span></span><br><span class="line"></span><br><span class="line">mb = <span class="keyword">new</span> JMenuBar();</span><br><span class="line">f.setJMenuBar(mb);</span><br><span class="line"></span><br><span class="line">PM = <span class="keyword">new</span> JPopupMenu(); <span class="comment">// 弹出式菜单</span></span><br><span class="line">PCutMI  = <span class="keyword">new</span> JMenuItem(<span class="string">"Cut"</span>);  <span class="comment">//创建弹出菜单项</span></span><br><span class="line">PCopyMI = <span class="keyword">new</span> JMenuItem(<span class="string">"Copy"</span>);</span><br><span class="line">PpasteMI = <span class="keyword">new</span> JMenuItem(<span class="string">"Paste"</span>);</span><br><span class="line"></span><br><span class="line">PM.add(PCutMI);PM.add(PCopyMI);PM.add(PpasteMI);</span><br><span class="line"></span><br><span class="line">PCutMI.addActionListener(myListener);</span><br><span class="line">PCutMI.setActionCommand(<span class="string">"pop_cut"</span>);</span><br><span class="line">PCopyMI.addActionListener(myListener);</span><br><span class="line">PCopyMI.setActionCommand(<span class="string">"pop_copy"</span>);</span><br><span class="line">PpasteMI.addActionListener(myListener);</span><br><span class="line">PpasteMI.setActionCommand(<span class="string">"pop_paste"</span>);</span><br><span class="line"></span><br><span class="line">ta=<span class="keyword">new</span> JTextArea(<span class="number">60</span>,<span class="number">300</span>);<span class="comment">//文本区域实例化</span></span><br><span class="line">ta.setSize(<span class="number">300</span>, <span class="number">600</span>);</span><br><span class="line">ta.setFont(<span class="keyword">new</span> Font(FontName_ta,FontStyle_ta,FontSize_ta));</span><br><span class="line">sp=<span class="keyword">new</span> JScrollPane(ta);<span class="comment">//滚动条实例化</span></span><br><span class="line">p.add(sp);</span><br><span class="line"></span><br><span class="line">f.setBounds(<span class="number">250</span>, <span class="number">300</span>, <span class="number">600</span>, <span class="number">500</span>);</span><br><span class="line">p.setVisible(<span class="keyword">true</span>);</span><br><span class="line">f.setVisible(<span class="keyword">true</span>);<span class="comment">//容器可视化</span></span><br><span class="line"></span><br><span class="line">fileM=<span class="keyword">new</span> JMenu(<span class="string">"File"</span>);<span class="comment">// 创建各个菜单</span></span><br><span class="line">mb.add(fileM);<span class="comment">//在menubar中增加fileM,将菜单加入菜单条</span></span><br><span class="line">fileM.setMnemonic(<span class="string">'F'</span>);<span class="comment">// 定义访问键</span></span><br><span class="line">ViewM = <span class="keyword">new</span> JMenu(<span class="string">"View"</span>);</span><br><span class="line">mb.add(ViewM);</span><br><span class="line">ViewM.setMnemonic(<span class="string">'V'</span>);</span><br><span class="line">SetM = <span class="keyword">new</span> JMenu(<span class="string">"Settings"</span>);</span><br><span class="line">mb.add(SetM);</span><br><span class="line">SetM.setMnemonic(<span class="string">'S'</span>);</span><br><span class="line">helpM = <span class="keyword">new</span> JMenu(<span class="string">"Help"</span>);</span><br><span class="line">mb.add(helpM);</span><br><span class="line">helpM.setMnemonic(<span class="string">'H'</span>);</span><br><span class="line"></span><br><span class="line">fileMI=<span class="keyword">new</span> JMenuItem(<span class="string">"Open"</span>);<span class="comment">// 创建个菜单项</span></span><br><span class="line">fileM.add(fileMI);</span><br><span class="line">fileMI.addActionListener(<span class="keyword">new</span> ActionListener()&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 文件选择器</span></span><br><span class="line">JFileChooser chooser = <span class="keyword">new</span> JFileChooser();</span><br><span class="line">chooser.setDialogTitle(<span class="string">"Choose File To Open"</span>);</span><br><span class="line">chooser.setApproveButtonText(<span class="string">"Load"</span>);</span><br><span class="line">chooser.setApproveButtonToolTipText(</span><br><span class="line"><span class="string">"Load this file as "</span> + FirstOpenwith);</span><br><span class="line"><span class="keyword">int</span> ret = chooser.showOpenDialog(f); <span class="comment">// 显示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果文件选择失败</span></span><br><span class="line"><span class="keyword">if</span> (ret != JFileChooser.APPROVE_OPTION) &#123;</span><br><span class="line">System.out.println(<span class="string">"OPEN file not choosed"</span>);</span><br><span class="line">JOptionPane.showMessageDialog(f,</span><br><span class="line"><span class="string">"OPEN file no choosed"</span>,<span class="string">"Warning"</span>,</span><br><span class="line">                        JOptionPane.ERROR_MESSAGE);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fi = chooser.getSelectedFile(); <span class="comment">// 选择的文件路径</span></span><br><span class="line">ta.setText(readfile(fi,maxsize,FirstOpenwith,f).toString());</span><br><span class="line"><span class="comment">// 读取文件内容,设置多行文本框内容</span></span><br><span class="line"></span><br><span class="line">content = <span class="keyword">new</span> StringBuffer(<span class="string">""</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">SaveMI = <span class="keyword">new</span> JMenuItem(<span class="string">"Save"</span>);<span class="comment">// 保存</span></span><br><span class="line">fileM.add(SaveMI);</span><br><span class="line">SaveMI.addActionListener(<span class="keyword">new</span> ActionListener()&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 文件选择器</span></span><br><span class="line">JFileChooser chooser = <span class="keyword">new</span> JFileChooser();</span><br><span class="line">chooser.setDialogTitle(<span class="string">"Choose File To Save"</span>);</span><br><span class="line">chooser.setApproveButtonText(<span class="string">"Load"</span>);</span><br><span class="line">chooser.setApproveButtonToolTipText(</span><br><span class="line"><span class="string">"Save this file as "</span> + FirstOpenwith);</span><br><span class="line"><span class="keyword">int</span> ret = chooser.showSaveDialog(f); <span class="comment">// 显示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果文件选择失败</span></span><br><span class="line"><span class="keyword">if</span> (ret != JFileChooser.APPROVE_OPTION) &#123;</span><br><span class="line">System.out.println(<span class="string">"SVAE file not choosed"</span>);</span><br><span class="line">JOptionPane.showMessageDialog(f,</span><br><span class="line"><span class="string">"SAVE file no choosed"</span>,<span class="string">"Warning"</span>,</span><br><span class="line">                        JOptionPane.ERROR_MESSAGE);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fi = chooser.getSelectedFile(); <span class="comment">// 选择的文件路径</span></span><br><span class="line">System.out.println(<span class="string">"file to save: "</span> + fi);</span><br><span class="line"></span><br><span class="line">savefile(fi,ta.getText(),FirstOpenwith,f);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">fileM.addSeparator(); <span class="comment">// 添加一条横向分隔线</span></span><br><span class="line"></span><br><span class="line">ExitMI = <span class="keyword">new</span> JMenuItem(<span class="string">"Exit"</span>);<span class="comment">// 退出</span></span><br><span class="line">fileM.add(ExitMI);</span><br><span class="line">ExitMI.addActionListener(myListener);</span><br><span class="line">ExitMI.setActionCommand(<span class="string">"Exit"</span>);</span><br><span class="line"></span><br><span class="line">CharM = <span class="keyword">new</span> JMenu(<span class="string">"Charset"</span>); <span class="comment">// 字体</span></span><br><span class="line">ViewM.add(CharM);</span><br><span class="line"></span><br><span class="line">firstopenMI = <span class="keyword">new</span> JMenuItem(<span class="string">"OPEN AS"</span>);</span><br><span class="line">uft8MI = <span class="keyword">new</span> JMenuItem(<span class="string">"REOPEN AS UFT-8"</span>);</span><br><span class="line">gb1MI  = <span class="keyword">new</span> JMenuItem(<span class="string">"REOPEN AS GB2312"</span>);</span><br><span class="line">bigMI  = <span class="keyword">new</span> JMenuItem(<span class="string">"REOPEN AS Big5"</span>);;</span><br><span class="line">CharM.add(firstopenMI);CharM.add(uft8MI);</span><br><span class="line">CharM.add(gb1MI);CharM.add(bigMI);</span><br><span class="line"></span><br><span class="line">firstopenMI.addActionListener(myListener);</span><br><span class="line">firstopenMI.setActionCommand(<span class="string">"charset_firstopen"</span>);</span><br><span class="line">uft8MI.addActionListener(myListener);</span><br><span class="line">uft8MI.setActionCommand(<span class="string">"charset_UTF-8"</span>);</span><br><span class="line">gb1MI.addActionListener(myListener);</span><br><span class="line">gb1MI.setActionCommand(<span class="string">"charset_GB2312"</span>);</span><br><span class="line">bigMI.addActionListener(myListener);</span><br><span class="line">bigMI.setActionCommand(<span class="string">"charset_Big5"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 换行</span></span><br><span class="line">LineWrapMI = <span class="keyword">new</span> JMenuItem(<span class="string">"LineWrap"</span>);</span><br><span class="line">ViewM.add(LineWrapMI);</span><br><span class="line">LineWrapMI.addActionListener(myListener);</span><br><span class="line">LineWrapMI.setActionCommand(<span class="string">"linewarp"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// TAB 大小</span></span><br><span class="line">TabMI = <span class="keyword">new</span> JMenuItem(<span class="string">"Tab"</span>);</span><br><span class="line">ViewM.add(TabMI);</span><br><span class="line">TabMI.addActionListener(myListener);</span><br><span class="line">TabMI.setActionCommand(<span class="string">"tab"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字体菜单</span></span><br><span class="line">FontM = <span class="keyword">new</span> JMenu(<span class="string">"Font"</span>);</span><br><span class="line">ViewM.add(FontM);</span><br><span class="line"></span><br><span class="line">FontNMI = <span class="keyword">new</span> JMenuItem(<span class="string">"Name"</span>);</span><br><span class="line">FontSMI = <span class="keyword">new</span> JMenuItem(<span class="string">"Style"</span>);</span><br><span class="line">FontZMI = <span class="keyword">new</span> JMenuItem(<span class="string">"Size"</span>);;</span><br><span class="line">FontM.add(FontNMI);FontM.add(FontSMI);FontM.add(FontZMI);</span><br><span class="line"></span><br><span class="line">FontNMI.addActionListener(myListener);</span><br><span class="line">FontNMI.setActionCommand(<span class="string">"Font_Name"</span>);</span><br><span class="line">FontSMI.addActionListener(myListener);</span><br><span class="line">FontSMI.setActionCommand(<span class="string">"Font_Style"</span>);</span><br><span class="line">FontZMI.addActionListener(myListener);</span><br><span class="line">FontZMI.setActionCommand(<span class="string">"Font_Size"</span>);</span><br><span class="line"></span><br><span class="line">MasMI = <span class="keyword">new</span> JMenuItem(<span class="string">"File MaxSize"</span>);</span><br><span class="line">SetM.add(MasMI);</span><br><span class="line">MasMI.addActionListener(myListener);</span><br><span class="line">MasMI.setActionCommand(<span class="string">"Set_MaxSize"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 关于</span></span><br><span class="line">aboutMI = <span class="keyword">new</span> JMenuItem(<span class="string">"About"</span>);</span><br><span class="line">helpM.add(aboutMI);</span><br><span class="line">aboutMI.addActionListener(myListener);</span><br><span class="line">aboutMI.setActionCommand(<span class="string">"about"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置窗体Frame的Mouse监听对象</span></span><br><span class="line">ta.addMouseListener(<span class="keyword">new</span> MouseAdapter()&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mousePressed</span><span class="params">(MouseEvent e)</span></span>&#123; </span><br><span class="line"><span class="keyword">if</span>(e.isPopupTrigger()) <span class="comment">//弹出菜单</span></span><br><span class="line">PM.show(e.getComponent(),e.getX(),e.getY());</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseReleased</span><span class="params">(MouseEvent e)</span></span>&#123;</span><br><span class="line">mousePressed(e);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取文件内容</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> StringBuffer <span class="title">readfile</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">File fi,<span class="keyword">int</span> maxsize,String charset,JFrame f)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">StringBuffer content = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">System.gc();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (fi.isFile() &amp;&amp; fi.canRead()) &#123;</span><br><span class="line">System.out.println(<span class="string">"file path:"</span> + fi);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">FileInputStream fis=<span class="keyword">new</span> FileInputStream(fi); </span><br><span class="line"><span class="comment">//构造文件字节输入流</span></span><br><span class="line"></span><br><span class="line">Long size = fi.length() &gt;&gt; <span class="number">10</span> ;</span><br><span class="line">System.out.println(</span><br><span class="line"><span class="string">"file size:"</span> +size +<span class="string">"K MaxSize:"</span> + maxsize);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(size &gt;&gt; <span class="number">10</span> &lt;= maxsize )&#123;</span><br><span class="line"></span><br><span class="line">InputStreamReader isr = </span><br><span class="line"><span class="keyword">new</span> InputStreamReader(fis,charset);</span><br><span class="line">BufferedReader br = <span class="keyword">new</span> BufferedReader(isr);</span><br><span class="line"></span><br><span class="line">String str;</span><br><span class="line"><span class="keyword">while</span>((str=br.readLine())!=<span class="keyword">null</span>)</span><br><span class="line">content.append(str+<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">br.close(); <span class="comment">// 关闭流，释放资源</span></span><br><span class="line">isr.close();fis.close();</span><br><span class="line"></span><br><span class="line">f.setTitle(<span class="string">"tiff-"</span> + fi);</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">System.out.println(<span class="string">"large file !"</span>);</span><br><span class="line">JOptionPane.showMessageDialog(f,</span><br><span class="line"><span class="string">"large file may cause error!\n"</span> + </span><br><span class="line"><span class="string">"Please change Java Heap Memory!\n"</span> +</span><br><span class="line"><span class="string">"then use Seetings -&gt; File MaxSize"</span>,</span><br><span class="line"><span class="string">"large file"</span>,JOptionPane.ERROR_MESSAGE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception ex)&#123;</span><br><span class="line">System.out.println(<span class="string">"read file error!"</span>+ex.toString());</span><br><span class="line">JOptionPane.showMessageDialog(f,<span class="string">"Could not read file: "</span>,</span><br><span class="line"><span class="string">"Error reading file"</span>,JOptionPane.ERROR_MESSAGE);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">System.out.println(<span class="string">"open file error!"</span>);</span><br><span class="line">JOptionPane.showMessageDialog(f,<span class="string">"Could not open file: "</span> + fi,</span><br><span class="line"><span class="string">"Error opening file"</span>,JOptionPane.ERROR_MESSAGE);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> content;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 保存文件</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">savefile</span><span class="params">(File fi,String save,</span></span></span><br><span class="line"><span class="function"><span class="params">String charset,JFrame f)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!fi.exists()) &#123;</span><br><span class="line">System.out.println(<span class="string">"file save path:"</span> + fi);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">//构造文件字节输出流</span></span><br><span class="line">FileOutputStream fos=<span class="keyword">new</span> FileOutputStream(fi);</span><br><span class="line"></span><br><span class="line">OutputStreamWriter osw = </span><br><span class="line"><span class="keyword">new</span> OutputStreamWriter(fos,charset);</span><br><span class="line">BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(osw);</span><br><span class="line"></span><br><span class="line">bw.write(save,<span class="number">0</span>,save.length());</span><br><span class="line">bw.flush();</span><br><span class="line"></span><br><span class="line">fos.close();</span><br><span class="line">osw.close();</span><br><span class="line">bw.close();</span><br><span class="line"></span><br><span class="line">f.setTitle(<span class="string">"tiff-"</span> + fi);</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception ex)&#123;</span><br><span class="line">System.out.println(<span class="string">"save file error !"</span>+ex.toString());</span><br><span class="line">JOptionPane.showMessageDialog(f,<span class="string">"Could not save file: "</span>,</span><br><span class="line"><span class="string">"Error saveing file"</span>,JOptionPane.ERROR_MESSAGE);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">System.out.println(<span class="string">"save file exists !"</span>);</span><br><span class="line">JOptionPane.showMessageDialog(f,<span class="string">"save file exists: "</span> + fi ,</span><br><span class="line"><span class="string">"Saveing file"</span>,JOptionPane.WARNING_MESSAGE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 普通菜单项监听类，实现ActionListener接口,与界面解耦</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MenuListener</span> <span class="keyword">implements</span> <span class="title">ActionListener</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获得系统剪贴板</span></span><br><span class="line">Clipboard sysClip = </span><br><span class="line">Toolkit.getDefaultToolkit().getSystemClipboard();</span><br><span class="line">Transferable cutText;<span class="comment">// 获取剪切文字</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>(e.getActionCommand())&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">"Exit"</span>: <span class="comment">//如果选Exit菜单项，结束</span></span><br><span class="line">System.out.println(<span class="string">"MenuLis:Exit!"</span>);</span><br><span class="line">System.exit(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"charset_firstopen"</span>:</span><br><span class="line">FirstOpenwith = JOptionPane.showInputDialog(f,</span><br><span class="line"><span class="string">"First Open Charset Name Like UTF-8"</span>,</span><br><span class="line"><span class="string">"Change Charset Name"</span>,</span><br><span class="line">JOptionPane.INFORMATION_MESSAGE);</span><br><span class="line">System.out.println(<span class="string">"FirstOpenwith:"</span> + FirstOpenwith);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"charset_UTF-8"</span>: <span class="comment">// 以UTF-8编码打开</span></span><br><span class="line">System.out.println(<span class="string">"MenuLis:charset_UTF-8"</span>);</span><br><span class="line"><span class="keyword">if</span>(fi!=<span class="keyword">null</span>)&#123;</span><br><span class="line"><span class="comment">// 读取文件函数,设置文字</span></span><br><span class="line">ta.setText(readfile(fi,maxsize,<span class="string">"UTF-8"</span>,f).toString());</span><br><span class="line">FirstOpenwith = <span class="string">"UTF-8"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"charset_GB2312"</span>:</span><br><span class="line">System.out.println(<span class="string">"MenuLis:charset_GB2312"</span>);</span><br><span class="line"><span class="keyword">if</span>(fi!=<span class="keyword">null</span>)&#123;</span><br><span class="line">ta.setText(readfile(fi,maxsize,<span class="string">"GB2312"</span>,f).toString());</span><br><span class="line">FirstOpenwith = <span class="string">"GB2312"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"charset_Big5"</span>:</span><br><span class="line">System.out.println(<span class="string">"MenuLis:charset_Big5"</span>);</span><br><span class="line"><span class="keyword">if</span>(fi!=<span class="keyword">null</span>)&#123;</span><br><span class="line">ta.setText(readfile(fi,maxsize,<span class="string">"Big5"</span>,f).toString());</span><br><span class="line">FirstOpenwith = <span class="string">"Big5"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"pop_cut"</span>: <span class="comment">// 弹出式菜单 剪切</span></span><br><span class="line">System.out.print(<span class="string">"MenuLis:pop_cut"</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">" "</span> + ta.getSelectionStart()</span><br><span class="line">+ <span class="string">":"</span> + ta.getSelectionEnd());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取剪切文字</span></span><br><span class="line">cutText = <span class="keyword">new</span> StringSelection(ta.getSelectedText());</span><br><span class="line"><span class="comment">// 剪切文字赋到系统剪贴板</span></span><br><span class="line">sysClip.setContents(cutText,<span class="keyword">null</span>);</span><br><span class="line"><span class="comment">// 替换</span></span><br><span class="line">ta.replaceRange(<span class="string">""</span>,ta.getSelectionStart(),ta.getSelectionEnd());</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"pop_copy"</span>: <span class="comment">// 弹出式菜单 复制</span></span><br><span class="line">System.out.print(<span class="string">"MenuLis:pop_copy"</span>);</span><br><span class="line">System.out.println(<span class="string">" "</span> + ta.getSelectionStart()</span><br><span class="line">+ <span class="string">":"</span> + ta.getSelectionEnd());</span><br><span class="line"><span class="comment">// 获取剪切文字</span></span><br><span class="line">cutText = <span class="keyword">new</span> StringSelection(ta.getSelectedText());</span><br><span class="line"><span class="comment">// 剪切文字赋到系统剪贴板</span></span><br><span class="line">sysClip.setContents(cutText,<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"pop_paste"</span>: <span class="comment">// 弹出式菜单 黏贴</span></span><br><span class="line">System.out.print(<span class="string">"MenuLis:pop_paste"</span>);</span><br><span class="line">System.out.println(<span class="string">" "</span> + ta.getSelectionStart()</span><br><span class="line">+ <span class="string">":"</span> + ta.getSelectionEnd());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 替换已选取的文本为空</span></span><br><span class="line">ta.replaceRange(<span class="string">""</span>,ta.getSelectionStart(),ta.getSelectionEnd());</span><br><span class="line"></span><br><span class="line">Transferable clip = sysClip.getContents(<span class="keyword">null</span>); <span class="comment">// 获取系统剪贴板</span></span><br><span class="line"><span class="keyword">if</span>(clip != <span class="keyword">null</span> <span class="comment">// 是否为空 是否支持字符型</span></span><br><span class="line">&amp; clip.isDataFlavorSupported(DataFlavor.stringFlavor))&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">ta.insert((String)clip.getTransferData(DataFlavor.stringFlavor),</span><br><span class="line">ta.getSelectionStart());<span class="comment">// 插入剪贴板字符文字</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(UnsupportedFlavorException ue)&#123;</span><br><span class="line">System.out.println(<span class="string">"Unsupport Flavor error:"</span> + ue.toString());</span><br><span class="line">&#125;<span class="keyword">catch</span>(IOException ie)&#123;</span><br><span class="line">System.out.println(<span class="string">"IO error:"</span> + ie.toString());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"tab"</span>: <span class="comment">// 设置tab大小</span></span><br><span class="line">System.out.println(<span class="string">"MenuLis:tab"</span>);</span><br><span class="line">ta.setTabSize(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">"linewarp"</span>: <span class="comment">// 换行</span></span><br><span class="line">System.out.println(<span class="string">"MenuLis:linewarp"</span>);</span><br><span class="line"><span class="keyword">if</span>(!ta.getLineWrap())</span><br><span class="line">ta.setLineWrap(<span class="keyword">true</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">ta.setLineWrap(<span class="keyword">false</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"Font_Name"</span>: <span class="comment">// 字体名称</span></span><br><span class="line">System.out.print(<span class="string">"MenuLis:Font_Name"</span>);</span><br><span class="line"></span><br><span class="line">FontName_ta = JOptionPane.showInputDialog(f,</span><br><span class="line"><span class="string">"Font Name"</span>,<span class="string">"Change Font Name"</span>,</span><br><span class="line">JOptionPane.INFORMATION_MESSAGE);</span><br><span class="line">System.out.println(<span class="string">":"</span> + FontName_ta);</span><br><span class="line"></span><br><span class="line">ta.setFont(<span class="keyword">new</span> Font(FontName_ta,FontStyle_ta,FontSize_ta));</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"Font_Style"</span>: <span class="comment">// 字体风格</span></span><br><span class="line">System.out.print(<span class="string">"MenuLis:Font_Style"</span>);</span><br><span class="line"></span><br><span class="line">String FontStyle = JOptionPane.showInputDialog(f,</span><br><span class="line"><span class="string">"Font Style 0-3"</span>,<span class="string">"Change Font Style"</span>,</span><br><span class="line">JOptionPane.INFORMATION_MESSAGE);</span><br><span class="line">System.out.println(<span class="string">":"</span> + FontStyle_ta);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">FontStyle_ta = Integer.parseInt(FontStyle);</span><br><span class="line">&#125;<span class="keyword">catch</span>(NumberFormatException nfe)&#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">"Number Formaterror:"</span> + nfe.toString());</span><br><span class="line">JOptionPane.showMessageDialog(f,<span class="string">"Please input Integer!"</span>,</span><br><span class="line"><span class="string">"Error Change Font Style"</span>,JOptionPane.ERROR_MESSAGE);</span><br><span class="line">&#125;</span><br><span class="line">ta.setFont(<span class="keyword">new</span> Font(FontName_ta,FontStyle_ta,FontSize_ta));</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"Font_Size"</span>: <span class="comment">// 字体大小</span></span><br><span class="line">System.out.print(<span class="string">"MenuLis:Font_Size"</span>);</span><br><span class="line"></span><br><span class="line">String FontSize = JOptionPane.showInputDialog(f,</span><br><span class="line"><span class="string">"Font Size"</span>,<span class="string">"Change Font Size"</span>,</span><br><span class="line">JOptionPane.INFORMATION_MESSAGE);</span><br><span class="line">System.out.println(<span class="string">":"</span> + FontSize);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">FontSize_ta = Integer.parseInt(FontSize);</span><br><span class="line">&#125;<span class="keyword">catch</span>(NumberFormatException nfe)&#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">"Number Formaterror:"</span> + nfe.toString());</span><br><span class="line">JOptionPane.showMessageDialog(f,<span class="string">"Please input Integer!"</span>,</span><br><span class="line"><span class="string">"Error Change Font Size"</span>,JOptionPane.ERROR_MESSAGE);</span><br><span class="line">&#125;</span><br><span class="line">ta.setFont(<span class="keyword">new</span> Font(FontName_ta,FontStyle_ta,FontSize_ta));</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"Set_MaxSize"</span>: <span class="comment">// 设置文件打开大小</span></span><br><span class="line">System.out.print(<span class="string">"MenuLis:Set_MaxSize"</span>);</span><br><span class="line"></span><br><span class="line">String maxSize = <span class="string">""</span>;</span><br><span class="line">maxSize = JOptionPane.showInputDialog(f,</span><br><span class="line"><span class="string">"Open File MAX Size IN (MB)"</span>,<span class="string">"Change File MAX Size"</span>,</span><br><span class="line">JOptionPane.INFORMATION_MESSAGE);</span><br><span class="line">System.out.println(<span class="string">": "</span> + maxSize + <span class="string">" MB."</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!(maxSize == <span class="string">""</span> | maxSize == <span class="keyword">null</span>))&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">maxsize = Integer.parseInt(maxSize);</span><br><span class="line">&#125;<span class="keyword">catch</span>(NumberFormatException nfe)&#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">"Number Formaterror:"</span> + nfe.toString());</span><br><span class="line">JOptionPane.showMessageDialog(f,<span class="string">"Please input Integer!"</span>,</span><br><span class="line"><span class="string">"Error Change Font Size"</span>,JOptionPane.ERROR_MESSAGE);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"about"</span>: <span class="comment">// 关于</span></span><br><span class="line">System.out.println(<span class="string">"MenuLis:about"</span>);</span><br><span class="line">JOptionPane.showMessageDialog(f,</span><br><span class="line"><span class="string">"tiff is a free software like a simple notepad.\n"</span> +</span><br><span class="line"><span class="string">"Use JAVA Swing.\n"</span> +</span><br><span class="line"><span class="string">"AUTHOR:WWJ\nVERSION:0.0.1 20150518"</span>,</span><br><span class="line"><span class="string">"FREE SOFTWARE [tiff]"</span>,</span><br><span class="line">JOptionPane.INFORMATION_MESSAGE);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125; <span class="comment">// switch</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">// MenuListener</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String[]args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置UI界面风格</span></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(Math.random() &gt; <span class="number">0.4</span>)</span><br><span class="line">UIManager.setLookAndFeel(</span><br><span class="line"><span class="comment">// "com.sun.java.swing.plaf.nimbus.NimbusLookAndFeel");</span></span><br><span class="line"><span class="comment">// "com.sun.java.swing.plaf.windows.WindowsLookAndFeel");</span></span><br><span class="line"><span class="string">"javax.swing.plaf.nimbus.NimbusLookAndFeel"</span>);</span><br><span class="line"><span class="comment">// "javax.swing.plaf.synth.SynthLookAndFeel");</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">UIManager.setLookAndFeel(</span><br><span class="line"><span class="string">"com.sun.java.swing.plaf.windows.WindowsLookAndFeel"</span>);</span><br><span class="line">&#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">System.out.println(<span class="string">"setLookFeel no found error:"</span> + e.toString());</span><br><span class="line">&#125;<span class="keyword">catch</span>(InstantiationException e)&#123;</span><br><span class="line">System.out.println(<span class="string">"setLookFeel instant error:"</span>+e.toString());</span><br><span class="line">&#125;<span class="keyword">catch</span>(IllegalAccessException e)&#123;</span><br><span class="line">System.out.println(<span class="string">"setLookFeel Access error:"</span>+e.toString());</span><br><span class="line">&#125;<span class="keyword">catch</span>(UnsupportedLookAndFeelException e)&#123;</span><br><span class="line">System.out.println(<span class="string">"setLookFeel support error:"</span>+e.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> tiff();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;##前言&lt;/p&gt;&lt;ul&gt;&lt;li&gt;人们一直会对JAVA有一种“丑陋”的错觉，特别是UI。&lt;/li&gt;&lt;li&gt;但JAVA其实是强大的、多功能的、适合网络的语言。&lt;/li&gt;&lt;li&gt;我们一简单的文本编辑器，管中窥豹，一探JAVA的UI设计。&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="java" scheme="http://wuwenjie.tk/categories/java/"/>
    
    
  </entry>
  
  <entry>
    <title>BIG_DATA杂谈(2)-hadoop探究《三国演义》的词频-改</title>
    <link href="http://wuwenjie.tk/2015/11/27/2015-12-27-big-dataza-tan-2-hadooptan-jiu-san-guo-yan-yi-de-ci-pin-gai/"/>
    <id>http://wuwenjie.tk/2015/11/27/2015-12-27-big-dataza-tan-2-hadooptan-jiu-san-guo-yan-yi-de-ci-pin-gai/</id>
    <published>2015-11-27T12:36:00.000Z</published>
    <updated>2015-12-27T13:56:16.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="与传统文化的碰撞"><a href="#与传统文化的碰撞" class="headerlink" title="与传统文化的碰撞"></a>与传统文化的碰撞</h2><ul><li>虽然这个时代日新月异，但古老的故事依然让人们留恋。</li><li>此次用hadoop从另一个方面，探究一下脍炙人口的《三国演义》。</li></ul><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><ul><li>利用lucene的<a href="http://lucene.apache.org/core/5_4_0/analyzers-smartcn/index.html" target="_blank" rel="noopener">smartcn</a>进行分词，结合<a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-hadoop2/" target="_blank" rel="noopener">hadoop的编写wordcount</a>，进行词频统计。</li></ul><h2 id="难点"><a href="#难点" class="headerlink" title="难点"></a>难点</h2><ul><li>编译与运行包含第三方jar包的hadoop程序。</li></ul><a id="more"></a><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ul><li><p>启动hdfs与yarn</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/hello/bigdata/hadoop-2.7.1 <span class="comment">#hadoop所在文件夹</span></span><br><span class="line">sbin/start-dfs.sh</span><br><span class="line">sbin/start-yarn.sh</span><br><span class="line">jps</span><br></pre></td></tr></table></figure></li><li><p>hadoop执行准备工作</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=<span class="string">"/usr/lib/jvm/java-7-openjdk-i386"</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$&#123;PATH&#125;</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_CLASSPATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/lib/tools.jar</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>编写WordCountOrder 进行词频统计</p><ul><li>cd ~/hello/bigdata/hadoop_ex/wordcount<figure class="highlight java"><figcaption><span>WordCountOrder.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.StringTokenizer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.FileSystem;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.Path;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.WritableComparable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Job;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Reducer;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.input.FileInputFormat;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.input.SequenceFileInputFormat;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.map.InverseMapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.output.SequenceFileOutputFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.util.GenericOptionsParser;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.TokenStream;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.cn.smart.SmartChineseAnalyzer;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.tokenattributes.CharTermAttribute;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.util.CharArraySet;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.util.Version;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WordCountOrder</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">TokenizerMapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">Object</span>, <span class="title">Text</span>, <span class="title">Text</span>, <span class="title">IntWritable</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> IntWritable one = <span class="keyword">new</span> IntWritable(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">private</span> Text word = <span class="keyword">new</span> Text();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(Object key, Text value, Context context)</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> IOException, InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">String[] self_stop_words = &#123; "的", "在","了", "呢", "是"&#125;;</span></span><br><span class="line"><span class="comment">CharArraySet cas = new CharArraySet(0, true);</span></span><br><span class="line"><span class="comment">for(int i = 0; i &lt; self_stop_words.length; i++) &#123;</span></span><br><span class="line"><span class="comment">  cas.add(self_stop_words[i]);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">// 加入系统默认停用词</span></span><br><span class="line"><span class="comment">Iterator&lt;Object&gt; itor = SmartChineseAnalyzer.getDefaultStopSet().iterator();</span></span><br><span class="line"><span class="comment">while (itor.hasNext()) &#123;</span></span><br><span class="line"><span class="comment">cas.add(itor.next());</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 中英文混合分词器</span></span><br><span class="line">SmartChineseAnalyzer sca = <span class="keyword">new</span> SmartChineseAnalyzer();</span><br><span class="line"><span class="comment">//SmartChineseAnalyzer sca = new SmartChineseAnalyzer(cas);</span></span><br><span class="line"></span><br><span class="line">            TokenStream ts = sca.tokenStream(<span class="string">"field"</span>, value.toString());</span><br><span class="line">            CharTermAttribute ch = ts.addAttribute(CharTermAttribute.class);</span><br><span class="line"></span><br><span class="line">            ts.reset();</span><br><span class="line">            <span class="keyword">while</span> (ts.incrementToken()) &#123;</span><br><span class="line">                word.set(ch.toString());</span><br><span class="line">context.write(word, one);</span><br><span class="line">            &#125;</span><br><span class="line">            ts.end();</span><br><span class="line">            ts.close();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntSumReducer</span> <span class="keyword">extends</span></span></span><br><span class="line"><span class="class"><span class="title">Reducer</span>&lt;<span class="title">Text</span>, <span class="title">IntWritable</span>, <span class="title">Text</span>, <span class="title">IntWritable</span>&gt; </span>&#123;</span><br><span class="line"><span class="keyword">private</span> IntWritable result = <span class="keyword">new</span> IntWritable();</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reduce</span><span class="params">(Text key, Iterable&lt;IntWritable&gt; values,</span></span></span><br><span class="line"><span class="function"><span class="params">Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException </span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (IntWritable val : values) &#123;</span><br><span class="line">sum += val.get();</span><br><span class="line">&#125;</span><br><span class="line">result.set(sum);</span><br><span class="line">context.write(key, result);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntWritableDecreasingComparator</span> <span class="keyword">extends</span> <span class="title">IntWritable</span>.<span class="title">Comparator</span> </span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(WritableComparable a, WritableComparable b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="keyword">super</span>.compare(a, b);</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">byte</span>[] b1, <span class="keyword">int</span> s1, <span class="keyword">int</span> l1, <span class="keyword">byte</span>[] b2, <span class="keyword">int</span> s2, <span class="keyword">int</span> l2)</span> </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> -<span class="keyword">super</span>.compare(b1, s1, l1, b2, s2, l2);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">Configuration conf = <span class="keyword">new</span> Configuration();</span><br><span class="line">String[] otherArgs = <span class="keyword">new</span> GenericOptionsParser(conf, args)</span><br><span class="line">.getRemainingArgs();</span><br><span class="line"><span class="keyword">if</span> (otherArgs.length != <span class="number">2</span>) &#123;</span><br><span class="line">System.err.println(<span class="string">"Usage: wordcount &lt;in&gt; &lt;out&gt;"</span>);</span><br><span class="line">System.exit(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line">Path tempDir = <span class="keyword">new</span> Path(<span class="string">"wordcount-temp-"</span> + Integer.toString(</span><br><span class="line"><span class="keyword">new</span> Random().nextInt(Integer.MAX_VALUE))); <span class="comment">//定义一个临时目录</span></span><br><span class="line"></span><br><span class="line">Job job = Job.getInstance(conf, <span class="string">"word count"</span>);</span><br><span class="line">job.setJarByClass(WordCountOrder.class);</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">job.setMapperClass(TokenizerMapper.class);</span><br><span class="line">job.setCombinerClass(IntSumReducer.class);</span><br><span class="line">job.setReducerClass(IntSumReducer.class);</span><br><span class="line"></span><br><span class="line">job.setOutputKeyClass(Text.class);</span><br><span class="line">job.setOutputValueClass(IntWritable.class);</span><br><span class="line"></span><br><span class="line">FileInputFormat.addInputPath(job, <span class="keyword">new</span> Path(otherArgs[<span class="number">0</span>]));</span><br><span class="line">FileOutputFormat.setOutputPath(job, tempDir);</span><br><span class="line"><span class="comment">//先将词频统计任务的输出结果写到临时目录中, 下一个排序任务以临时目录为输入目录。</span></span><br><span class="line"></span><br><span class="line">job.setOutputFormatClass(SequenceFileOutputFormat.class);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(job.waitForCompletion(<span class="keyword">true</span>))&#123; <span class="comment">//当word count结束</span></span><br><span class="line"></span><br><span class="line">Job sortJob = Job.getInstance(conf, <span class="string">"sort"</span>);</span><br><span class="line">sortJob.setJarByClass(WordCountOrder.class);</span><br><span class="line"></span><br><span class="line">FileInputFormat.addInputPath(sortJob, tempDir);</span><br><span class="line">sortJob.setInputFormatClass(SequenceFileInputFormat.class);</span><br><span class="line"></span><br><span class="line">            sortJob.setMapperClass(InverseMapper.class);</span><br><span class="line">            <span class="comment">//InverseMapper作用是实现map()之后的数据对的key和value交换</span></span><br><span class="line">            sortJob.setNumReduceTasks(<span class="number">1</span>);</span><br><span class="line">            <span class="comment">// Reducer 的个数限定为1, 最终输出的结果文件就是一个</span></span><br><span class="line">            FileOutputFormat.setOutputPath(sortJob, <span class="keyword">new</span> Path(otherArgs[<span class="number">1</span>]));</span><br><span class="line">            </span><br><span class="line">        sortJob.setOutputKeyClass(IntWritable.class);</span><br><span class="line">sortJob.setOutputValueClass(Text.class);</span><br><span class="line"><span class="comment">/* Hadoop 默认对 IntWritable 按升序排序，而我们需要的是按降序排列。</span></span><br><span class="line"><span class="comment"> * 因此实现了 IntWritableDecreasingComparator 类,　</span></span><br><span class="line"><span class="comment"> * 并指定使用这个自定义的 Comparator 类对输出结果中的 key (词频)进行排序*/</span></span><br><span class="line">            sortJob.setSortComparatorClass(IntWritableDecreasingComparator.class);</span><br><span class="line"> </span><br><span class="line">System.exit(sortJob.waitForCompletion(<span class="keyword">true</span>) ? <span class="number">0</span> : <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">FileSystem.get(conf).deleteOnExit(tempDir);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>编译java代码并打包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">hadoop=<span class="string">"../../hadoop-2.7.1/bin/hadoop"</span></span><br><span class="line">javac -cp `<span class="variable">$hadoop</span> classpath`<span class="string">':lucene-core-4.10.1.jar:lucene-analyzers-common-4.10.1.jar:lucene-analyzers-smartcn-4.10.1.jar'</span> WordCountOrder.java</span><br><span class="line">jar cf wcr.jar WordCountOrder*.class</span><br></pre></td></tr></table></figure></li><li><p><img src="/images/hadoop-001.png" alt="hadoop-001"></p></li><li><p>察看hdfs内容</p></li><li><p>../../hadoop-2.7.1/bin/hdfs dfs -ls -R /</p></li><li><p><img src="/images/hadoop-002.png" alt="hadoop-002"></p></li><li><p>运行hadoop程序</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="built_in">export</span> LIBJARS=lucene-core-4.10.1.jar,lucene-analyzers-common-4.10.1.jar,lucene-analyzers-smartcn-4.10.1.jar</span><br><span class="line">../../hadoop-2.7.1/bin/hadoop jar wcr.jar WordCountOrder -libjars <span class="variable">$&#123;LIBJARS&#125;</span> /hadoop/test3 /hadoop/out</span><br></pre></td></tr></table></figure></li><li><p>运行察看界面</p></li><li><p><img src="/images/hadoop-003.png" alt="hadoop-003"></p></li><li><p>察看词频统计结果</p></li><li><p>../../hadoop-2.7.1/bin/hdfs dfs -cat /hadoop/out/part-r-00000 &gt; out.txt</p><ul><li><p>cat out.txt | grep ‘[[:digit:]]{1,}[[:blank:]].{1}$’|head</p></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">8503    曰</span><br><span class="line">7077之</span><br><span class="line">3880不</span><br><span class="line">3730兵</span><br><span class="line">3495人</span><br><span class="line">3087一</span><br><span class="line">2590有</span><br><span class="line">2516军</span><br><span class="line">2389大</span><br><span class="line">2343于</span><br></pre></td></tr></table></figure></li><li><p>cat out.txt | grep ‘[[:digit:]]{1,}[[:blank:]].{2}$’|head</p></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">880 曹操</span><br><span class="line">837将军</span><br><span class="line">541司马</span><br><span class="line">512丞相</span><br><span class="line">494关公</span><br><span class="line">420不可</span><br><span class="line">406荆州</span><br><span class="line">372夏侯</span><br><span class="line">367如此</span><br><span class="line">321主公</span><br></pre></td></tr></table></figure></li><li><p>cat out.txt | grep ‘[[:digit:]]{1,}[[:blank:]].{3}$’|head</p></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">146   诸葛亮</span><br><span class="line">48大将军</span><br><span class="line">34刀斧手</span><br><span class="line">30中郎将</span><br><span class="line">29阳平关</span><br><span class="line">28不得已</span><br><span class="line">24大丈夫</span><br><span class="line">23不可不</span><br><span class="line">18弓弩手</span><br><span class="line">15东南风</span><br></pre></td></tr></table></figure></li><li><p>cat out.txt | grep ‘[[:digit:]]{1,}[[:blank:]].{4,}$’|head</p></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">24    决一死战</span><br><span class="line">22措手不及</span><br><span class="line">18不计其数</span><br><span class="line">16深沟高垒</span><br><span class="line">15按兵不动</span><br><span class="line">14所到之处</span><br><span class="line">13勃然大怒</span><br><span class="line">13出其不意</span><br><span class="line">12人困马乏</span><br><span class="line">11将计就计</span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h2><ul><li>从短短几字就不难看出，《三国演义》的主要人物、地点、策略。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;与传统文化的碰撞&quot;&gt;&lt;a href=&quot;#与传统文化的碰撞&quot; class=&quot;headerlink&quot; title=&quot;与传统文化的碰撞&quot;&gt;&lt;/a&gt;与传统文化的碰撞&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;虽然这个时代日新月异，但古老的故事依然让人们留恋。&lt;/li&gt;&lt;li&gt;此次用hadoop从另一个方面，探究一下脍炙人口的《三国演义》。&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;原理&quot;&gt;&lt;a href=&quot;#原理&quot; class=&quot;headerlink&quot; title=&quot;原理&quot;&gt;&lt;/a&gt;原理&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;利用lucene的&lt;a href=&quot;http://lucene.apache.org/core/5_4_0/analyzers-smartcn/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;smartcn&lt;/a&gt;进行分词，结合&lt;a href=&quot;https://www.ibm.com/developerworks/cn/opensource/os-cn-hadoop2/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;hadoop的编写wordcount&lt;/a&gt;，进行词频统计。&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;难点&quot;&gt;&lt;a href=&quot;#难点&quot; class=&quot;headerlink&quot; title=&quot;难点&quot;&gt;&lt;/a&gt;难点&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;编译与运行包含第三方jar包的hadoop程序。&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Data mining" scheme="http://wuwenjie.tk/categories/Data-mining/"/>
    
      <category term="dig data" scheme="http://wuwenjie.tk/categories/Data-mining/dig-data/"/>
    
      <category term="hadoop" scheme="http://wuwenjie.tk/categories/Data-mining/dig-data/hadoop/"/>
    
      <category term="java" scheme="http://wuwenjie.tk/categories/Data-mining/dig-data/hadoop/java/"/>
    
      <category term="三国" scheme="http://wuwenjie.tk/categories/Data-mining/dig-data/hadoop/java/%E4%B8%89%E5%9B%BD/"/>
    
    
  </entry>
  
  <entry>
    <title>BIG_DATA杂谈(1)-简单的hadoop伪分布式配置与测试</title>
    <link href="http://wuwenjie.tk/2015/10/31/2015-11-21-big-dataza-tan-1-jian-dan-de-hadoopwei-fen-bu-shi-pei-zhi-yu-ce-shi/"/>
    <id>http://wuwenjie.tk/2015/10/31/2015-11-21-big-dataza-tan-1-jian-dan-de-hadoopwei-fen-bu-shi-pei-zhi-yu-ce-shi/</id>
    <published>2015-10-31T12:23:00.000Z</published>
    <updated>2015-12-27T12:37:22.000Z</updated>
    
    <content type="html"><![CDATA[<p>##前言</p><ul><li><a href="https://zh.wikipedia.org/wiki/%E5%A4%A7%E6%95%B8%E6%93%9A" target="_blank" rel="noopener">Big Data</a> and <a href="https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD" target="_blank" rel="noopener">AI</a>‘s age has coming!</li><li>面对海量的数据，传统方式已无法满足用户高效地使用和处理数据了。</li><li><a href="http://hadoop.apache.org" target="_blank" rel="noopener">hadoop</a>的意义非同一般，它赋予了人们面对bigdata的信心和能力，同时也开创了一个时代，</li><li>它是一个可靠的、可扩展的、分布式的计算框架,给予人们PB级的计算处理能力。</li><li>由<a href="https://en.wikipedia.org/wiki/Doug_Cutting" target="_blank" rel="noopener">Doug Cutting</a>根据谷歌公司发表的MapReduce和GFS的论文自行实现而成。</li><li>诞生历史：Lucene (1999) -&gt; Nutch (2003) -&gt; hadoop (2011)</li></ul><a id="more"></a><p>##配置</p><ul><li>对hadoop的配置资料有很多，不再赘述。可参考<a href="https://hadoop.apache.org/docs/r1.0.4/cn/quickstart.html#PseudoDistributed" target="_blank" rel="noopener">它</a></li><li>主要关注的是配置中存在的问题<ul><li>解决 错误: 找不到或无法加载主类 org.apache.hadoop.hdfs.server.namenode.NameNode<ul><li>export HADOOP_HOME=/home/wuwenjie/hello/bigdata/hadoop-2.7.1</li><li>export PATH=”${HADOOP_HOME}:$PATH”</li></ul></li><li>etc/hadoop/hadoop-env.sh 中配置JDK<ul><li>export JAVA_HOME=”/usr/lib/jvm/java-7-openjdk-i386”</li></ul></li><li>etc/hadoop 下的一些配置：<figure class="highlight xml"><figcaption><span>etc/hadoop/core-site.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.defaultFS<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://localhost:9000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>/home/wuwenjie/hello/bigdata/hadoopTmpDir<span class="tag">&lt;/<span class="name">value</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><figure class="highlight xml"><figcaption><span>etc/hadoop/hdfs-site.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.replication<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.name.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>file:///home/wuwenjie/hello/bigdata/hdfs/name<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.data.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>file:///home/wuwenjie/hello/bigdata/hdfs/data<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><figcaption><span>etc/hadoop/mapred-site.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>mapred.job.tracker<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>localhost:9001<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><figcaption><span>etc/hadoop/yarn-site.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Site specific YARN configuration properties --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>##初始化及启动</p><ul><li><p>启动hdsf：sbin/start-dfs.sh</p></li><li><p>格式化文件系统（只需一次）：bin/hdfs namenode -format</p></li><li><p>启动yarn：sbin/start-yarn.sh</p></li><li><p>察看java进程：jps</p><ul><li><p>jps命令结果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5600 ResourceManager</span><br><span class="line">5987 Jps</span><br><span class="line">5024 DataNode</span><br><span class="line">5399 SecondaryNameNode</span><br><span class="line">5890 NodeManager</span><br><span class="line">4738 NameNode</span><br></pre></td></tr></table></figure></li><li><p>解释</p><ul><li>ResourceManager：处理客户端请求启动/监控、ApplicationMaster监控、NodeManager资源分配与调度。</li><li>DataNode：HDFS工作节点，根据namenode的调度存储和检索数据，定期发送存储的block列表。</li><li>SecondaryNameNode：帮助NameNode管理Metadata数据，减小在NameNode上的压力。</li><li>NodeManager：单个节点上的资源管理、处理来自ResourceManager、ApplicationMaster的命令。</li><li>NameNode：管理HDFS的Namespace，维护所有文件和文件夹的元数据(metadata）。</li></ul></li></ul></li></ul><p>##测试</p><ul><li>在hdfs中创建文件夹和导入数据<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bin/hdfs dfs -mkdir /hadoop</span><br><span class="line">bin/hdfs dfs -mkdir /hadoop/<span class="built_in">test</span></span><br><span class="line">bin/hdfs dfs -mkdir /hadoop/out</span><br><span class="line">bin/hdfs dfs -put <span class="string">"/media/三国志.txt"</span> /hadoop/<span class="built_in">test</span></span><br></pre></td></tr></table></figure></li><li>运行内置示例：grep<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bin/hadoop jar \</span><br><span class="line">      share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.1.jar \</span><br><span class="line">      grep /hadoop/<span class="built_in">test</span> /hadoop/out <span class="string">'漢.'</span></span><br></pre></td></tr></table></figure></li><li>察看结果<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/hdfs dfs -cat /hadoop/out/part-r-00000</span><br></pre></td></tr></table></figure><ul><li>部分结果<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">41    漢書</span><br><span class="line">38漢中</span><br><span class="line">36漢晉</span><br><span class="line">34漢，</span><br><span class="line">30漢之</span><br><span class="line">29漢室</span><br><span class="line">23漢紀</span><br><span class="line">23漢氏</span><br><span class="line">16漢末</span><br><span class="line">16漢高</span><br><span class="line">14漢朝</span><br><span class="line">13漢祖</span><br><span class="line">12漢文</span><br><span class="line">12漢祚</span><br><span class="line">9漢帝</span><br><span class="line">8漢家</span><br><span class="line">7漢水</span><br></pre></td></tr></table></figure></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;##前言&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%A4%A7%E6%95%B8%E6%93%9A&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Big Data&lt;/a&gt; and &lt;a href=&quot;https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;AI&lt;/a&gt;‘s age has coming!&lt;/li&gt;&lt;li&gt;面对海量的数据，传统方式已无法满足用户高效地使用和处理数据了。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://hadoop.apache.org&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;hadoop&lt;/a&gt;的意义非同一般，它赋予了人们面对bigdata的信心和能力，同时也开创了一个时代，&lt;/li&gt;&lt;li&gt;它是一个可靠的、可扩展的、分布式的计算框架,给予人们PB级的计算处理能力。&lt;/li&gt;&lt;li&gt;由&lt;a href=&quot;https://en.wikipedia.org/wiki/Doug_Cutting&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Doug Cutting&lt;/a&gt;根据谷歌公司发表的MapReduce和GFS的论文自行实现而成。&lt;/li&gt;&lt;li&gt;诞生历史：Lucene (1999) -&amp;gt; Nutch (2003) -&amp;gt; hadoop (2011)&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Data mining" scheme="http://wuwenjie.tk/categories/Data-mining/"/>
    
      <category term="dig data" scheme="http://wuwenjie.tk/categories/Data-mining/dig-data/"/>
    
      <category term="hadoop" scheme="http://wuwenjie.tk/categories/Data-mining/dig-data/hadoop/"/>
    
      <category term="java" scheme="http://wuwenjie.tk/categories/Data-mining/dig-data/hadoop/java/"/>
    
      <category term="三国" scheme="http://wuwenjie.tk/categories/Data-mining/dig-data/hadoop/java/%E4%B8%89%E5%9B%BD/"/>
    
    
  </entry>
  
  <entry>
    <title>解决android sdk manager更新--使用JAVA SOCK代理选项</title>
    <link href="http://wuwenjie.tk/2015/09/30/2015-10-05-jie-jue-android-sdk-managergeng-xin-shi-yong-java-sockdai-li-xuan-xiang/"/>
    <id>http://wuwenjie.tk/2015/09/30/2015-10-05-jie-jue-android-sdk-managergeng-xin-shi-yong-java-sockdai-li-xuan-xiang/</id>
    <published>2015-09-30T07:43:00.000Z</published>
    <updated>2015-10-05T09:17:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>###前言</p><ul><li>我国一直努力地去做互联网的强国。<a href="http://news.xinhuanet.com/politics/2014-02/27/c_119538788.htm" target="_blank" rel="noopener">1</a></li><li>android sdk manager 无法正常更新，国情如此。</li><li>android开发者急需新版的SDK，以跟上时代。</li></ul><p>###普通方法</p><ul><li>普遍的方法是改SDK manager的http proxy。</li><li>之前用过几个地址，效果不佳，大概是失效了。</li></ul><p>###我的解决方法</p><ul><li>以linux版为例</li><li>启动sdk manager 其实是执行<strong>SDK目录下/tools/android</strong>。</li><li>它其实是一个可执行的shell脚本。<a id="more"></a></li><li>最为重要的是脚本的最后一段，添加<a href="http://docs.oracle.com/javase/7/docs/technotes/guides/net/properties.html" target="_blank" rel="noopener">java socket代理选项</a>即可。</li><li>启动执行之后即可进行使用了。</li><li>注：你必需有科学上网的工具，并能正确链接。</li></ul><p>###shell修改如下(android 文件)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exec</span> <span class="string">"<span class="variable">$java_cmd</span>"</span> \</span><br><span class="line">    -Xmx256M <span class="variable">$os_opts</span> <span class="variable">$java_debug</span> \</span><br><span class="line">    -Dcom.android.sdkmanager.toolsdir=<span class="string">"<span class="variable">$progdir</span>"</span> \</span><br><span class="line">    -DsocksProxyHost=<span class="string">"127.0.0.1"</span> \</span><br><span class="line">    -DsocksProxyPort=<span class="string">"7070"</span> \</span><br><span class="line">    -classpath <span class="string">"<span class="variable">$jarpath</span>:<span class="variable">$swtpath</span>/swt.jar"</span> \</span><br><span class="line">    com.android.sdkmanager.Main <span class="string">"<span class="variable">$@</span>"</span></span><br></pre></td></tr></table></figure><ul><li>socksProxyHost socket代理服务器地址。</li><li>socksProxyPort socket代理端口。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###前言&lt;/p&gt;&lt;ul&gt;&lt;li&gt;我国一直努力地去做互联网的强国。&lt;a href=&quot;http://news.xinhuanet.com/politics/2014-02/27/c_119538788.htm&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;1&lt;/a&gt;&lt;/li&gt;&lt;li&gt;android sdk manager 无法正常更新，国情如此。&lt;/li&gt;&lt;li&gt;android开发者急需新版的SDK，以跟上时代。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;###普通方法&lt;/p&gt;&lt;ul&gt;&lt;li&gt;普遍的方法是改SDK manager的http proxy。&lt;/li&gt;&lt;li&gt;之前用过几个地址，效果不佳，大概是失效了。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;###我的解决方法&lt;/p&gt;&lt;ul&gt;&lt;li&gt;以linux版为例&lt;/li&gt;&lt;li&gt;启动sdk manager 其实是执行&lt;strong&gt;SDK目录下/tools/android&lt;/strong&gt;。&lt;/li&gt;&lt;li&gt;它其实是一个可执行的shell脚本。
    
    </summary>
    
    
      <category term="java" scheme="http://wuwenjie.tk/categories/java/"/>
    
      <category term="android" scheme="http://wuwenjie.tk/categories/java/android/"/>
    
      <category term="shell" scheme="http://wuwenjie.tk/categories/java/android/shell/"/>
    
    
  </entry>
  
  <entry>
    <title>[转]Facebook加速deep-learning研发</title>
    <link href="http://wuwenjie.tk/2015/08/31/2015-09-05-zhuan-facebookjia-su-deep-learningyan-fa/"/>
    <id>http://wuwenjie.tk/2015/08/31/2015-09-05-zhuan-facebookjia-su-deep-learningyan-fa/</id>
    <published>2015-08-31T12:16:00.000Z</published>
    <updated>2015-09-05T13:35:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><ul><li><a href="https://zh.wikipedia.org/wiki/%E5%A4%A7%E6%95%B8%E6%93%9A" target="_blank" rel="noopener">大数据</a>时代的到来是无可质疑的，但挖掘数据背后的秘密才更具价值。</li><li>深度学习，受益于大数据的出现和大规模计算能力的提升，它是开启未来的钥匙。</li></ul><h2 id="文章简介"><a href="#文章简介" class="headerlink" title="文章简介"></a>文章简介</h2><ul><li>转载的文章是Keith Adams的一份第八届超大数据库会议（XLDB2015）报告。</li><li>报告简述了深度学习的所遇到的困难问题与解决方法。</li><li>转载文章自<a href="http://www.infoq.com/cn/news/2015/07/facebook-accelerate-deep-learnin" target="_blank" rel="noopener">infoq</a>，作者张天雷，有删改。<a id="more"></a> ##正文</li></ul><p>###前言</p><blockquote><p>近年来，人工智能领域所取得的许多进步都与“深度学习”息息相关。<br>深度学习的多层非线性结构使其具备强大的特征表达能力和对复杂任务的建模能力。<br>构建成熟的深度学习模型常常涉及到巨大的训练数据集，大的模型以及超长的计算时间，<br>因此，深层模型的并行化框架和训练加速方法是深度学习走向实用的重要基石。</p></blockquote><h3 id="随机梯度下降（SGD）"><a href="#随机梯度下降（SGD）" class="headerlink" title="随机梯度下降（SGD）"></a>随机<a href="https://zh.wikipedia.org/wiki/%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%E6%B3%95" target="_blank" rel="noopener">梯度下降</a>（SGD）</h3><ul><li>深度学习的参数训练过程中，随机梯度下降（SGD）是最常被使用的方法。</li><li>在这个过程中，通常需要很多的技巧:<ul><li>模型深度的选择</li><li>神经元个数的设定</li><li>训练权重的初始化</li><li>学习率的调整</li><li>Mini-batch的控制等等</li></ul></li><li>即便对这些技巧十分精通，实践中也要多次训练，反复摸索尝试。</li><li>此外，随机梯度下降本质上<strong>串行</strong>的.<ul><li>深层模型参数多</li><li>计算量大</li><li>训练数据的规模更大</li><li>消耗很多计算资源</li><li>训练时间会非常长</li></ul></li><li>针对深度学习面临的这些挑战，Keith介绍了他们团队在加速深度学习方面所采用几种方法。</li></ul><p>###GPGPU加速</p><ul><li>GPU（Graphic Process Units）的众核体系包含千个流处理器，可将运算并行化执行，大幅缩短模型的运算时间。</li><li>NVIDIA、AMD不断推进GPU大规模并行支持，General-Purposed GPU成为加速并行应用程序的重要手段。</li><li>GPU众核（many-core）体系结构，程序在GPU上相较于单核CPU提升几十倍乃至上千倍。</li><li>目前GPU已经发展到了较为成熟的阶段。用来训练深度神经网络，可充分发挥其数以千计核心的高效并行计算能力。</li><li>在使用海量训练数据的场景下，所耗费的时间大幅缩短，占用的服务器也更少。</li><li>如果针对适当的深度神经网络进行合理优化，一块GPU卡可相当于数十甚至上百台CPU服务器的计算能力。</li><li>GPU是深度学习模型训练方面的首选解决方案，也是Facebook当前加速深度学习的最重要方式。</li></ul><p>###数据并行（Data Parallel）</p><ul><li>数据并行是指将训练数据切分为N份，分配给N个worker对N个分片的数据并行训练。</li><li>完成数据并行训练之后，模型的梯度是所有分片数据上<strong><a href="https://zh.wikipedia.org/wiki/%E6%A2%AF%E5%BA%A6" target="_blank" rel="noopener">梯度</a></strong>的平均值，然后使用这个均值对参数进行更新。</li><li>再将更新的参数返回给N个worker进行下一次的迭代。</li><li>在训练的过程中，多个训练过程相互独立，每次迭代过程中worker之间的通信等比于参数的数量。</li><li>数据并行也存在自身的缺点，当训练数据太多时，数据并行不得不减小学习率，以保证训练过程的平稳。</li></ul><p>###模型并行（Model Parallel）</p><ul><li>将模型拆分成几个单元，每一层都可以被拆分，由不同的训练单元分别持有，共同协作完成训练。</li><li>当一个计算单元上的神经元的输入来自另一个训练单元上的神经元的输出时，不同计算单元之间就产生通信开销。</li><li>拆分单元太多时，神经元输出值的通信量会急剧增加，导致模型的效率大幅下降。</li><li>多数情况下，模型并行带来的通信开销和同步消耗超过数据并行，因此加速比也不及数据并行。</li><li>但对于单机内存无法容纳的大模型来说，模型并行提供了一个很好的选择。</li><li>亦可组合数据并行和模型并行产生混合架构。</li></ul><p>###基于<a href="https://github.com/torch/torch7" target="_blank" rel="noopener">Torch7</a>的深度学习（Productive Deep Learning with Torch7）</p><ul><li>Torch7是一个为机器学习算法提供广泛支持的科学计算框架。</li><li>神经网络工具包实现了以下基础模块，可以方便地配置出目标多层神经网络。<ul><li>均方标准差代价函数</li><li>非线性激活函数</li><li>梯度下降训练神经网络算法等</li></ul></li><li>Torch是机器学习和人工智能项目的核心。<ul><li>不仅学术界，连google、Twitter和英特尔等企业也都使用这一架构。</li></ul></li><li>Facebook开发了一些能够在Torch7上更快速地训练神经网络的模块，加快了基于Torch的深度学习项目的运行速度。<ul><li>允许开发者使用多个GPU进行参数的并行训练。</li><li>可使卷积神经网络的训练速度提升数十倍以上，而卷积神经网络是很多深度学习系统的核心。</li><li>另外，Facebook还推出了多款工具，速度常常比Torch默认工具快3至10倍。</li></ul></li></ul><p>###参数服务器架构（Parameter Server Architecture）</p><ul><li>CPU集群方案的基本架构包含：<ul><li>用于执行训练任务的Worker</li><li>用于分布式存储分发模型的参数服务器（Parameter Server）</li><li>用于协调整体任务的主控程序（Master）</li></ul></li><li>CPU集群方案适合训练GPU内存难以容纳的大模型，以及稀疏连接神经网络。</li><li>Keith还对Andrew Ng和Jeff Dean提出的参数服务器架构进行了简单介绍。<ul><li>他们在Google用1000台CPU服务器，完成了模型并行和Downpour SGD数据并行的深度神经网络训练。</li><li>Andrew Ng和Jeff Dean的这项<a href="http://papers.nips.cc/paper/4687-large-scale-distributed-deep-networks" target="_blank" rel="noopener">成果</a>发表在NIPS2012上。</li></ul></li></ul><p>###总结</p><ul><li>报告中，还提到了Tensor DSM等其他的方式用于加速深度学习。</li><li><blockquote><p>深度学习可通过学习一种深层非线性网络结构，实现复杂函数逼近，并展现了强大的学习数据集本质和高度抽象化特征的能力。</p></blockquote></li><li><blockquote><p>但是其面临的最大问题是如何解决其过长的计算时间，<br>只有强有力的基础设施和定制化的并行计算框架，才能让以往不可想象的训练任务加速完成，为深度学习走向实用奠定坚实的基础。</p></blockquote></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;引言&quot;&gt;&lt;a href=&quot;#引言&quot; class=&quot;headerlink&quot; title=&quot;引言&quot;&gt;&lt;/a&gt;引言&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%A4%A7%E6%95%B8%E6%93%9A&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;大数据&lt;/a&gt;时代的到来是无可质疑的，但挖掘数据背后的秘密才更具价值。&lt;/li&gt;&lt;li&gt;深度学习，受益于大数据的出现和大规模计算能力的提升，它是开启未来的钥匙。&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;文章简介&quot;&gt;&lt;a href=&quot;#文章简介&quot; class=&quot;headerlink&quot; title=&quot;文章简介&quot;&gt;&lt;/a&gt;文章简介&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;转载的文章是Keith Adams的一份第八届超大数据库会议（XLDB2015）报告。&lt;/li&gt;&lt;li&gt;报告简述了深度学习的所遇到的困难问题与解决方法。&lt;/li&gt;&lt;li&gt;转载文章自&lt;a href=&quot;http://www.infoq.com/cn/news/2015/07/facebook-accelerate-deep-learnin&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;infoq&lt;/a&gt;，作者张天雷，有删改。
    
    </summary>
    
    
      <category term="Data mining" scheme="http://wuwenjie.tk/categories/Data-mining/"/>
    
      <category term="deep-learning" scheme="http://wuwenjie.tk/categories/Data-mining/deep-learning/"/>
    
    
  </entry>
  
  <entry>
    <title>nginx二级目录配置--交由php处理</title>
    <link href="http://wuwenjie.tk/2015/07/31/2015-08-16-nginxer-ji-mu-lu-pei-zhi-jiao-you-phpchu-li/"/>
    <id>http://wuwenjie.tk/2015/07/31/2015-08-16-nginxer-ji-mu-lu-pei-zhi-jiao-you-phpchu-li/</id>
    <published>2015-07-31T14:36:00.000Z</published>
    <updated>2015-08-16T15:26:40.000Z</updated>
    
    <content type="html"><![CDATA[<p>###nginx？</p><ul><li>10年前，一款由俄罗斯程序员开发轻量级的代理服务器出现。</li><li>如今，<a href="https://zh.wikipedia.org/zh-cn/Nginx" target="_blank" rel="noopener">nginx</a>由于性能出色，应用广泛，受到了越来越多的关注。</li></ul><h3 id="nginx二级目录配置"><a href="#nginx二级目录配置" class="headerlink" title="nginx二级目录配置"></a>nginx二级目录配置</h3><ul><li><p>场景</p><ul><li>无域名</li><li>访问/,显示blog主页</li><li>访问/bbs（二级目录），显示php写的论坛主页</li></ul></li><li><p>ngnix配置文件及详解</p></li></ul><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line"></span><br><span class="line"># 监听80端口</span><br><span class="line">listen 80;</span><br><span class="line">server_name localhost;</span><br><span class="line"></span><br><span class="line"># pass the PHP scripts to FastCGI server listening on the php-fpm socket</span><br><span class="line"># 将PHP脚本交由监听php-fpm套接字的FastCGI服务器处理</span><br><span class="line"></span><br><span class="line"># 将请求地址 是以/bbs开始的，其中带有php字样的用以下方式处理</span><br><span class="line">location ~* /bbs/.*\.php(.*)$ &#123;</span><br><span class="line">include /etc/nginx/fastcgi_params;</span><br><span class="line"></span><br><span class="line"># 设置根目录地址，实际地址</span><br><span class="line"># 该目录下要有名为bbs的目录，将论坛系统放在目录下</span><br><span class="line">root /var/www;</span><br><span class="line"></span><br><span class="line">#交由php-fpm处理</span><br><span class="line">fastcgi_pass   unix:/var/run/php5-fpm.sock;</span><br><span class="line"></span><br><span class="line">fastcgi_index  index.php;</span><br><span class="line"></span><br><span class="line">#cgi程序的参数传递 真正执行php文件的地址</span><br><span class="line">fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># /bbs 访问设置</span><br><span class="line">location /bbs &#123;</span><br><span class="line">alias   /var/www/bbs;</span><br><span class="line">index   index.php index.html;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 主页 反向代理设置</span><br><span class="line">location / &#123;</span><br><span class="line">proxy_set_header   X-Real-IP $remote_addr;</span><br><span class="line">proxy_set_header   Host      $http_host;</span><br><span class="line">#反向代理了本地的ghost blog</span><br><span class="line">proxy_pass         http://localhost:2368;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>###相关参考</p><ul><li><a href="http://support.ghost.org/basic-nginx-config/#configure-nginx" target="_blank" rel="noopener">Basic nginx config (self-hosted with custom domain)</a></li><li><a href="http://tengine.taobao.org/book/" target="_blank" rel="noopener">Nginx开发从入门到精通</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###nginx？&lt;/p&gt;&lt;ul&gt;&lt;li&gt;10年前，一款由俄罗斯程序员开发轻量级的代理服务器出现。&lt;/li&gt;&lt;li&gt;如今，&lt;a href=&quot;https://zh.wikipedia.org/zh-cn/Nginx&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;nginx&lt;/a&gt;由于性能出色，应用广泛，受到了越来越多的关注。&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;nginx二级目录配置&quot;&gt;&lt;a href=&quot;#nginx二级目录配置&quot; class=&quot;headerlink&quot; title=&quot;nginx二级目录配置&quot;&gt;&lt;/a&gt;nginx二级目录配置&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;场景&lt;/p&gt;&lt;ul&gt;&lt;li&gt;无域名&lt;/li&gt;&lt;li&gt;访问/,显示blog主页&lt;/li&gt;&lt;li&gt;访问/bbs（二级目录），显示php写的论坛主页&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ngnix配置文件及详解&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
      <category term="nginx" scheme="http://wuwenjie.tk/categories/nginx/"/>
    
      <category term="php" scheme="http://wuwenjie.tk/categories/nginx/php/"/>
    
    
  </entry>
  
  <entry>
    <title>【转】-老子-八十一章</title>
    <link href="http://wuwenjie.tk/2015/06/29/2015-07-29-zhuan-lao-zi-81zhang/"/>
    <id>http://wuwenjie.tk/2015/06/29/2015-07-29-zhuan-lao-zi-81zhang/</id>
    <published>2015-06-29T13:50:00.000Z</published>
    <updated>2015-07-29T14:22:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>##老子-八十一章</p><p><strong>* 信言不美 美言不信 *</strong></p><a id="more"></a><p><strong>* 善者不辩 辩者不善 *</strong></p><p><strong>* 知者不博 博者不知 *</strong></p><p><strong>* 圣人不积 既以为人已愈有 既以与人己愈多 *</strong></p><p><strong>* 天之道 利而不害 人之道 为而不争 *</strong></p><ul><li><img src="/images/changzhou_wenzhengming_xiexiang.jpg" alt="长洲文徵明写像"></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;##老子-八十一章&lt;/p&gt;&lt;p&gt;&lt;strong&gt;* 信言不美 美言不信 *&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="国学" scheme="http://wuwenjie.tk/categories/%E5%9B%BD%E5%AD%A6/"/>
    
      <category term="老子" scheme="http://wuwenjie.tk/categories/%E5%9B%BD%E5%AD%A6/%E8%80%81%E5%AD%90/"/>
    
    
  </entry>
  
</feed>
